(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function kE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xm={exports:{}},Cl={};var S1;function VM(){if(S1)return Cl;S1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Cl.Fragment=e,Cl.jsx=n,Cl.jsxs=n,Cl}var E1;function $M(){return E1||(E1=1,xm.exports=VM()),xm.exports}var p=$M(),vm={exports:{}},Me={};var k1;function qM(){if(k1)return Me;k1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),x=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,E={};function C(M,G,ee){this.props=M,this.context=G,this.refs=E,this.updater=ee||w}C.prototype.isReactComponent={},C.prototype.setState=function(M,G){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,G,"setState")},C.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function O(){}O.prototype=C.prototype;function j(M,G,ee){this.props=M,this.context=G,this.refs=E,this.updater=ee||w}var B=j.prototype=new O;B.constructor=j,k(B,C.prototype),B.isPureReactComponent=!0;var U=Array.isArray;function J(){}var H={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function ne(M,G,ee){var te=ee.ref;return{$$typeof:t,type:M,key:G,ref:te!==void 0?te:null,props:ee}}function le(M,G){return ne(M.type,G,M.props)}function ke(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function Se(M){var G={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ee){return G[ee]})}var ie=/\/+/g;function X(M,G){return typeof M=="object"&&M!==null&&M.key!=null?Se(""+M.key):G.toString(36)}function K(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(J,J):(M.status="pending",M.then(function(G){M.status==="pending"&&(M.status="fulfilled",M.value=G)},function(G){M.status==="pending"&&(M.status="rejected",M.reason=G)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function R(M,G,ee,te,pe){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var ge=!1;if(M===null)ge=!0;else switch(Ce){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(M.$$typeof){case t:case e:ge=!0;break;case m:return ge=M._init,R(ge(M._payload),G,ee,te,pe)}}if(ge)return pe=pe(M),ge=te===""?"."+X(M,0):te,U(pe)?(ee="",ge!=null&&(ee=ge.replace(ie,"$&/")+"/"),R(pe,G,ee,"",function(on){return on})):pe!=null&&(ke(pe)&&(pe=le(pe,ee+(pe.key==null||M&&M.key===pe.key?"":(""+pe.key).replace(ie,"$&/")+"/")+ge)),G.push(pe)),1;ge=0;var Fe=te===""?".":te+":";if(U(M))for(var We=0;We<M.length;We++)te=M[We],Ce=Fe+X(te,We),ge+=R(te,G,ee,Ce,pe);else if(We=v(M),typeof We=="function")for(M=We.call(M),We=0;!(te=M.next()).done;)te=te.value,Ce=Fe+X(te,We++),ge+=R(te,G,ee,Ce,pe);else if(Ce==="object"){if(typeof M.then=="function")return R(K(M),G,ee,te,pe);throw G=String(M),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return ge}function F(M,G,ee){if(M==null)return M;var te=[],pe=0;return R(M,te,"","",function(Ce){return G.call(ee,Ce,pe++)}),te}function L(M){if(M._status===-1){var G=M._result;G=G(),G.then(function(ee){(M._status===0||M._status===-1)&&(M._status=1,M._result=ee)},function(ee){(M._status===0||M._status===-1)&&(M._status=2,M._result=ee)}),M._status===-1&&(M._status=0,M._result=G)}if(M._status===1)return M._result.default;throw M._result}var oe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ve={map:F,forEach:function(M,G,ee){F(M,function(){G.apply(this,arguments)},ee)},count:function(M){var G=0;return F(M,function(){G++}),G},toArray:function(M){return F(M,function(G){return G})||[]},only:function(M){if(!ke(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Me.Activity=y,Me.Children=ve,Me.Component=C,Me.Fragment=n,Me.Profiler=i,Me.PureComponent=j,Me.StrictMode=r,Me.Suspense=f,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Me.__COMPILER_RUNTIME={__proto__:null,c:function(M){return H.H.useMemoCache(M)}},Me.cache=function(M){return function(){return M.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(M,G,ee){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var te=k({},M.props),pe=M.key;if(G!=null)for(Ce in G.key!==void 0&&(pe=""+G.key),G)!V.call(G,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&G.ref===void 0||(te[Ce]=G[Ce]);var Ce=arguments.length-2;if(Ce===1)te.children=ee;else if(1<Ce){for(var ge=Array(Ce),Fe=0;Fe<Ce;Fe++)ge[Fe]=arguments[Fe+2];te.children=ge}return ne(M.type,pe,te)},Me.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},Me.createElement=function(M,G,ee){var te,pe={},Ce=null;if(G!=null)for(te in G.key!==void 0&&(Ce=""+G.key),G)V.call(G,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(pe[te]=G[te]);var ge=arguments.length-2;if(ge===1)pe.children=ee;else if(1<ge){for(var Fe=Array(ge),We=0;We<ge;We++)Fe[We]=arguments[We+2];pe.children=Fe}if(M&&M.defaultProps)for(te in ge=M.defaultProps,ge)pe[te]===void 0&&(pe[te]=ge[te]);return ne(M,Ce,pe)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(M){return{$$typeof:u,render:M}},Me.isValidElement=ke,Me.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:L}},Me.memo=function(M,G){return{$$typeof:h,type:M,compare:G===void 0?null:G}},Me.startTransition=function(M){var G=H.T,ee={};H.T=ee;try{var te=M(),pe=H.S;pe!==null&&pe(ee,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(J,oe)}catch(Ce){oe(Ce)}finally{G!==null&&ee.types!==null&&(G.types=ee.types),H.T=G}},Me.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Me.use=function(M){return H.H.use(M)},Me.useActionState=function(M,G,ee){return H.H.useActionState(M,G,ee)},Me.useCallback=function(M,G){return H.H.useCallback(M,G)},Me.useContext=function(M){return H.H.useContext(M)},Me.useDebugValue=function(){},Me.useDeferredValue=function(M,G){return H.H.useDeferredValue(M,G)},Me.useEffect=function(M,G){return H.H.useEffect(M,G)},Me.useEffectEvent=function(M){return H.H.useEffectEvent(M)},Me.useId=function(){return H.H.useId()},Me.useImperativeHandle=function(M,G,ee){return H.H.useImperativeHandle(M,G,ee)},Me.useInsertionEffect=function(M,G){return H.H.useInsertionEffect(M,G)},Me.useLayoutEffect=function(M,G){return H.H.useLayoutEffect(M,G)},Me.useMemo=function(M,G){return H.H.useMemo(M,G)},Me.useOptimistic=function(M,G){return H.H.useOptimistic(M,G)},Me.useReducer=function(M,G,ee){return H.H.useReducer(M,G,ee)},Me.useRef=function(M){return H.H.useRef(M)},Me.useState=function(M){return H.H.useState(M)},Me.useSyncExternalStore=function(M,G,ee){return H.H.useSyncExternalStore(M,G,ee)},Me.useTransition=function(){return H.H.useTransition()},Me.version="19.2.3",Me}var N1;function yc(){return N1||(N1=1,vm.exports=qM()),vm.exports}var T=yc();const Ke=kE(T);var wm={exports:{}},Tl={},Sm={exports:{}},Em={};var C1;function FM(){return C1||(C1=1,(function(t){function e(R,F){var L=R.length;R.push(F);e:for(;0<L;){var oe=L-1>>>1,ve=R[oe];if(0<i(ve,F))R[oe]=F,R[L]=ve,L=oe;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var F=R[0],L=R.pop();if(L!==F){R[0]=L;e:for(var oe=0,ve=R.length,M=ve>>>1;oe<M;){var G=2*(oe+1)-1,ee=R[G],te=G+1,pe=R[te];if(0>i(ee,L))te<ve&&0>i(pe,ee)?(R[oe]=pe,R[te]=L,oe=te):(R[oe]=ee,R[G]=L,oe=G);else if(te<ve&&0>i(pe,L))R[oe]=pe,R[te]=L,oe=te;else break e}}return F}function i(R,F){var L=R.sortIndex-F.sortIndex;return L!==0?L:R.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],h=[],m=1,y=null,x=3,v=!1,w=!1,k=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function B(R){for(var F=n(h);F!==null;){if(F.callback===null)r(h);else if(F.startTime<=R)r(h),F.sortIndex=F.expirationTime,e(f,F);else break;F=n(h)}}function U(R){if(k=!1,B(R),!w)if(n(f)!==null)w=!0,J||(J=!0,Se());else{var F=n(h);F!==null&&K(U,F.startTime-R)}}var J=!1,H=-1,V=5,ne=-1;function le(){return E?!0:!(t.unstable_now()-ne<V)}function ke(){if(E=!1,J){var R=t.unstable_now();ne=R;var F=!0;try{e:{w=!1,k&&(k=!1,O(H),H=-1),v=!0;var L=x;try{t:{for(B(R),y=n(f);y!==null&&!(y.expirationTime>R&&le());){var oe=y.callback;if(typeof oe=="function"){y.callback=null,x=y.priorityLevel;var ve=oe(y.expirationTime<=R);if(R=t.unstable_now(),typeof ve=="function"){y.callback=ve,B(R),F=!0;break t}y===n(f)&&r(f),B(R)}else r(f);y=n(f)}if(y!==null)F=!0;else{var M=n(h);M!==null&&K(U,M.startTime-R),F=!1}}break e}finally{y=null,x=L,v=!1}F=void 0}}finally{F?Se():J=!1}}}var Se;if(typeof j=="function")Se=function(){j(ke)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,X=ie.port2;ie.port1.onmessage=ke,Se=function(){X.postMessage(null)}}else Se=function(){C(ke,0)};function K(R,F){H=C(function(){R(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(R){switch(x){case 1:case 2:case 3:var F=3;break;default:F=x}var L=x;x=F;try{return R()}finally{x=L}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=x;x=R;try{return F()}finally{x=L}},t.unstable_scheduleCallback=function(R,F,L){var oe=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?oe+L:oe):L=oe,R){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=L+ve,R={id:m++,callback:F,priorityLevel:R,startTime:L,expirationTime:ve,sortIndex:-1},L>oe?(R.sortIndex=L,e(h,R),n(f)===null&&R===n(h)&&(k?(O(H),H=-1):k=!0,K(U,L-oe))):(R.sortIndex=ve,e(f,R),w||v||(w=!0,J||(J=!0,Se()))),R},t.unstable_shouldYield=le,t.unstable_wrapCallback=function(R){var F=x;return function(){var L=x;x=F;try{return R.apply(this,arguments)}finally{x=L}}}})(Em)),Em}var T1;function GM(){return T1||(T1=1,Sm.exports=FM()),Sm.exports}var km={exports:{}},Kt={};var A1;function KM(){if(A1)return Kt;A1=1;var t=yc();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:f,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Kt.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,m)},Kt.flushSync=function(f){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=m,r.d.f()}},Kt.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Kt.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Kt.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,y=u(m,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:v}):m==="script"&&r.d.X(f,{crossOrigin:y,integrity:x,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Kt.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Kt.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,y=u(m,h.crossOrigin);r.d.L(f,m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Kt.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Kt.requestFormReset=function(f){r.d.r(f)},Kt.unstable_batchedUpdates=function(f,h){return f(h)},Kt.useFormState=function(f,h,m){return l.H.useFormState(f,h,m)},Kt.useFormStatus=function(){return l.H.useHostTransitionStatus()},Kt.version="19.2.3",Kt}var M1;function NE(){if(M1)return km.exports;M1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),km.exports=KM(),km.exports}var O1;function WM(){if(O1)return Tl;O1=1;var t=GM(),e=yc(),n=NE();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(r(188))}function h(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var c=s,d=a;;){var g=c.return;if(g===null)break;var b=g.alternate;if(b===null){if(d=g.return,d!==null){c=d;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===c)return f(g),s;if(b===d)return f(g),a;b=b.sibling}throw Error(r(188))}if(c.return!==d.return)c=g,d=b;else{for(var S=!1,N=g.child;N;){if(N===c){S=!0,c=g,d=b;break}if(N===d){S=!0,d=g,c=b;break}N=N.sibling}if(!S){for(N=b.child;N;){if(N===c){S=!0,c=b,d=g;break}if(N===d){S=!0,d=b,c=g;break}N=N.sibling}if(!S)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),j=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.iterator;function Se(s){return s===null||typeof s!="object"?null:(s=ke&&s[ke]||s["@@iterator"],typeof s=="function"?s:null)}var ie=Symbol.for("react.client.reference");function X(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===ie?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case U:return"Suspense";case J:return"SuspenseList";case ne:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case j:return s.displayName||"Context";case O:return(s._context.displayName||"Context")+".Consumer";case B:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case H:return a=s.displayName||null,a!==null?a:X(s.type)||"Memo";case V:a=s._payload,s=s._init;try{return X(s(a))}catch{}}return null}var K=Array.isArray,R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},oe=[],ve=-1;function M(s){return{current:s}}function G(s){0>ve||(s.current=oe[ve],oe[ve]=null,ve--)}function ee(s,a){ve++,oe[ve]=s.current,s.current=a}var te=M(null),pe=M(null),Ce=M(null),ge=M(null);function Fe(s,a){switch(ee(Ce,a),ee(pe,s),ee(te,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Fv(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Fv(a),s=Gv(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}G(te),ee(te,s)}function We(){G(te),G(pe),G(Ce)}function on(s){s.memoizedState!==null&&ee(ge,s);var a=te.current,c=Gv(a,s.type);a!==c&&(ee(pe,s),ee(te,c))}function vn(s){pe.current===s&&(G(te),G(pe)),ge.current===s&&(G(ge),Sl._currentValue=L)}var Dn,da;function tr(s){if(Dn===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Dn=a&&a[1]||"",da=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dn+s+da}var hs=!1;function gi(s,a){if(!s||hs)return"";hs=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var P=q}Reflect.construct(s,[],Z)}else{try{Z.call()}catch(q){P=q}s.call(Z.prototype)}}else{try{throw Error()}catch(q){P=q}(Z=s())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),S=b[0],N=b[1];if(S&&N){var A=S.split(`
`),z=N.split(`
`);for(g=d=0;d<A.length&&!A[d].includes("DetermineComponentFrameRoot");)d++;for(;g<z.length&&!z[g].includes("DetermineComponentFrameRoot");)g++;if(d===A.length||g===z.length)for(d=A.length-1,g=z.length-1;1<=d&&0<=g&&A[d]!==z[g];)g--;for(;1<=d&&0<=g;d--,g--)if(A[d]!==z[g]){if(d!==1||g!==1)do if(d--,g--,0>g||A[d]!==z[g]){var Y=`
`+A[d].replace(" at new "," at ");return s.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",s.displayName)),Y}while(1<=d&&0<=g);break}}}finally{hs=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?tr(c):""}function jo(s,a){switch(s.tag){case 26:case 27:case 5:return tr(s.type);case 16:return tr("Lazy");case 13:return s.child!==a&&a!==null?tr("Suspense Fallback"):tr("Suspense");case 19:return tr("SuspenseList");case 0:case 15:return gi(s.type,!1);case 11:return gi(s.type.render,!1);case 1:return gi(s.type,!0);case 31:return tr("Activity");default:return""}}function yi(s){try{var a="",c=null;do a+=jo(s,c),c=s,s=s.return;while(s);return a}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var pr=Object.prototype.hasOwnProperty,nr=t.unstable_scheduleCallback,rr=t.unstable_cancelCallback,fa=t.unstable_shouldYield,bi=t.unstable_requestPaint,zt=t.unstable_now,re=t.unstable_getCurrentPriorityLevel,ye=t.unstable_ImmediatePriority,W=t.unstable_UserBlockingPriority,Qe=t.unstable_NormalPriority,en=t.unstable_LowPriority,Nb=t.unstable_IdlePriority,k2=t.log,N2=t.unstable_setDisableYieldValue,Do=null,wn=null;function ps(s){if(typeof k2=="function"&&N2(s),wn&&typeof wn.setStrictMode=="function")try{wn.setStrictMode(Do,s)}catch{}}var Sn=Math.clz32?Math.clz32:A2,C2=Math.log,T2=Math.LN2;function A2(s){return s>>>=0,s===0?32:31-(C2(s)/T2|0)|0}var Ic=256,zc=262144,Pc=4194304;function xi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Bc(s,a,c){var d=s.pendingLanes;if(d===0)return 0;var g=0,b=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var N=d&134217727;return N!==0?(d=N&~b,d!==0?g=xi(d):(S&=N,S!==0?g=xi(S):c||(c=N&~s,c!==0&&(g=xi(c))))):(N=d&~b,N!==0?g=xi(N):S!==0?g=xi(S):c||(c=d&~s,c!==0&&(g=xi(c)))),g===0?0:a!==0&&a!==g&&(a&b)===0&&(b=g&-g,c=a&-a,b>=c||b===32&&(c&4194048)!==0)?a:g}function Lo(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function M2(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cb(){var s=Pc;return Pc<<=1,(Pc&62914560)===0&&(Pc=4194304),s}function oh(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Io(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function O2(s,a,c,d,g,b){var S=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var N=s.entanglements,A=s.expirationTimes,z=s.hiddenUpdates;for(c=S&~c;0<c;){var Y=31-Sn(c),Z=1<<Y;N[Y]=0,A[Y]=-1;var P=z[Y];if(P!==null)for(z[Y]=null,Y=0;Y<P.length;Y++){var q=P[Y];q!==null&&(q.lane&=-536870913)}c&=~Z}d!==0&&Tb(s,d,0),b!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=b&~(S&~a))}function Tb(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var d=31-Sn(a);s.entangledLanes|=a,s.entanglements[d]=s.entanglements[d]|1073741824|c&261930}function Ab(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var d=31-Sn(c),g=1<<d;g&a|s[d]&a&&(s[d]|=a),c&=~g}}function Mb(s,a){var c=a&-a;return c=(c&42)!==0?1:lh(c),(c&(s.suspendedLanes|a))!==0?0:c}function lh(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ch(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ob(){var s=F.p;return s!==0?s:(s=window.event,s===void 0?32:m1(s.type))}function Rb(s,a){var c=F.p;try{return F.p=s,a()}finally{F.p=c}}var ms=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ms,ln="__reactProps$"+ms,ha="__reactContainer$"+ms,uh="__reactEvents$"+ms,R2="__reactListeners$"+ms,_2="__reactHandles$"+ms,_b="__reactResources$"+ms,zo="__reactMarker$"+ms;function dh(s){delete s[Pt],delete s[ln],delete s[uh],delete s[R2],delete s[_2]}function pa(s){var a=s[Pt];if(a)return a;for(var c=s.parentNode;c;){if(a=c[ha]||c[Pt]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Zv(s);s!==null;){if(c=s[Pt])return c;s=Zv(s)}return a}s=c,c=s.parentNode}return null}function ma(s){if(s=s[Pt]||s[ha]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Po(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function ga(s){var a=s[_b];return a||(a=s[_b]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Rt(s){s[zo]=!0}var jb=new Set,Db={};function vi(s,a){ya(s,a),ya(s+"Capture",a)}function ya(s,a){for(Db[s]=a,s=0;s<a.length;s++)jb.add(a[s])}var j2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lb={},Ib={};function D2(s){return pr.call(Ib,s)?!0:pr.call(Lb,s)?!1:j2.test(s)?Ib[s]=!0:(Lb[s]=!0,!1)}function Uc(s,a,c){if(D2(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function Hc(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function Ar(s,a,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+d)}}function Ln(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function zb(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function L2(s,a,c){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,b=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){c=""+S,b.call(this,S)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function fh(s){if(!s._valueTracker){var a=zb(s)?"checked":"value";s._valueTracker=L2(s,a,""+s[a])}}function Pb(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),d="";return s&&(d=zb(s)?s.checked?"true":"false":s.value),s=d,s!==c?(a.setValue(s),!0):!1}function Vc(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var I2=/[\n"\\]/g;function In(s){return s.replace(I2,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function hh(s,a,c,d,g,b,S,N){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),a!=null?S==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Ln(a)):s.value!==""+Ln(a)&&(s.value=""+Ln(a)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),a!=null?ph(s,S,Ln(a)):c!=null?ph(s,S,Ln(c)):d!=null&&s.removeAttribute("value"),g==null&&b!=null&&(s.defaultChecked=!!b),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.name=""+Ln(N):s.removeAttribute("name")}function Bb(s,a,c,d,g,b,S,N){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),a!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){fh(s);return}c=c!=null?""+Ln(c):"",a=a!=null?""+Ln(a):c,N||a===s.value||(s.value=a),s.defaultValue=a}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=N?s.checked:!!d,s.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S),fh(s)}function ph(s,a,c){a==="number"&&Vc(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function ba(s,a,c,d){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&d&&(s[c].defaultSelected=!0)}else{for(c=""+Ln(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,d&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Ub(s,a,c){if(a!=null&&(a=""+Ln(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+Ln(c):""}function Hb(s,a,c,d){if(a==null){if(d!=null){if(c!=null)throw Error(r(92));if(K(d)){if(1<d.length)throw Error(r(93));d=d[0]}c=d}c==null&&(c=""),a=c}c=Ln(a),s.defaultValue=c,d=s.textContent,d===c&&d!==""&&d!==null&&(s.value=d),fh(s)}function xa(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var z2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vb(s,a,c){var d=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":d?s.setProperty(a,c):typeof c!="number"||c===0||z2.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function $b(s,a,c){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var g in a)d=a[g],a.hasOwnProperty(g)&&c[g]!==d&&Vb(s,g,d)}else for(var b in a)a.hasOwnProperty(b)&&Vb(s,b,a[b])}function mh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var P2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),B2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $c(s){return B2.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Mr(){}var gh=null;function yh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var va=null,wa=null;function qb(s){var a=ma(s);if(a&&(s=a.stateNode)){var c=s[ln]||null;e:switch(s=a.stateNode,a.type){case"input":if(hh(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+In(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var d=c[a];if(d!==s&&d.form===s.form){var g=d[ln]||null;if(!g)throw Error(r(90));hh(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<c.length;a++)d=c[a],d.form===s.form&&Pb(d)}break e;case"textarea":Ub(s,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&ba(s,!!c.multiple,a,!1)}}}var bh=!1;function Fb(s,a,c){if(bh)return s(a,c);bh=!0;try{var d=s(a);return d}finally{if(bh=!1,(va!==null||wa!==null)&&(Ou(),va&&(a=va,s=wa,wa=va=null,qb(a),s)))for(a=0;a<s.length;a++)qb(s[a])}}function Bo(s,a){var c=s.stateNode;if(c===null)return null;var d=c[ln]||null;if(d===null)return null;c=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,a,typeof c));return c}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xh=!1;if(Or)try{var Uo={};Object.defineProperty(Uo,"passive",{get:function(){xh=!0}}),window.addEventListener("test",Uo,Uo),window.removeEventListener("test",Uo,Uo)}catch{xh=!1}var gs=null,vh=null,qc=null;function Gb(){if(qc)return qc;var s,a=vh,c=a.length,d,g="value"in gs?gs.value:gs.textContent,b=g.length;for(s=0;s<c&&a[s]===g[s];s++);var S=c-s;for(d=1;d<=S&&a[c-d]===g[b-d];d++);return qc=g.slice(s,1<d?1-d:void 0)}function Fc(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Gc(){return!0}function Kb(){return!1}function cn(s){function a(c,d,g,b,S){this._reactName=c,this._targetInst=g,this.type=d,this.nativeEvent=b,this.target=S,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(c=s[N],this[N]=c?c(b):b[N]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Gc:Kb,this.isPropagationStopped=Kb,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Gc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Gc)},persist:function(){},isPersistent:Gc}),a}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kc=cn(wi),Ho=y({},wi,{view:0,detail:0}),U2=cn(Ho),wh,Sh,Vo,Wc=y({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Vo&&(Vo&&s.type==="mousemove"?(wh=s.screenX-Vo.screenX,Sh=s.screenY-Vo.screenY):Sh=wh=0,Vo=s),wh)},movementY:function(s){return"movementY"in s?s.movementY:Sh}}),Wb=cn(Wc),H2=y({},Wc,{dataTransfer:0}),V2=cn(H2),$2=y({},Ho,{relatedTarget:0}),Eh=cn($2),q2=y({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),F2=cn(q2),G2=y({},wi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),K2=cn(G2),W2=y({},wi,{data:0}),Yb=cn(W2),Y2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q2(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=X2[s])?!!a[s]:!1}function kh(){return Q2}var Z2=y({},Ho,{key:function(s){if(s.key){var a=Y2[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Fc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?J2[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kh,charCode:function(s){return s.type==="keypress"?Fc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Fc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),eA=cn(Z2),tA=y({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jb=cn(tA),nA=y({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kh}),rA=cn(nA),sA=y({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),iA=cn(sA),aA=y({},Wc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),oA=cn(aA),lA=y({},wi,{newState:0,oldState:0}),cA=cn(lA),uA=[9,13,27,32],Nh=Or&&"CompositionEvent"in window,$o=null;Or&&"documentMode"in document&&($o=document.documentMode);var dA=Or&&"TextEvent"in window&&!$o,Xb=Or&&(!Nh||$o&&8<$o&&11>=$o),Qb=" ",Zb=!1;function e0(s,a){switch(s){case"keyup":return uA.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Sa=!1;function fA(s,a){switch(s){case"compositionend":return t0(a);case"keypress":return a.which!==32?null:(Zb=!0,Qb);case"textInput":return s=a.data,s===Qb&&Zb?null:s;default:return null}}function hA(s,a){if(Sa)return s==="compositionend"||!Nh&&e0(s,a)?(s=Gb(),qc=vh=gs=null,Sa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Xb&&a.locale!=="ko"?null:a.data;default:return null}}var pA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!pA[s.type]:a==="textarea"}function r0(s,a,c,d){va?wa?wa.push(d):wa=[d]:va=d,a=zu(a,"onChange"),0<a.length&&(c=new Kc("onChange","change",null,c,d),s.push({event:c,listeners:a}))}var qo=null,Fo=null;function mA(s){Bv(s,0)}function Yc(s){var a=Po(s);if(Pb(a))return s}function s0(s,a){if(s==="change")return a}var i0=!1;if(Or){var Ch;if(Or){var Th="oninput"in document;if(!Th){var a0=document.createElement("div");a0.setAttribute("oninput","return;"),Th=typeof a0.oninput=="function"}Ch=Th}else Ch=!1;i0=Ch&&(!document.documentMode||9<document.documentMode)}function o0(){qo&&(qo.detachEvent("onpropertychange",l0),Fo=qo=null)}function l0(s){if(s.propertyName==="value"&&Yc(Fo)){var a=[];r0(a,Fo,s,yh(s)),Fb(mA,a)}}function gA(s,a,c){s==="focusin"?(o0(),qo=a,Fo=c,qo.attachEvent("onpropertychange",l0)):s==="focusout"&&o0()}function yA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yc(Fo)}function bA(s,a){if(s==="click")return Yc(a)}function xA(s,a){if(s==="input"||s==="change")return Yc(a)}function vA(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var En=typeof Object.is=="function"?Object.is:vA;function Go(s,a){if(En(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),d=Object.keys(a);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var g=c[d];if(!pr.call(a,g)||!En(s[g],a[g]))return!1}return!0}function c0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function u0(s,a){var c=c0(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=a&&d>=a)return{node:c,offset:a-s};s=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=c0(c)}}function d0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?d0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function f0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Vc(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Vc(s.document)}return a}function Ah(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var wA=Or&&"documentMode"in document&&11>=document.documentMode,Ea=null,Mh=null,Ko=null,Oh=!1;function h0(s,a,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Oh||Ea==null||Ea!==Vc(d)||(d=Ea,"selectionStart"in d&&Ah(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ko&&Go(Ko,d)||(Ko=d,d=zu(Mh,"onSelect"),0<d.length&&(a=new Kc("onSelect","select",null,a,c),s.push({event:a,listeners:d}),a.target=Ea)))}function Si(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var ka={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionrun:Si("Transition","TransitionRun"),transitionstart:Si("Transition","TransitionStart"),transitioncancel:Si("Transition","TransitionCancel"),transitionend:Si("Transition","TransitionEnd")},Rh={},p0={};Or&&(p0=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Ei(s){if(Rh[s])return Rh[s];if(!ka[s])return s;var a=ka[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in p0)return Rh[s]=a[c];return s}var m0=Ei("animationend"),g0=Ei("animationiteration"),y0=Ei("animationstart"),SA=Ei("transitionrun"),EA=Ei("transitionstart"),kA=Ei("transitioncancel"),b0=Ei("transitionend"),x0=new Map,_h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_h.push("scrollEnd");function sr(s,a){x0.set(s,a),vi(a,[s])}var Jc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},zn=[],Na=0,jh=0;function Xc(){for(var s=Na,a=jh=Na=0;a<s;){var c=zn[a];zn[a++]=null;var d=zn[a];zn[a++]=null;var g=zn[a];zn[a++]=null;var b=zn[a];if(zn[a++]=null,d!==null&&g!==null){var S=d.pending;S===null?g.next=g:(g.next=S.next,S.next=g),d.pending=g}b!==0&&v0(c,g,b)}}function Qc(s,a,c,d){zn[Na++]=s,zn[Na++]=a,zn[Na++]=c,zn[Na++]=d,jh|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function Dh(s,a,c,d){return Qc(s,a,c,d),Zc(s)}function ki(s,a){return Qc(s,null,null,a),Zc(s)}function v0(s,a,c){s.lanes|=c;var d=s.alternate;d!==null&&(d.lanes|=c);for(var g=!1,b=s.return;b!==null;)b.childLanes|=c,d=b.alternate,d!==null&&(d.childLanes|=c),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(g=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,g&&a!==null&&(g=31-Sn(c),s=b.hiddenUpdates,d=s[g],d===null?s[g]=[a]:d.push(a),a.lane=c|536870912),b):null}function Zc(s){if(50<ml)throw ml=0,$p=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Ca={};function NA(s,a,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(s,a,c,d){return new NA(s,a,c,d)}function Lh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Rr(s,a){var c=s.alternate;return c===null?(c=kn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function w0(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function eu(s,a,c,d,g,b){var S=0;if(d=s,typeof s=="function")Lh(s)&&(S=1);else if(typeof s=="string")S=OM(s,c,te.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case ne:return s=kn(31,c,a,g),s.elementType=ne,s.lanes=b,s;case k:return Ni(c.children,g,b,a);case E:S=8,g|=24;break;case C:return s=kn(12,c,a,g|2),s.elementType=C,s.lanes=b,s;case U:return s=kn(13,c,a,g),s.elementType=U,s.lanes=b,s;case J:return s=kn(19,c,a,g),s.elementType=J,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case j:S=10;break e;case O:S=9;break e;case B:S=11;break e;case H:S=14;break e;case V:S=16,d=null;break e}S=29,c=Error(r(130,s===null?"null":typeof s,"")),d=null}return a=kn(S,c,a,g),a.elementType=s,a.type=d,a.lanes=b,a}function Ni(s,a,c,d){return s=kn(7,s,d,a),s.lanes=c,s}function Ih(s,a,c){return s=kn(6,s,null,a),s.lanes=c,s}function S0(s){var a=kn(18,null,null,0);return a.stateNode=s,a}function zh(s,a,c){return a=kn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var E0=new WeakMap;function Pn(s,a){if(typeof s=="object"&&s!==null){var c=E0.get(s);return c!==void 0?c:(a={value:s,source:a,stack:yi(a)},E0.set(s,a),a)}return{value:s,source:a,stack:yi(a)}}var Ta=[],Aa=0,tu=null,Wo=0,Bn=[],Un=0,ys=null,mr=1,gr="";function _r(s,a){Ta[Aa++]=Wo,Ta[Aa++]=tu,tu=s,Wo=a}function k0(s,a,c){Bn[Un++]=mr,Bn[Un++]=gr,Bn[Un++]=ys,ys=s;var d=mr;s=gr;var g=32-Sn(d)-1;d&=~(1<<g),c+=1;var b=32-Sn(a)+g;if(30<b){var S=g-g%5;b=(d&(1<<S)-1).toString(32),d>>=S,g-=S,mr=1<<32-Sn(a)+g|c<<g|d,gr=b+s}else mr=1<<b|c<<g|d,gr=s}function Ph(s){s.return!==null&&(_r(s,1),k0(s,1,0))}function Bh(s){for(;s===tu;)tu=Ta[--Aa],Ta[Aa]=null,Wo=Ta[--Aa],Ta[Aa]=null;for(;s===ys;)ys=Bn[--Un],Bn[Un]=null,gr=Bn[--Un],Bn[Un]=null,mr=Bn[--Un],Bn[Un]=null}function N0(s,a){Bn[Un++]=mr,Bn[Un++]=gr,Bn[Un++]=ys,mr=a.id,gr=a.overflow,ys=s}var Bt=null,at=null,Ue=!1,bs=null,Hn=!1,Uh=Error(r(519));function xs(s){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(Pn(a,s)),Uh}function C0(s){var a=s.stateNode,c=s.type,d=s.memoizedProps;switch(a[Pt]=s,a[ln]=d,c){case"dialog":ze("cancel",a),ze("close",a);break;case"iframe":case"object":case"embed":ze("load",a);break;case"video":case"audio":for(c=0;c<yl.length;c++)ze(yl[c],a);break;case"source":ze("error",a);break;case"img":case"image":case"link":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"input":ze("invalid",a),Bb(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":ze("invalid",a);break;case"textarea":ze("invalid",a),Hb(a,d.value,d.defaultValue,d.children)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||d.suppressHydrationWarning===!0||$v(a.textContent,c)?(d.popover!=null&&(ze("beforetoggle",a),ze("toggle",a)),d.onScroll!=null&&ze("scroll",a),d.onScrollEnd!=null&&ze("scrollend",a),d.onClick!=null&&(a.onclick=Mr),a=!0):a=!1,a||xs(s,!0)}function T0(s){for(Bt=s.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Bt=Bt.return}}function Ma(s){if(s!==Bt)return!1;if(!Ue)return T0(s),Ue=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||sm(s.type,s.memoizedProps)),c=!c),c&&at&&xs(s),T0(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));at=Qv(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));at=Qv(s)}else a===27?(a=at,js(s.type)?(s=cm,cm=null,at=s):at=a):at=Bt?$n(s.stateNode.nextSibling):null;return!0}function Ci(){at=Bt=null,Ue=!1}function Hh(){var s=bs;return s!==null&&(hn===null?hn=s:hn.push.apply(hn,s),bs=null),s}function Yo(s){bs===null?bs=[s]:bs.push(s)}var Vh=M(null),Ti=null,jr=null;function vs(s,a,c){ee(Vh,a._currentValue),a._currentValue=c}function Dr(s){s._currentValue=Vh.current,G(Vh)}function $h(s,a,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),s===c)break;s=s.return}}function qh(s,a,c,d){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var b=g.dependencies;if(b!==null){var S=g.child;b=b.firstContext;e:for(;b!==null;){var N=b;b=g;for(var A=0;A<a.length;A++)if(N.context===a[A]){b.lanes|=c,N=b.alternate,N!==null&&(N.lanes|=c),$h(b.return,c,s),d||(S=null);break e}b=N.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(r(341));S.lanes|=c,b=S.alternate,b!==null&&(b.lanes|=c),$h(S,c,s),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===s){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function Oa(s,a,c,d){s=null;for(var g=a,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var N=g.type;En(g.pendingProps.value,S.value)||(s!==null?s.push(N):s=[N])}}else if(g===ge.current){if(S=g.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(Sl):s=[Sl])}g=g.return}s!==null&&qh(a,s,c,d),a.flags|=262144}function nu(s){for(s=s.firstContext;s!==null;){if(!En(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ai(s){Ti=s,jr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ut(s){return A0(Ti,s)}function ru(s,a){return Ti===null&&Ai(s),A0(s,a)}function A0(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},jr===null){if(s===null)throw Error(r(308));jr=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else jr=jr.next=a;return c}var CA=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,d){s.push(d)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},TA=t.unstable_scheduleCallback,AA=t.unstable_NormalPriority,St={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new CA,data:new Map,refCount:0}}function Jo(s){s.refCount--,s.refCount===0&&TA(AA,function(){s.controller.abort()})}var Xo=null,Gh=0,Ra=0,_a=null;function MA(s,a){if(Xo===null){var c=Xo=[];Gh=0,Ra=Yp(),_a={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Gh++,a.then(M0,M0),a}function M0(){if(--Gh===0&&Xo!==null){_a!==null&&(_a.status="fulfilled");var s=Xo;Xo=null,Ra=0,_a=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function OA(s,a){var c=[],d={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return s.then(function(){d.status="fulfilled",d.value=a;for(var g=0;g<c.length;g++)(0,c[g])(a)},function(g){for(d.status="rejected",d.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),d}var O0=R.S;R.S=function(s,a){hv=zt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&MA(s,a),O0!==null&&O0(s,a)};var Mi=M(null);function Kh(){var s=Mi.current;return s!==null?s:rt.pooledCache}function su(s,a){a===null?ee(Mi,Mi.current):ee(Mi,a.pool)}function R0(){var s=Kh();return s===null?null:{parent:St._currentValue,pool:s}}var ja=Error(r(460)),Wh=Error(r(474)),iu=Error(r(542)),au={then:function(){}};function _0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function j0(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(Mr,Mr),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,L0(s),s;default:if(typeof a.status=="string")a.then(Mr,Mr);else{if(s=rt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(d){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=d}},function(d){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,L0(s),s}throw Ri=a,ja}}function Oi(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ri=c,ja):c}}var Ri=null;function D0(){if(Ri===null)throw Error(r(459));var s=Ri;return Ri=null,s}function L0(s){if(s===ja||s===iu)throw Error(r(483))}var Da=null,Qo=0;function ou(s){var a=Qo;return Qo+=1,Da===null&&(Da=[]),j0(Da,s,a)}function Zo(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function lu(s,a){throw a.$$typeof===x?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function I0(s){function a(D,_){if(s){var I=D.deletions;I===null?(D.deletions=[_],D.flags|=16):I.push(_)}}function c(D,_){if(!s)return null;for(;_!==null;)a(D,_),_=_.sibling;return null}function d(D){for(var _=new Map;D!==null;)D.key!==null?_.set(D.key,D):_.set(D.index,D),D=D.sibling;return _}function g(D,_){return D=Rr(D,_),D.index=0,D.sibling=null,D}function b(D,_,I){return D.index=I,s?(I=D.alternate,I!==null?(I=I.index,I<_?(D.flags|=67108866,_):I):(D.flags|=67108866,_)):(D.flags|=1048576,_)}function S(D){return s&&D.alternate===null&&(D.flags|=67108866),D}function N(D,_,I,Q){return _===null||_.tag!==6?(_=Ih(I,D.mode,Q),_.return=D,_):(_=g(_,I),_.return=D,_)}function A(D,_,I,Q){var xe=I.type;return xe===k?Y(D,_,I.props.children,Q,I.key):_!==null&&(_.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===V&&Oi(xe)===_.type)?(_=g(_,I.props),Zo(_,I),_.return=D,_):(_=eu(I.type,I.key,I.props,null,D.mode,Q),Zo(_,I),_.return=D,_)}function z(D,_,I,Q){return _===null||_.tag!==4||_.stateNode.containerInfo!==I.containerInfo||_.stateNode.implementation!==I.implementation?(_=zh(I,D.mode,Q),_.return=D,_):(_=g(_,I.children||[]),_.return=D,_)}function Y(D,_,I,Q,xe){return _===null||_.tag!==7?(_=Ni(I,D.mode,Q,xe),_.return=D,_):(_=g(_,I),_.return=D,_)}function Z(D,_,I){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Ih(""+_,D.mode,I),_.return=D,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case v:return I=eu(_.type,_.key,_.props,null,D.mode,I),Zo(I,_),I.return=D,I;case w:return _=zh(_,D.mode,I),_.return=D,_;case V:return _=Oi(_),Z(D,_,I)}if(K(_)||Se(_))return _=Ni(_,D.mode,I,null),_.return=D,_;if(typeof _.then=="function")return Z(D,ou(_),I);if(_.$$typeof===j)return Z(D,ru(D,_),I);lu(D,_)}return null}function P(D,_,I,Q){var xe=_!==null?_.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return xe!==null?null:N(D,_,""+I,Q);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case v:return I.key===xe?A(D,_,I,Q):null;case w:return I.key===xe?z(D,_,I,Q):null;case V:return I=Oi(I),P(D,_,I,Q)}if(K(I)||Se(I))return xe!==null?null:Y(D,_,I,Q,null);if(typeof I.then=="function")return P(D,_,ou(I),Q);if(I.$$typeof===j)return P(D,_,ru(D,I),Q);lu(D,I)}return null}function q(D,_,I,Q,xe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return D=D.get(I)||null,N(_,D,""+Q,xe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return D=D.get(Q.key===null?I:Q.key)||null,A(_,D,Q,xe);case w:return D=D.get(Q.key===null?I:Q.key)||null,z(_,D,Q,xe);case V:return Q=Oi(Q),q(D,_,I,Q,xe)}if(K(Q)||Se(Q))return D=D.get(I)||null,Y(_,D,Q,xe,null);if(typeof Q.then=="function")return q(D,_,I,ou(Q),xe);if(Q.$$typeof===j)return q(D,_,I,ru(_,Q),xe);lu(_,Q)}return null}function de(D,_,I,Q){for(var xe=null,He=null,me=_,_e=_=0,Be=null;me!==null&&_e<I.length;_e++){me.index>_e?(Be=me,me=null):Be=me.sibling;var Ve=P(D,me,I[_e],Q);if(Ve===null){me===null&&(me=Be);break}s&&me&&Ve.alternate===null&&a(D,me),_=b(Ve,_,_e),He===null?xe=Ve:He.sibling=Ve,He=Ve,me=Be}if(_e===I.length)return c(D,me),Ue&&_r(D,_e),xe;if(me===null){for(;_e<I.length;_e++)me=Z(D,I[_e],Q),me!==null&&(_=b(me,_,_e),He===null?xe=me:He.sibling=me,He=me);return Ue&&_r(D,_e),xe}for(me=d(me);_e<I.length;_e++)Be=q(me,D,_e,I[_e],Q),Be!==null&&(s&&Be.alternate!==null&&me.delete(Be.key===null?_e:Be.key),_=b(Be,_,_e),He===null?xe=Be:He.sibling=Be,He=Be);return s&&me.forEach(function(Ps){return a(D,Ps)}),Ue&&_r(D,_e),xe}function Ee(D,_,I,Q){if(I==null)throw Error(r(151));for(var xe=null,He=null,me=_,_e=_=0,Be=null,Ve=I.next();me!==null&&!Ve.done;_e++,Ve=I.next()){me.index>_e?(Be=me,me=null):Be=me.sibling;var Ps=P(D,me,Ve.value,Q);if(Ps===null){me===null&&(me=Be);break}s&&me&&Ps.alternate===null&&a(D,me),_=b(Ps,_,_e),He===null?xe=Ps:He.sibling=Ps,He=Ps,me=Be}if(Ve.done)return c(D,me),Ue&&_r(D,_e),xe;if(me===null){for(;!Ve.done;_e++,Ve=I.next())Ve=Z(D,Ve.value,Q),Ve!==null&&(_=b(Ve,_,_e),He===null?xe=Ve:He.sibling=Ve,He=Ve);return Ue&&_r(D,_e),xe}for(me=d(me);!Ve.done;_e++,Ve=I.next())Ve=q(me,D,_e,Ve.value,Q),Ve!==null&&(s&&Ve.alternate!==null&&me.delete(Ve.key===null?_e:Ve.key),_=b(Ve,_,_e),He===null?xe=Ve:He.sibling=Ve,He=Ve);return s&&me.forEach(function(HM){return a(D,HM)}),Ue&&_r(D,_e),xe}function tt(D,_,I,Q){if(typeof I=="object"&&I!==null&&I.type===k&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case v:e:{for(var xe=I.key;_!==null;){if(_.key===xe){if(xe=I.type,xe===k){if(_.tag===7){c(D,_.sibling),Q=g(_,I.props.children),Q.return=D,D=Q;break e}}else if(_.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===V&&Oi(xe)===_.type){c(D,_.sibling),Q=g(_,I.props),Zo(Q,I),Q.return=D,D=Q;break e}c(D,_);break}else a(D,_);_=_.sibling}I.type===k?(Q=Ni(I.props.children,D.mode,Q,I.key),Q.return=D,D=Q):(Q=eu(I.type,I.key,I.props,null,D.mode,Q),Zo(Q,I),Q.return=D,D=Q)}return S(D);case w:e:{for(xe=I.key;_!==null;){if(_.key===xe)if(_.tag===4&&_.stateNode.containerInfo===I.containerInfo&&_.stateNode.implementation===I.implementation){c(D,_.sibling),Q=g(_,I.children||[]),Q.return=D,D=Q;break e}else{c(D,_);break}else a(D,_);_=_.sibling}Q=zh(I,D.mode,Q),Q.return=D,D=Q}return S(D);case V:return I=Oi(I),tt(D,_,I,Q)}if(K(I))return de(D,_,I,Q);if(Se(I)){if(xe=Se(I),typeof xe!="function")throw Error(r(150));return I=xe.call(I),Ee(D,_,I,Q)}if(typeof I.then=="function")return tt(D,_,ou(I),Q);if(I.$$typeof===j)return tt(D,_,ru(D,I),Q);lu(D,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,_!==null&&_.tag===6?(c(D,_.sibling),Q=g(_,I),Q.return=D,D=Q):(c(D,_),Q=Ih(I,D.mode,Q),Q.return=D,D=Q),S(D)):c(D,_)}return function(D,_,I,Q){try{Qo=0;var xe=tt(D,_,I,Q);return Da=null,xe}catch(me){if(me===ja||me===iu)throw me;var He=kn(29,me,null,D.mode);return He.lanes=Q,He.return=D,He}}}var _i=I0(!0),z0=I0(!1),ws=!1;function Yh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ss(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Es(s,a,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Ge&2)!==0){var g=d.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),d.pending=a,a=Zc(s),v0(s,null,c),a}return Qc(s,d,a,c),Zc(s)}function el(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var d=a.lanes;d&=s.pendingLanes,c|=d,a.lanes=c,Ab(s,c)}}function Xh(s,a){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var g=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?g=b=S:b=b.next=S,c=c.next}while(c!==null);b===null?g=b=a:b=b.next=a}else g=b=a;c={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var Qh=!1;function tl(){if(Qh){var s=_a;if(s!==null)throw s}}function nl(s,a,c,d){Qh=!1;var g=s.updateQueue;ws=!1;var b=g.firstBaseUpdate,S=g.lastBaseUpdate,N=g.shared.pending;if(N!==null){g.shared.pending=null;var A=N,z=A.next;A.next=null,S===null?b=z:S.next=z,S=A;var Y=s.alternate;Y!==null&&(Y=Y.updateQueue,N=Y.lastBaseUpdate,N!==S&&(N===null?Y.firstBaseUpdate=z:N.next=z,Y.lastBaseUpdate=A))}if(b!==null){var Z=g.baseState;S=0,Y=z=A=null,N=b;do{var P=N.lane&-536870913,q=P!==N.lane;if(q?(Pe&P)===P:(d&P)===P){P!==0&&P===Ra&&(Qh=!0),Y!==null&&(Y=Y.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var de=s,Ee=N;P=a;var tt=c;switch(Ee.tag){case 1:if(de=Ee.payload,typeof de=="function"){Z=de.call(tt,Z,P);break e}Z=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Ee.payload,P=typeof de=="function"?de.call(tt,Z,P):de,P==null)break e;Z=y({},Z,P);break e;case 2:ws=!0}}P=N.callback,P!==null&&(s.flags|=64,q&&(s.flags|=8192),q=g.callbacks,q===null?g.callbacks=[P]:q.push(P))}else q={lane:P,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Y===null?(z=Y=q,A=Z):Y=Y.next=q,S|=P;if(N=N.next,N===null){if(N=g.shared.pending,N===null)break;q=N,N=q.next,q.next=null,g.lastBaseUpdate=q,g.shared.pending=null}}while(!0);Y===null&&(A=Z),g.baseState=A,g.firstBaseUpdate=z,g.lastBaseUpdate=Y,b===null&&(g.shared.lanes=0),As|=S,s.lanes=S,s.memoizedState=Z}}function P0(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function B0(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)P0(c[s],a)}var La=M(null),cu=M(0);function U0(s,a){s=$r,ee(cu,s),ee(La,a),$r=s|a.baseLanes}function Zh(){ee(cu,$r),ee(La,La.current)}function ep(){$r=cu.current,G(La),G(cu)}var Nn=M(null),Vn=null;function ks(s){var a=s.alternate;ee(vt,vt.current&1),ee(Nn,s),Vn===null&&(a===null||La.current!==null||a.memoizedState!==null)&&(Vn=s)}function tp(s){ee(vt,vt.current),ee(Nn,s),Vn===null&&(Vn=s)}function H0(s){s.tag===22?(ee(vt,vt.current),ee(Nn,s),Vn===null&&(Vn=s)):Ns()}function Ns(){ee(vt,vt.current),ee(Nn,Nn.current)}function Cn(s){G(Nn),Vn===s&&(Vn=null),G(vt)}var vt=M(0);function uu(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||om(c)||lm(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Lr=0,Oe=null,Ze=null,Et=null,du=!1,Ia=!1,ji=!1,fu=0,rl=0,za=null,RA=0;function mt(){throw Error(r(321))}function np(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!En(s[c],a[c]))return!1;return!0}function rp(s,a,c,d,g,b){return Lr=b,Oe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,R.H=s===null||s.memoizedState===null?kx:bp,ji=!1,b=c(d,g),ji=!1,Ia&&(b=$0(a,c,d,g)),V0(s),b}function V0(s){R.H=al;var a=Ze!==null&&Ze.next!==null;if(Lr=0,Et=Ze=Oe=null,du=!1,rl=0,za=null,a)throw Error(r(300));s===null||kt||(s=s.dependencies,s!==null&&nu(s)&&(kt=!0))}function $0(s,a,c,d){Oe=s;var g=0;do{if(Ia&&(za=null),rl=0,Ia=!1,25<=g)throw Error(r(301));if(g+=1,Et=Ze=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}R.H=Nx,b=a(c,d)}while(Ia);return b}function _A(){var s=R.H,a=s.useState()[0];return a=typeof a.then=="function"?sl(a):a,s=s.useState()[0],(Ze!==null?Ze.memoizedState:null)!==s&&(Oe.flags|=1024),a}function sp(){var s=fu!==0;return fu=0,s}function ip(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function ap(s){if(du){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}du=!1}Lr=0,Et=Ze=Oe=null,Ia=!1,rl=fu=0,za=null}function tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Oe.memoizedState=Et=s:Et=Et.next=s,Et}function wt(){if(Ze===null){var s=Oe.alternate;s=s!==null?s.memoizedState:null}else s=Ze.next;var a=Et===null?Oe.memoizedState:Et.next;if(a!==null)Et=a,Ze=s;else{if(s===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));Ze=s,s={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Et===null?Oe.memoizedState=Et=s:Et=Et.next=s}return Et}function hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(s){var a=rl;return rl+=1,za===null&&(za=[]),s=j0(za,s,a),a=Oe,(Et===null?a.memoizedState:Et.next)===null&&(a=a.alternate,R.H=a===null||a.memoizedState===null?kx:bp),s}function pu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return sl(s);if(s.$$typeof===j)return Ut(s)}throw Error(r(438,String(s)))}function op(s){var a=null,c=Oe.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var d=Oe.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=hu(),Oe.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),d=0;d<s;d++)c[d]=le;return a.index++,c}function Ir(s,a){return typeof a=="function"?a(s):a}function mu(s){var a=wt();return lp(a,Ze,s)}function lp(s,a,c){var d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var g=s.baseQueue,b=d.pending;if(b!==null){if(g!==null){var S=g.next;g.next=b.next,b.next=S}a.baseQueue=g=b,d.pending=null}if(b=s.baseState,g===null)s.memoizedState=b;else{a=g.next;var N=S=null,A=null,z=a,Y=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Pe&Z)===Z:(Lr&Z)===Z){var P=z.revertLane;if(P===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Ra&&(Y=!0);else if((Lr&P)===P){z=z.next,P===Ra&&(Y=!0);continue}else Z={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},A===null?(N=A=Z,S=b):A=A.next=Z,Oe.lanes|=P,As|=P;Z=z.action,ji&&c(b,Z),b=z.hasEagerState?z.eagerState:c(b,Z)}else P={lane:Z,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},A===null?(N=A=P,S=b):A=A.next=P,Oe.lanes|=Z,As|=Z;z=z.next}while(z!==null&&z!==a);if(A===null?S=b:A.next=N,!En(b,s.memoizedState)&&(kt=!0,Y&&(c=_a,c!==null)))throw c;s.memoizedState=b,s.baseState=S,s.baseQueue=A,d.lastRenderedState=b}return g===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function cp(s){var a=wt(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var d=c.dispatch,g=c.pending,b=a.memoizedState;if(g!==null){c.pending=null;var S=g=g.next;do b=s(b,S.action),S=S.next;while(S!==g);En(b,a.memoizedState)||(kt=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),c.lastRenderedState=b}return[b,d]}function q0(s,a,c){var d=Oe,g=wt(),b=Ue;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=a();var S=!En((Ze||g).memoizedState,c);if(S&&(g.memoizedState=c,kt=!0),g=g.queue,fp(K0.bind(null,d,g,s),[s]),g.getSnapshot!==a||S||Et!==null&&Et.memoizedState.tag&1){if(d.flags|=2048,Pa(9,{destroy:void 0},G0.bind(null,d,g,c,a),null),rt===null)throw Error(r(349));b||(Lr&127)!==0||F0(d,a,c)}return c}function F0(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Oe.updateQueue,a===null?(a=hu(),Oe.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function G0(s,a,c,d){a.value=c,a.getSnapshot=d,W0(a)&&Y0(s)}function K0(s,a,c){return c(function(){W0(a)&&Y0(s)})}function W0(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!En(s,c)}catch{return!0}}function Y0(s){var a=ki(s,2);a!==null&&pn(a,s,2)}function up(s){var a=tn();if(typeof s=="function"){var c=s;if(s=c(),ji){ps(!0);try{c()}finally{ps(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:s},a}function J0(s,a,c,d){return s.baseState=c,lp(s,Ze,typeof d=="function"?d:Ir)}function jA(s,a,c,d,g){if(bu(s))throw Error(r(485));if(s=a.action,s!==null){var b={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){b.listeners.push(S)}};R.T!==null?c(!0):b.isTransition=!1,d(b),c=a.pending,c===null?(b.next=a.pending=b,X0(a,b)):(b.next=c.next,a.pending=c.next=b)}}function X0(s,a){var c=a.action,d=a.payload,g=s.state;if(a.isTransition){var b=R.T,S={};R.T=S;try{var N=c(g,d),A=R.S;A!==null&&A(S,N),Q0(s,a,N)}catch(z){dp(s,a,z)}finally{b!==null&&S.types!==null&&(b.types=S.types),R.T=b}}else try{b=c(g,d),Q0(s,a,b)}catch(z){dp(s,a,z)}}function Q0(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){Z0(s,a,d)},function(d){return dp(s,a,d)}):Z0(s,a,c)}function Z0(s,a,c){a.status="fulfilled",a.value=c,ex(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,X0(s,c)))}function dp(s,a,c){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=c,ex(a),a=a.next;while(a!==d)}s.action=null}function ex(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function tx(s,a){return a}function nx(s,a){if(Ue){var c=rt.formState;if(c!==null){e:{var d=Oe;if(Ue){if(at){t:{for(var g=at,b=Hn;g.nodeType!==8;){if(!b){g=null;break t}if(g=$n(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){at=$n(g.nextSibling),d=g.data==="F!";break e}}xs(d)}d=!1}d&&(a=c[0])}}return c=tn(),c.memoizedState=c.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tx,lastRenderedState:a},c.queue=d,c=wx.bind(null,Oe,d),d.dispatch=c,d=up(!1),b=yp.bind(null,Oe,!1,d.queue),d=tn(),g={state:a,dispatch:null,action:s,pending:null},d.queue=g,c=jA.bind(null,Oe,g,b,c),g.dispatch=c,d.memoizedState=s,[a,c,!1]}function rx(s){var a=wt();return sx(a,Ze,s)}function sx(s,a,c){if(a=lp(s,a,tx)[0],s=mu(Ir)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=sl(a)}catch(S){throw S===ja?iu:S}else d=a;a=wt();var g=a.queue,b=g.dispatch;return c!==a.memoizedState&&(Oe.flags|=2048,Pa(9,{destroy:void 0},DA.bind(null,g,c),null)),[d,b,s]}function DA(s,a){s.action=a}function ix(s){var a=wt(),c=Ze;if(c!==null)return sx(a,c,s);wt(),a=a.memoizedState,c=wt();var d=c.queue.dispatch;return c.memoizedState=s,[a,d,!1]}function Pa(s,a,c,d){return s={tag:s,create:c,deps:d,inst:a,next:null},a=Oe.updateQueue,a===null&&(a=hu(),Oe.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,a.lastEffect=s),s}function ax(){return wt().memoizedState}function gu(s,a,c,d){var g=tn();Oe.flags|=s,g.memoizedState=Pa(1|a,{destroy:void 0},c,d===void 0?null:d)}function yu(s,a,c,d){var g=wt();d=d===void 0?null:d;var b=g.memoizedState.inst;Ze!==null&&d!==null&&np(d,Ze.memoizedState.deps)?g.memoizedState=Pa(a,b,c,d):(Oe.flags|=s,g.memoizedState=Pa(1|a,b,c,d))}function ox(s,a){gu(8390656,8,s,a)}function fp(s,a){yu(2048,8,s,a)}function LA(s){Oe.flags|=4;var a=Oe.updateQueue;if(a===null)a=hu(),Oe.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function lx(s){var a=wt().memoizedState;return LA({ref:a,nextImpl:s}),function(){if((Ge&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function cx(s,a){return yu(4,2,s,a)}function ux(s,a){return yu(4,4,s,a)}function dx(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function fx(s,a,c){c=c!=null?c.concat([s]):null,yu(4,4,dx.bind(null,a,s),c)}function hp(){}function hx(s,a){var c=wt();a=a===void 0?null:a;var d=c.memoizedState;return a!==null&&np(a,d[1])?d[0]:(c.memoizedState=[s,a],s)}function px(s,a){var c=wt();a=a===void 0?null:a;var d=c.memoizedState;if(a!==null&&np(a,d[1]))return d[0];if(d=s(),ji){ps(!0);try{s()}finally{ps(!1)}}return c.memoizedState=[d,a],d}function pp(s,a,c){return c===void 0||(Lr&1073741824)!==0&&(Pe&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=mv(),Oe.lanes|=s,As|=s,c)}function mx(s,a,c,d){return En(c,a)?c:La.current!==null?(s=pp(s,c,d),En(s,a)||(kt=!0),s):(Lr&42)===0||(Lr&1073741824)!==0&&(Pe&261930)===0?(kt=!0,s.memoizedState=c):(s=mv(),Oe.lanes|=s,As|=s,a)}function gx(s,a,c,d,g){var b=F.p;F.p=b!==0&&8>b?b:8;var S=R.T,N={};R.T=N,yp(s,!1,a,c);try{var A=g(),z=R.S;if(z!==null&&z(N,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var Y=OA(A,d);il(s,a,Y,Mn(s))}else il(s,a,d,Mn(s))}catch(Z){il(s,a,{then:function(){},status:"rejected",reason:Z},Mn())}finally{F.p=b,S!==null&&N.types!==null&&(S.types=N.types),R.T=S}}function IA(){}function mp(s,a,c,d){if(s.tag!==5)throw Error(r(476));var g=yx(s).queue;gx(s,g,a,L,c===null?IA:function(){return bx(s),c(d)})}function yx(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:L},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function bx(s){var a=yx(s);a.next===null&&(a=s.alternate.memoizedState),il(s,a.next.queue,{},Mn())}function gp(){return Ut(Sl)}function xx(){return wt().memoizedState}function vx(){return wt().memoizedState}function zA(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=Mn();s=Ss(c);var d=Es(a,s,c);d!==null&&(pn(d,a,c),el(d,a,c)),a={cache:Fh()},s.payload=a;return}a=a.return}}function PA(s,a,c){var d=Mn();c={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},bu(s)?Sx(a,c):(c=Dh(s,a,c,d),c!==null&&(pn(c,s,d),Ex(c,a,d)))}function wx(s,a,c){var d=Mn();il(s,a,c,d)}function il(s,a,c,d){var g={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(bu(s))Sx(a,g);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var S=a.lastRenderedState,N=b(S,c);if(g.hasEagerState=!0,g.eagerState=N,En(N,S))return Qc(s,a,g,0),rt===null&&Xc(),!1}catch{}if(c=Dh(s,a,g,d),c!==null)return pn(c,s,d),Ex(c,a,d),!0}return!1}function yp(s,a,c,d){if(d={lane:2,revertLane:Yp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},bu(s)){if(a)throw Error(r(479))}else a=Dh(s,c,d,2),a!==null&&pn(a,s,2)}function bu(s){var a=s.alternate;return s===Oe||a!==null&&a===Oe}function Sx(s,a){Ia=du=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Ex(s,a,c){if((c&4194048)!==0){var d=a.lanes;d&=s.pendingLanes,c|=d,a.lanes=c,Ab(s,c)}}var al={readContext:Ut,use:pu,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};al.useEffectEvent=mt;var kx={readContext:Ut,use:pu,useCallback:function(s,a){return tn().memoizedState=[s,a===void 0?null:a],s},useContext:Ut,useEffect:ox,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,gu(4194308,4,dx.bind(null,a,s),c)},useLayoutEffect:function(s,a){return gu(4194308,4,s,a)},useInsertionEffect:function(s,a){gu(4,2,s,a)},useMemo:function(s,a){var c=tn();a=a===void 0?null:a;var d=s();if(ji){ps(!0);try{s()}finally{ps(!1)}}return c.memoizedState=[d,a],d},useReducer:function(s,a,c){var d=tn();if(c!==void 0){var g=c(a);if(ji){ps(!0);try{c(a)}finally{ps(!1)}}}else g=a;return d.memoizedState=d.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},d.queue=s,s=s.dispatch=PA.bind(null,Oe,s),[d.memoizedState,s]},useRef:function(s){var a=tn();return s={current:s},a.memoizedState=s},useState:function(s){s=up(s);var a=s.queue,c=wx.bind(null,Oe,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:hp,useDeferredValue:function(s,a){var c=tn();return pp(c,s,a)},useTransition:function(){var s=up(!1);return s=gx.bind(null,Oe,s.queue,!0,!1),tn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var d=Oe,g=tn();if(Ue){if(c===void 0)throw Error(r(407));c=c()}else{if(c=a(),rt===null)throw Error(r(349));(Pe&127)!==0||F0(d,a,c)}g.memoizedState=c;var b={value:c,getSnapshot:a};return g.queue=b,ox(K0.bind(null,d,b,s),[s]),d.flags|=2048,Pa(9,{destroy:void 0},G0.bind(null,d,b,c,a),null),c},useId:function(){var s=tn(),a=rt.identifierPrefix;if(Ue){var c=gr,d=mr;c=(d&~(1<<32-Sn(d)-1)).toString(32)+c,a="_"+a+"R_"+c,c=fu++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=RA++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:gp,useFormState:nx,useActionState:nx,useOptimistic:function(s){var a=tn();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=yp.bind(null,Oe,!0,c),c.dispatch=a,[s,a]},useMemoCache:op,useCacheRefresh:function(){return tn().memoizedState=zA.bind(null,Oe)},useEffectEvent:function(s){var a=tn(),c={impl:s};return a.memoizedState=c,function(){if((Ge&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},bp={readContext:Ut,use:pu,useCallback:hx,useContext:Ut,useEffect:fp,useImperativeHandle:fx,useInsertionEffect:cx,useLayoutEffect:ux,useMemo:px,useReducer:mu,useRef:ax,useState:function(){return mu(Ir)},useDebugValue:hp,useDeferredValue:function(s,a){var c=wt();return mx(c,Ze.memoizedState,s,a)},useTransition:function(){var s=mu(Ir)[0],a=wt().memoizedState;return[typeof s=="boolean"?s:sl(s),a]},useSyncExternalStore:q0,useId:xx,useHostTransitionStatus:gp,useFormState:rx,useActionState:rx,useOptimistic:function(s,a){var c=wt();return J0(c,Ze,s,a)},useMemoCache:op,useCacheRefresh:vx};bp.useEffectEvent=lx;var Nx={readContext:Ut,use:pu,useCallback:hx,useContext:Ut,useEffect:fp,useImperativeHandle:fx,useInsertionEffect:cx,useLayoutEffect:ux,useMemo:px,useReducer:cp,useRef:ax,useState:function(){return cp(Ir)},useDebugValue:hp,useDeferredValue:function(s,a){var c=wt();return Ze===null?pp(c,s,a):mx(c,Ze.memoizedState,s,a)},useTransition:function(){var s=cp(Ir)[0],a=wt().memoizedState;return[typeof s=="boolean"?s:sl(s),a]},useSyncExternalStore:q0,useId:xx,useHostTransitionStatus:gp,useFormState:ix,useActionState:ix,useOptimistic:function(s,a){var c=wt();return Ze!==null?J0(c,Ze,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:op,useCacheRefresh:vx};Nx.useEffectEvent=lx;function xp(s,a,c,d){a=s.memoizedState,c=c(d,a),c=c==null?a:y({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var vp={enqueueSetState:function(s,a,c){s=s._reactInternals;var d=Mn(),g=Ss(d);g.payload=a,c!=null&&(g.callback=c),a=Es(s,g,d),a!==null&&(pn(a,s,d),el(a,s,d))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var d=Mn(),g=Ss(d);g.tag=1,g.payload=a,c!=null&&(g.callback=c),a=Es(s,g,d),a!==null&&(pn(a,s,d),el(a,s,d))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Mn(),d=Ss(c);d.tag=2,a!=null&&(d.callback=a),a=Es(s,d,c),a!==null&&(pn(a,s,c),el(a,s,c))}};function Cx(s,a,c,d,g,b,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,b,S):a.prototype&&a.prototype.isPureReactComponent?!Go(c,d)||!Go(g,b):!0}function Tx(s,a,c,d){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,d),a.state!==s&&vp.enqueueReplaceState(a,a.state,null)}function Di(s,a){var c=a;if("ref"in a){c={};for(var d in a)d!=="ref"&&(c[d]=a[d])}if(s=s.defaultProps){c===a&&(c=y({},c));for(var g in s)c[g]===void 0&&(c[g]=s[g])}return c}function Ax(s){Jc(s)}function Mx(s){console.error(s)}function Ox(s){Jc(s)}function xu(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function Rx(s,a,c){try{var d=s.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function wp(s,a,c){return c=Ss(c),c.tag=3,c.payload={element:null},c.callback=function(){xu(s,a)},c}function _x(s){return s=Ss(s),s.tag=3,s}function jx(s,a,c,d){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var b=d.value;s.payload=function(){return g(b)},s.callback=function(){Rx(a,c,d)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){Rx(a,c,d),typeof g!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function BA(s,a,c,d,g){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=c.alternate,a!==null&&Oa(a,c,g,!0),c=Nn.current,c!==null){switch(c.tag){case 31:case 13:return Vn===null?Ru():c.alternate===null&&gt===0&&(gt=3),c.flags&=-257,c.flags|=65536,c.lanes=g,d===au?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([d]):a.add(d),Gp(s,d,g)),!1;case 22:return c.flags|=65536,d===au?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([d]):c.add(d)),Gp(s,d,g)),!1}throw Error(r(435,c.tag))}return Gp(s,d,g),Ru(),!1}if(Ue)return a=Nn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,d!==Uh&&(s=Error(r(422),{cause:d}),Yo(Pn(s,c)))):(d!==Uh&&(a=Error(r(423),{cause:d}),Yo(Pn(a,c))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,d=Pn(d,c),g=wp(s.stateNode,d,g),Xh(s,g),gt!==4&&(gt=2)),!1;var b=Error(r(520),{cause:d});if(b=Pn(b,c),pl===null?pl=[b]:pl.push(b),gt!==4&&(gt=2),a===null)return!0;d=Pn(d,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=g&-g,c.lanes|=s,s=wp(c.stateNode,d,s),Xh(c,s),!1;case 1:if(a=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ms===null||!Ms.has(b))))return c.flags|=65536,g&=-g,c.lanes|=g,g=_x(g),jx(g,s,c,d),Xh(c,g),!1}c=c.return}while(c!==null);return!1}var Sp=Error(r(461)),kt=!1;function Ht(s,a,c,d){a.child=s===null?z0(a,null,c,d):_i(a,s.child,c,d)}function Dx(s,a,c,d,g){c=c.render;var b=a.ref;if("ref"in d){var S={};for(var N in d)N!=="ref"&&(S[N]=d[N])}else S=d;return Ai(a),d=rp(s,a,c,S,b,g),N=sp(),s!==null&&!kt?(ip(s,a,g),zr(s,a,g)):(Ue&&N&&Ph(a),a.flags|=1,Ht(s,a,d,g),a.child)}function Lx(s,a,c,d,g){if(s===null){var b=c.type;return typeof b=="function"&&!Lh(b)&&b.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=b,Ix(s,a,b,d,g)):(s=eu(c.type,null,d,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,!Op(s,g)){var S=b.memoizedProps;if(c=c.compare,c=c!==null?c:Go,c(S,d)&&s.ref===a.ref)return zr(s,a,g)}return a.flags|=1,s=Rr(b,d),s.ref=a.ref,s.return=a,a.child=s}function Ix(s,a,c,d,g){if(s!==null){var b=s.memoizedProps;if(Go(b,d)&&s.ref===a.ref)if(kt=!1,a.pendingProps=d=b,Op(s,g))(s.flags&131072)!==0&&(kt=!0);else return a.lanes=s.lanes,zr(s,a,g)}return Ep(s,a,c,d,g)}function zx(s,a,c,d){var g=d.children,b=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,s!==null){for(d=a.child=s.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;d=g&~b}else d=0,a.child=null;return Px(s,a,b,c,d)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&su(a,b!==null?b.cachePool:null),b!==null?U0(a,b):Zh(),H0(a);else return d=a.lanes=536870912,Px(s,a,b!==null?b.baseLanes|c:c,c,d)}else b!==null?(su(a,b.cachePool),U0(a,b),Ns(),a.memoizedState=null):(s!==null&&su(a,null),Zh(),Ns());return Ht(s,a,g,c),a.child}function ol(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Px(s,a,c,d,g){var b=Kh();return b=b===null?null:{parent:St._currentValue,pool:b},a.memoizedState={baseLanes:c,cachePool:b},s!==null&&su(a,null),Zh(),H0(a),s!==null&&Oa(s,a,d,!0),a.childLanes=g,null}function vu(s,a){return a=Su({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Bx(s,a,c){return _i(a,s.child,null,c),s=vu(a,a.pendingProps),s.flags|=2,Cn(a),a.memoizedState=null,s}function UA(s,a,c){var d=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Ue){if(d.mode==="hidden")return s=vu(a,d),a.lanes=536870912,ol(null,s);if(tp(a),(s=at)?(s=Xv(s,Hn),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:ys!==null?{id:mr,overflow:gr}:null,retryLane:536870912,hydrationErrors:null},c=S0(s),c.return=a,a.child=c,Bt=a,at=null)):s=null,s===null)throw xs(a);return a.lanes=536870912,null}return vu(a,d)}var b=s.memoizedState;if(b!==null){var S=b.dehydrated;if(tp(a),g)if(a.flags&256)a.flags&=-257,a=Bx(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(r(558));else if(kt||Oa(s,a,c,!1),g=(c&s.childLanes)!==0,kt||g){if(d=rt,d!==null&&(S=Mb(d,c),S!==0&&S!==b.retryLane))throw b.retryLane=S,ki(s,S),pn(d,s,S),Sp;Ru(),a=Bx(s,a,c)}else s=b.treeContext,at=$n(S.nextSibling),Bt=a,Ue=!0,bs=null,Hn=!1,s!==null&&N0(a,s),a=vu(a,d),a.flags|=4096;return a}return s=Rr(s.child,{mode:d.mode,children:d.children}),s.ref=a.ref,a.child=s,s.return=a,s}function wu(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function Ep(s,a,c,d,g){return Ai(a),c=rp(s,a,c,d,void 0,g),d=sp(),s!==null&&!kt?(ip(s,a,g),zr(s,a,g)):(Ue&&d&&Ph(a),a.flags|=1,Ht(s,a,c,g),a.child)}function Ux(s,a,c,d,g,b){return Ai(a),a.updateQueue=null,c=$0(a,d,c,g),V0(s),d=sp(),s!==null&&!kt?(ip(s,a,b),zr(s,a,b)):(Ue&&d&&Ph(a),a.flags|=1,Ht(s,a,c,b),a.child)}function Hx(s,a,c,d,g){if(Ai(a),a.stateNode===null){var b=Ca,S=c.contextType;typeof S=="object"&&S!==null&&(b=Ut(S)),b=new c(d,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=vp,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=d,b.state=a.memoizedState,b.refs={},Yh(a),S=c.contextType,b.context=typeof S=="object"&&S!==null?Ut(S):Ca,b.state=a.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&(xp(a,c,S,d),b.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(S=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),S!==b.state&&vp.enqueueReplaceState(b,b.state,null),nl(a,d,b,g),tl(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(s===null){b=a.stateNode;var N=a.memoizedProps,A=Di(c,N);b.props=A;var z=b.context,Y=c.contextType;S=Ca,typeof Y=="object"&&Y!==null&&(S=Ut(Y));var Z=c.getDerivedStateFromProps;Y=typeof Z=="function"||typeof b.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,Y||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N||z!==S)&&Tx(a,b,d,S),ws=!1;var P=a.memoizedState;b.state=P,nl(a,d,b,g),tl(),z=a.memoizedState,N||P!==z||ws?(typeof Z=="function"&&(xp(a,c,Z,d),z=a.memoizedState),(A=ws||Cx(a,c,A,d,P,z,S))?(Y||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=z),b.props=d,b.state=z,b.context=S,d=A):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{b=a.stateNode,Jh(s,a),S=a.memoizedProps,Y=Di(c,S),b.props=Y,Z=a.pendingProps,P=b.context,z=c.contextType,A=Ca,typeof z=="object"&&z!==null&&(A=Ut(z)),N=c.getDerivedStateFromProps,(z=typeof N=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==Z||P!==A)&&Tx(a,b,d,A),ws=!1,P=a.memoizedState,b.state=P,nl(a,d,b,g),tl();var q=a.memoizedState;S!==Z||P!==q||ws||s!==null&&s.dependencies!==null&&nu(s.dependencies)?(typeof N=="function"&&(xp(a,c,N,d),q=a.memoizedState),(Y=ws||Cx(a,c,Y,d,P,q,A)||s!==null&&s.dependencies!==null&&nu(s.dependencies))?(z||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,q,A),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,q,A)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||S===s.memoizedProps&&P===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&P===s.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=q),b.props=d,b.state=q,b.context=A,d=Y):(typeof b.componentDidUpdate!="function"||S===s.memoizedProps&&P===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&P===s.memoizedState||(a.flags|=1024),d=!1)}return b=d,wu(s,a),d=(a.flags&128)!==0,b||d?(b=a.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,s!==null&&d?(a.child=_i(a,s.child,null,g),a.child=_i(a,null,c,g)):Ht(s,a,c,g),a.memoizedState=b.state,s=a.child):s=zr(s,a,g),s}function Vx(s,a,c,d){return Ci(),a.flags|=256,Ht(s,a,c,d),a.child}var kp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Np(s){return{baseLanes:s,cachePool:R0()}}function Cp(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=An),s}function $x(s,a,c){var d=a.pendingProps,g=!1,b=(a.flags&128)!==0,S;if((S=b)||(S=s!==null&&s.memoizedState===null?!1:(vt.current&2)!==0),S&&(g=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ue){if(g?ks(a):Ns(),(s=at)?(s=Xv(s,Hn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:ys!==null?{id:mr,overflow:gr}:null,retryLane:536870912,hydrationErrors:null},c=S0(s),c.return=a,a.child=c,Bt=a,at=null)):s=null,s===null)throw xs(a);return lm(s)?a.lanes=32:a.lanes=536870912,null}var N=d.children;return d=d.fallback,g?(Ns(),g=a.mode,N=Su({mode:"hidden",children:N},g),d=Ni(d,g,c,null),N.return=a,d.return=a,N.sibling=d,a.child=N,d=a.child,d.memoizedState=Np(c),d.childLanes=Cp(s,S,c),a.memoizedState=kp,ol(null,d)):(ks(a),Tp(a,N))}var A=s.memoizedState;if(A!==null&&(N=A.dehydrated,N!==null)){if(b)a.flags&256?(ks(a),a.flags&=-257,a=Ap(s,a,c)):a.memoizedState!==null?(Ns(),a.child=s.child,a.flags|=128,a=null):(Ns(),N=d.fallback,g=a.mode,d=Su({mode:"visible",children:d.children},g),N=Ni(N,g,c,null),N.flags|=2,d.return=a,N.return=a,d.sibling=N,a.child=d,_i(a,s.child,null,c),d=a.child,d.memoizedState=Np(c),d.childLanes=Cp(s,S,c),a.memoizedState=kp,a=ol(null,d));else if(ks(a),lm(N)){if(S=N.nextSibling&&N.nextSibling.dataset,S)var z=S.dgst;S=z,d=Error(r(419)),d.stack="",d.digest=S,Yo({value:d,source:null,stack:null}),a=Ap(s,a,c)}else if(kt||Oa(s,a,c,!1),S=(c&s.childLanes)!==0,kt||S){if(S=rt,S!==null&&(d=Mb(S,c),d!==0&&d!==A.retryLane))throw A.retryLane=d,ki(s,d),pn(S,s,d),Sp;om(N)||Ru(),a=Ap(s,a,c)}else om(N)?(a.flags|=192,a.child=s.child,a=null):(s=A.treeContext,at=$n(N.nextSibling),Bt=a,Ue=!0,bs=null,Hn=!1,s!==null&&N0(a,s),a=Tp(a,d.children),a.flags|=4096);return a}return g?(Ns(),N=d.fallback,g=a.mode,A=s.child,z=A.sibling,d=Rr(A,{mode:"hidden",children:d.children}),d.subtreeFlags=A.subtreeFlags&65011712,z!==null?N=Rr(z,N):(N=Ni(N,g,c,null),N.flags|=2),N.return=a,d.return=a,d.sibling=N,a.child=d,ol(null,d),d=a.child,N=s.child.memoizedState,N===null?N=Np(c):(g=N.cachePool,g!==null?(A=St._currentValue,g=g.parent!==A?{parent:A,pool:A}:g):g=R0(),N={baseLanes:N.baseLanes|c,cachePool:g}),d.memoizedState=N,d.childLanes=Cp(s,S,c),a.memoizedState=kp,ol(s.child,d)):(ks(a),c=s.child,s=c.sibling,c=Rr(c,{mode:"visible",children:d.children}),c.return=a,c.sibling=null,s!==null&&(S=a.deletions,S===null?(a.deletions=[s],a.flags|=16):S.push(s)),a.child=c,a.memoizedState=null,c)}function Tp(s,a){return a=Su({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Su(s,a){return s=kn(22,s,null,a),s.lanes=0,s}function Ap(s,a,c){return _i(a,s.child,null,c),s=Tp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function qx(s,a,c){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a),$h(s.return,a,c)}function Mp(s,a,c,d,g,b){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:g,treeForkCount:b}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=c,S.tailMode=g,S.treeForkCount=b)}function Fx(s,a,c){var d=a.pendingProps,g=d.revealOrder,b=d.tail;d=d.children;var S=vt.current,N=(S&2)!==0;if(N?(S=S&1|2,a.flags|=128):S&=1,ee(vt,S),Ht(s,a,d,c),d=Ue?Wo:0,!N&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&qx(s,c,a);else if(s.tag===19)qx(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&uu(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Mp(a,!1,g,c,b,d);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&uu(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Mp(a,!0,c,null,b,d);break;case"together":Mp(a,!1,null,null,void 0,d);break;default:a.memoizedState=null}return a.child}function zr(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),As|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(Oa(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,c=Rr(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Rr(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Op(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&nu(s)))}function HA(s,a,c){switch(a.tag){case 3:Fe(a,a.stateNode.containerInfo),vs(a,St,s.memoizedState.cache),Ci();break;case 27:case 5:on(a);break;case 4:Fe(a,a.stateNode.containerInfo);break;case 10:vs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,tp(a),null;break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(ks(a),a.flags|=128,null):(c&a.child.childLanes)!==0?$x(s,a,c):(ks(a),s=zr(s,a,c),s!==null?s.sibling:null);ks(a);break;case 19:var g=(s.flags&128)!==0;if(d=(c&a.childLanes)!==0,d||(Oa(s,a,c,!1),d=(c&a.childLanes)!==0),g){if(d)return Fx(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ee(vt,vt.current),d)break;return null;case 22:return a.lanes=0,zx(s,a,c,a.pendingProps);case 24:vs(a,St,s.memoizedState.cache)}return zr(s,a,c)}function Gx(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)kt=!0;else{if(!Op(s,c)&&(a.flags&128)===0)return kt=!1,HA(s,a,c);kt=(s.flags&131072)!==0}else kt=!1,Ue&&(a.flags&1048576)!==0&&k0(a,Wo,a.index);switch(a.lanes=0,a.tag){case 16:e:{var d=a.pendingProps;if(s=Oi(a.elementType),a.type=s,typeof s=="function")Lh(s)?(d=Di(s,d),a.tag=1,a=Hx(null,a,s,d,c)):(a.tag=0,a=Ep(null,a,s,d,c));else{if(s!=null){var g=s.$$typeof;if(g===B){a.tag=11,a=Dx(null,a,s,d,c);break e}else if(g===H){a.tag=14,a=Lx(null,a,s,d,c);break e}}throw a=X(s)||s,Error(r(306,a,""))}}return a;case 0:return Ep(s,a,a.type,a.pendingProps,c);case 1:return d=a.type,g=Di(d,a.pendingProps),Hx(s,a,d,g,c);case 3:e:{if(Fe(a,a.stateNode.containerInfo),s===null)throw Error(r(387));d=a.pendingProps;var b=a.memoizedState;g=b.element,Jh(s,a),nl(a,d,null,c);var S=a.memoizedState;if(d=S.cache,vs(a,St,d),d!==b.cache&&qh(a,[St],c,!0),tl(),d=S.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=Vx(s,a,d,c);break e}else if(d!==g){g=Pn(Error(r(424)),a),Yo(g),a=Vx(s,a,d,c);break e}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,at=$n(s.firstChild),Bt=a,Ue=!0,bs=null,Hn=!0,c=z0(a,null,d,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ci(),d===g){a=zr(s,a,c);break e}Ht(s,a,d,c)}a=a.child}return a;case 26:return wu(s,a),s===null?(c=r1(a.type,null,a.pendingProps,null))?a.memoizedState=c:Ue||(c=a.type,s=a.pendingProps,d=Pu(Ce.current).createElement(c),d[Pt]=a,d[ln]=s,Vt(d,c,s),Rt(d),a.stateNode=d):a.memoizedState=r1(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return on(a),s===null&&Ue&&(d=a.stateNode=e1(a.type,a.pendingProps,Ce.current),Bt=a,Hn=!0,g=at,js(a.type)?(cm=g,at=$n(d.firstChild)):at=g),Ht(s,a,a.pendingProps.children,c),wu(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ue&&((g=d=at)&&(d=yM(d,a.type,a.pendingProps,Hn),d!==null?(a.stateNode=d,Bt=a,at=$n(d.firstChild),Hn=!1,g=!0):g=!1),g||xs(a)),on(a),g=a.type,b=a.pendingProps,S=s!==null?s.memoizedProps:null,d=b.children,sm(g,b)?d=null:S!==null&&sm(g,S)&&(a.flags|=32),a.memoizedState!==null&&(g=rp(s,a,_A,null,null,c),Sl._currentValue=g),wu(s,a),Ht(s,a,d,c),a.child;case 6:return s===null&&Ue&&((s=c=at)&&(c=bM(c,a.pendingProps,Hn),c!==null?(a.stateNode=c,Bt=a,at=null,s=!0):s=!1),s||xs(a)),null;case 13:return $x(s,a,c);case 4:return Fe(a,a.stateNode.containerInfo),d=a.pendingProps,s===null?a.child=_i(a,null,d,c):Ht(s,a,d,c),a.child;case 11:return Dx(s,a,a.type,a.pendingProps,c);case 7:return Ht(s,a,a.pendingProps,c),a.child;case 8:return Ht(s,a,a.pendingProps.children,c),a.child;case 12:return Ht(s,a,a.pendingProps.children,c),a.child;case 10:return d=a.pendingProps,vs(a,a.type,d.value),Ht(s,a,d.children,c),a.child;case 9:return g=a.type._context,d=a.pendingProps.children,Ai(a),g=Ut(g),d=d(g),a.flags|=1,Ht(s,a,d,c),a.child;case 14:return Lx(s,a,a.type,a.pendingProps,c);case 15:return Ix(s,a,a.type,a.pendingProps,c);case 19:return Fx(s,a,c);case 31:return UA(s,a,c);case 22:return zx(s,a,c,a.pendingProps);case 24:return Ai(a),d=Ut(St),s===null?(g=Kh(),g===null&&(g=rt,b=Fh(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=c),g=b),a.memoizedState={parent:d,cache:g},Yh(a),vs(a,St,g)):((s.lanes&c)!==0&&(Jh(s,a),nl(a,null,null,c),tl()),g=s.memoizedState,b=a.memoizedState,g.parent!==d?(g={parent:d,cache:d},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),vs(a,St,d)):(d=b.cache,vs(a,St,d),d!==g.cache&&qh(a,[St],c,!0))),Ht(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Pr(s){s.flags|=4}function Rp(s,a,c,d,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(xv())s.flags|=8192;else throw Ri=au,Wh}else s.flags&=-16777217}function Kx(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!l1(a))if(xv())s.flags|=8192;else throw Ri=au,Wh}function Eu(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Cb():536870912,s.lanes|=a,Va|=a)}function ll(s,a){if(!Ue)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function ot(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=d,s.childLanes=c,a}function VA(s,a,c){var d=a.pendingProps;switch(Bh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(a),null;case 1:return ot(a),null;case 3:return c=a.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Dr(St),We(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Ma(a)?Pr(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Hh())),ot(a),null;case 26:var g=a.type,b=a.memoizedState;return s===null?(Pr(a),b!==null?(ot(a),Kx(a,b)):(ot(a),Rp(a,g,null,d,c))):b?b!==s.memoizedState?(Pr(a),ot(a),Kx(a,b)):(ot(a),a.flags&=-16777217):(s=s.memoizedProps,s!==d&&Pr(a),ot(a),Rp(a,g,s,d,c)),null;case 27:if(vn(a),c=Ce.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&Pr(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return ot(a),null}s=te.current,Ma(a)?C0(a):(s=e1(g,d,c),a.stateNode=s,Pr(a))}return ot(a),null;case 5:if(vn(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&Pr(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return ot(a),null}if(b=te.current,Ma(a))C0(a);else{var S=Pu(Ce.current);switch(b){case 1:b=S.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=S.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=S.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?S.createElement("select",{is:d.is}):S.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?S.createElement(g,{is:d.is}):S.createElement(g)}}b[Pt]=a,b[ln]=d;e:for(S=a.child;S!==null;){if(S.tag===5||S.tag===6)b.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===a)break e;for(;S.sibling===null;){if(S.return===null||S.return===a)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}a.stateNode=b;e:switch(Vt(b,g,d),g){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Pr(a)}}return ot(a),Rp(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==d&&Pr(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(r(166));if(s=Ce.current,Ma(a)){if(s=a.stateNode,c=a.memoizedProps,d=null,g=Bt,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}s[Pt]=a,s=!!(s.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||$v(s.nodeValue,c)),s||xs(a,!0)}else s=Pu(s).createTextNode(d),s[Pt]=a,a.stateNode=s}return ot(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(d=Ma(a),c!==null){if(s===null){if(!d)throw Error(r(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Pt]=a}else Ci(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),s=!1}else c=Hh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(Cn(a),a):(Cn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return ot(a),null;case 13:if(d=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Ma(a),d!==null&&d.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Pt]=a}else Ci(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ot(a),g=!1}else g=Hh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Cn(a),a):(Cn(a),null)}return Cn(a),(a.flags&128)!==0?(a.lanes=c,a):(c=d!==null,s=s!==null&&s.memoizedState!==null,c&&(d=a.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==g&&(d.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),Eu(a,a.updateQueue),ot(a),null);case 4:return We(),s===null&&Zp(a.stateNode.containerInfo),ot(a),null;case 10:return Dr(a.type),ot(a),null;case 19:if(G(vt),d=a.memoizedState,d===null)return ot(a),null;if(g=(a.flags&128)!==0,b=d.rendering,b===null)if(g)ll(d,!1);else{if(gt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(b=uu(s),b!==null){for(a.flags|=128,ll(d,!1),s=b.updateQueue,a.updateQueue=s,Eu(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)w0(c,s),c=c.sibling;return ee(vt,vt.current&1|2),Ue&&_r(a,d.treeForkCount),a.child}s=s.sibling}d.tail!==null&&zt()>Au&&(a.flags|=128,g=!0,ll(d,!1),a.lanes=4194304)}else{if(!g)if(s=uu(b),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,Eu(a,s),ll(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!Ue)return ot(a),null}else 2*zt()-d.renderingStartTime>Au&&c!==536870912&&(a.flags|=128,g=!0,ll(d,!1),a.lanes=4194304);d.isBackwards?(b.sibling=a.child,a.child=b):(s=d.last,s!==null?s.sibling=b:a.child=b,d.last=b)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=zt(),s.sibling=null,c=vt.current,ee(vt,g?c&1|2:c&1),Ue&&_r(a,d.treeForkCount),s):(ot(a),null);case 22:case 23:return Cn(a),ep(),d=a.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(c&536870912)!==0&&(a.flags&128)===0&&(ot(a),a.subtreeFlags&6&&(a.flags|=8192)):ot(a),c=a.updateQueue,c!==null&&Eu(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==c&&(a.flags|=2048),s!==null&&G(Mi),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Dr(St),ot(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function $A(s,a){switch(Bh(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Dr(St),We(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return vn(a),null;case 31:if(a.memoizedState!==null){if(Cn(a),a.alternate===null)throw Error(r(340));Ci()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Cn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ci()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return G(vt),null;case 4:return We(),null;case 10:return Dr(a.type),null;case 22:case 23:return Cn(a),ep(),s!==null&&G(Mi),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Dr(St),null;case 25:return null;default:return null}}function Wx(s,a){switch(Bh(a),a.tag){case 3:Dr(St),We();break;case 26:case 27:case 5:vn(a);break;case 4:We();break;case 31:a.memoizedState!==null&&Cn(a);break;case 13:Cn(a);break;case 19:G(vt);break;case 10:Dr(a.type);break;case 22:case 23:Cn(a),ep(),s!==null&&G(Mi);break;case 24:Dr(St)}}function cl(s,a){try{var c=a.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&s)===s){d=void 0;var b=c.create,S=c.inst;d=b(),S.destroy=d}c=c.next}while(c!==g)}}catch(N){Je(a,a.return,N)}}function Cs(s,a,c){try{var d=a.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var b=g.next;d=b;do{if((d.tag&s)===s){var S=d.inst,N=S.destroy;if(N!==void 0){S.destroy=void 0,g=a;var A=c,z=N;try{z()}catch(Y){Je(g,A,Y)}}}d=d.next}while(d!==b)}}catch(Y){Je(a,a.return,Y)}}function Yx(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{B0(a,c)}catch(d){Je(s,s.return,d)}}}function Jx(s,a,c){c.props=Di(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(d){Je(s,a,d)}}function ul(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof c=="function"?s.refCleanup=c(d):c.current=d}}catch(g){Je(s,a,g)}}function yr(s,a){var c=s.ref,d=s.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(g){Je(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){Je(s,a,g)}else c.current=null}function Xx(s){var a=s.type,c=s.memoizedProps,d=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(g){Je(s,s.return,g)}}function _p(s,a,c){try{var d=s.stateNode;dM(d,s.type,c,a),d[ln]=a}catch(g){Je(s,s.return,g)}}function Qx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&js(s.type)||s.tag===4}function jp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Qx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&js(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Dp(s,a,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Mr));else if(d!==4&&(d===27&&js(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(Dp(s,a,c),s=s.sibling;s!==null;)Dp(s,a,c),s=s.sibling}function ku(s,a,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(d!==4&&(d===27&&js(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(ku(s,a,c),s=s.sibling;s!==null;)ku(s,a,c),s=s.sibling}function Zx(s){var a=s.stateNode,c=s.memoizedProps;try{for(var d=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Vt(a,d,c),a[Pt]=s,a[ln]=c}catch(b){Je(s,s.return,b)}}var Br=!1,Nt=!1,Lp=!1,ev=typeof WeakSet=="function"?WeakSet:Set,_t=null;function qA(s,a){if(s=s.containerInfo,nm=Fu,s=f0(s),Ah(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var g=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var S=0,N=-1,A=-1,z=0,Y=0,Z=s,P=null;t:for(;;){for(var q;Z!==c||g!==0&&Z.nodeType!==3||(N=S+g),Z!==b||d!==0&&Z.nodeType!==3||(A=S+d),Z.nodeType===3&&(S+=Z.nodeValue.length),(q=Z.firstChild)!==null;)P=Z,Z=q;for(;;){if(Z===s)break t;if(P===c&&++z===g&&(N=S),P===b&&++Y===d&&(A=S),(q=Z.nextSibling)!==null)break;Z=P,P=Z.parentNode}Z=q}c=N===-1||A===-1?null:{start:N,end:A}}else c=null}c=c||{start:0,end:0}}else c=null;for(rm={focusedElem:s,selectionRange:c},Fu=!1,_t=a;_t!==null;)if(a=_t,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,_t=s;else for(;_t!==null;){switch(a=_t,b=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)g=s[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,c=a,g=b.memoizedProps,b=b.memoizedState,d=c.stateNode;try{var de=Di(c.type,g);s=d.getSnapshotBeforeUpdate(de,b),d.__reactInternalSnapshotBeforeUpdate=s}catch(Ee){Je(c,c.return,Ee)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)am(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":am(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,_t=s;break}_t=a.return}}function tv(s,a,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Hr(s,c),d&4&&cl(5,c);break;case 1:if(Hr(s,c),d&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(S){Je(c,c.return,S)}else{var g=Di(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(S){Je(c,c.return,S)}}d&64&&Yx(c),d&512&&ul(c,c.return);break;case 3:if(Hr(s,c),d&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{B0(s,a)}catch(S){Je(c,c.return,S)}}break;case 27:a===null&&d&4&&Zx(c);case 26:case 5:Hr(s,c),a===null&&d&4&&Xx(c),d&512&&ul(c,c.return);break;case 12:Hr(s,c);break;case 31:Hr(s,c),d&4&&sv(s,c);break;case 13:Hr(s,c),d&4&&iv(s,c),d&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=ZA.bind(null,c),xM(s,c))));break;case 22:if(d=c.memoizedState!==null||Br,!d){a=a!==null&&a.memoizedState!==null||Nt,g=Br;var b=Nt;Br=d,(Nt=a)&&!b?Vr(s,c,(c.subtreeFlags&8772)!==0):Hr(s,c),Br=g,Nt=b}break;case 30:break;default:Hr(s,c)}}function nv(s){var a=s.alternate;a!==null&&(s.alternate=null,nv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&dh(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ut=null,un=!1;function Ur(s,a,c){for(c=c.child;c!==null;)rv(s,a,c),c=c.sibling}function rv(s,a,c){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Do,c)}catch{}switch(c.tag){case 26:Nt||yr(c,a),Ur(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Nt||yr(c,a);var d=ut,g=un;js(c.type)&&(ut=c.stateNode,un=!1),Ur(s,a,c),xl(c.stateNode),ut=d,un=g;break;case 5:Nt||yr(c,a);case 6:if(d=ut,g=un,ut=null,Ur(s,a,c),ut=d,un=g,ut!==null)if(un)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(c.stateNode)}catch(b){Je(c,a,b)}else try{ut.removeChild(c.stateNode)}catch(b){Je(c,a,b)}break;case 18:ut!==null&&(un?(s=ut,Yv(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Ja(s)):Yv(ut,c.stateNode));break;case 4:d=ut,g=un,ut=c.stateNode.containerInfo,un=!0,Ur(s,a,c),ut=d,un=g;break;case 0:case 11:case 14:case 15:Cs(2,c,a),Nt||Cs(4,c,a),Ur(s,a,c);break;case 1:Nt||(yr(c,a),d=c.stateNode,typeof d.componentWillUnmount=="function"&&Jx(c,a,d)),Ur(s,a,c);break;case 21:Ur(s,a,c);break;case 22:Nt=(d=Nt)||c.memoizedState!==null,Ur(s,a,c),Nt=d;break;default:Ur(s,a,c)}}function sv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ja(s)}catch(c){Je(a,a.return,c)}}}function iv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ja(s)}catch(c){Je(a,a.return,c)}}function FA(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new ev),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new ev),a;default:throw Error(r(435,s.tag))}}function Nu(s,a){var c=FA(s);a.forEach(function(d){if(!c.has(d)){c.add(d);var g=eM.bind(null,s,d);d.then(g,g)}})}function dn(s,a){var c=a.deletions;if(c!==null)for(var d=0;d<c.length;d++){var g=c[d],b=s,S=a,N=S;e:for(;N!==null;){switch(N.tag){case 27:if(js(N.type)){ut=N.stateNode,un=!1;break e}break;case 5:ut=N.stateNode,un=!1;break e;case 3:case 4:ut=N.stateNode.containerInfo,un=!0;break e}N=N.return}if(ut===null)throw Error(r(160));rv(b,S,g),ut=null,un=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)av(a,s),a=a.sibling}var ir=null;function av(s,a){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:dn(a,s),fn(s),d&4&&(Cs(3,s,s.return),cl(3,s),Cs(5,s,s.return));break;case 1:dn(a,s),fn(s),d&512&&(Nt||c===null||yr(c,c.return)),d&64&&Br&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var g=ir;if(dn(a,s),fn(s),d&512&&(Nt||c===null||yr(c,c.return)),d&4){var b=c!==null?c.memoizedState:null;if(d=s.memoizedState,c===null)if(d===null)if(s.stateNode===null){e:{d=s.type,c=s.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":b=g.getElementsByTagName("title")[0],(!b||b[zo]||b[Pt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(d),g.head.insertBefore(b,g.querySelector("head > title"))),Vt(b,d,c),b[Pt]=s,Rt(b),d=b;break e;case"link":var S=a1("link","href",g).get(d+(c.href||""));if(S){for(var N=0;N<S.length;N++)if(b=S[N],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(N,1);break t}}b=g.createElement(d),Vt(b,d,c),g.head.appendChild(b);break;case"meta":if(S=a1("meta","content",g).get(d+(c.content||""))){for(N=0;N<S.length;N++)if(b=S[N],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(N,1);break t}}b=g.createElement(d),Vt(b,d,c),g.head.appendChild(b);break;default:throw Error(r(468,d))}b[Pt]=s,Rt(b),d=b}s.stateNode=d}else o1(g,s.type,s.stateNode);else s.stateNode=i1(g,d,s.memoizedProps);else b!==d?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,d===null?o1(g,s.type,s.stateNode):i1(g,d,s.memoizedProps)):d===null&&s.stateNode!==null&&_p(s,s.memoizedProps,c.memoizedProps)}break;case 27:dn(a,s),fn(s),d&512&&(Nt||c===null||yr(c,c.return)),c!==null&&d&4&&_p(s,s.memoizedProps,c.memoizedProps);break;case 5:if(dn(a,s),fn(s),d&512&&(Nt||c===null||yr(c,c.return)),s.flags&32){g=s.stateNode;try{xa(g,"")}catch(de){Je(s,s.return,de)}}d&4&&s.stateNode!=null&&(g=s.memoizedProps,_p(s,g,c!==null?c.memoizedProps:g)),d&1024&&(Lp=!0);break;case 6:if(dn(a,s),fn(s),d&4){if(s.stateNode===null)throw Error(r(162));d=s.memoizedProps,c=s.stateNode;try{c.nodeValue=d}catch(de){Je(s,s.return,de)}}break;case 3:if(Hu=null,g=ir,ir=Bu(a.containerInfo),dn(a,s),ir=g,fn(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Ja(a.containerInfo)}catch(de){Je(s,s.return,de)}Lp&&(Lp=!1,ov(s));break;case 4:d=ir,ir=Bu(s.stateNode.containerInfo),dn(a,s),fn(s),ir=d;break;case 12:dn(a,s),fn(s);break;case 31:dn(a,s),fn(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Nu(s,d)));break;case 13:dn(a,s),fn(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Tu=zt()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Nu(s,d)));break;case 22:g=s.memoizedState!==null;var A=c!==null&&c.memoizedState!==null,z=Br,Y=Nt;if(Br=z||g,Nt=Y||A,dn(a,s),Nt=Y,Br=z,fn(s),d&8192)e:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(c===null||A||Br||Nt||Li(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){A=c=a;try{if(b=A.stateNode,g)S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{N=A.stateNode;var Z=A.memoizedProps.style,P=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;N.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(de){Je(A,A.return,de)}}}else if(a.tag===6){if(c===null){A=a;try{A.stateNode.nodeValue=g?"":A.memoizedProps}catch(de){Je(A,A.return,de)}}}else if(a.tag===18){if(c===null){A=a;try{var q=A.stateNode;g?Jv(q,!0):Jv(A.stateNode,!1)}catch(de){Je(A,A.return,de)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=s.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Nu(s,c))));break;case 19:dn(a,s),fn(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,Nu(s,d)));break;case 30:break;case 21:break;default:dn(a,s),fn(s)}}function fn(s){var a=s.flags;if(a&2){try{for(var c,d=s.return;d!==null;){if(Qx(d)){c=d;break}d=d.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var g=c.stateNode,b=jp(s);ku(s,b,g);break;case 5:var S=c.stateNode;c.flags&32&&(xa(S,""),c.flags&=-33);var N=jp(s);ku(s,N,S);break;case 3:case 4:var A=c.stateNode.containerInfo,z=jp(s);Dp(s,z,A);break;default:throw Error(r(161))}}catch(Y){Je(s,s.return,Y)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function ov(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;ov(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Hr(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)tv(s,a.alternate,a),a=a.sibling}function Li(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Cs(4,a,a.return),Li(a);break;case 1:yr(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&Jx(a,a.return,c),Li(a);break;case 27:xl(a.stateNode);case 26:case 5:yr(a,a.return),Li(a);break;case 22:a.memoizedState===null&&Li(a);break;case 30:Li(a);break;default:Li(a)}s=s.sibling}}function Vr(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,g=s,b=a,S=b.flags;switch(b.tag){case 0:case 11:case 15:Vr(g,b,c),cl(4,b);break;case 1:if(Vr(g,b,c),d=b,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(z){Je(d,d.return,z)}if(d=b,g=d.updateQueue,g!==null){var N=d.stateNode;try{var A=g.shared.hiddenCallbacks;if(A!==null)for(g.shared.hiddenCallbacks=null,g=0;g<A.length;g++)P0(A[g],N)}catch(z){Je(d,d.return,z)}}c&&S&64&&Yx(b),ul(b,b.return);break;case 27:Zx(b);case 26:case 5:Vr(g,b,c),c&&d===null&&S&4&&Xx(b),ul(b,b.return);break;case 12:Vr(g,b,c);break;case 31:Vr(g,b,c),c&&S&4&&sv(g,b);break;case 13:Vr(g,b,c),c&&S&4&&iv(g,b);break;case 22:b.memoizedState===null&&Vr(g,b,c),ul(b,b.return);break;case 30:break;default:Vr(g,b,c)}a=a.sibling}}function Ip(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Jo(c))}function zp(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Jo(s))}function ar(s,a,c,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)lv(s,a,c,d),a=a.sibling}function lv(s,a,c,d){var g=a.flags;switch(a.tag){case 0:case 11:case 15:ar(s,a,c,d),g&2048&&cl(9,a);break;case 1:ar(s,a,c,d);break;case 3:ar(s,a,c,d),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Jo(s)));break;case 12:if(g&2048){ar(s,a,c,d),s=a.stateNode;try{var b=a.memoizedProps,S=b.id,N=b.onPostCommit;typeof N=="function"&&N(S,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(A){Je(a,a.return,A)}}else ar(s,a,c,d);break;case 31:ar(s,a,c,d);break;case 13:ar(s,a,c,d);break;case 23:break;case 22:b=a.stateNode,S=a.alternate,a.memoizedState!==null?b._visibility&2?ar(s,a,c,d):dl(s,a):b._visibility&2?ar(s,a,c,d):(b._visibility|=2,Ba(s,a,c,d,(a.subtreeFlags&10256)!==0||!1)),g&2048&&Ip(S,a);break;case 24:ar(s,a,c,d),g&2048&&zp(a.alternate,a);break;default:ar(s,a,c,d)}}function Ba(s,a,c,d,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=s,S=a,N=c,A=d,z=S.flags;switch(S.tag){case 0:case 11:case 15:Ba(b,S,N,A,g),cl(8,S);break;case 23:break;case 22:var Y=S.stateNode;S.memoizedState!==null?Y._visibility&2?Ba(b,S,N,A,g):dl(b,S):(Y._visibility|=2,Ba(b,S,N,A,g)),g&&z&2048&&Ip(S.alternate,S);break;case 24:Ba(b,S,N,A,g),g&&z&2048&&zp(S.alternate,S);break;default:Ba(b,S,N,A,g)}a=a.sibling}}function dl(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,d=a,g=d.flags;switch(d.tag){case 22:dl(c,d),g&2048&&Ip(d.alternate,d);break;case 24:dl(c,d),g&2048&&zp(d.alternate,d);break;default:dl(c,d)}a=a.sibling}}var fl=8192;function Ua(s,a,c){if(s.subtreeFlags&fl)for(s=s.child;s!==null;)cv(s,a,c),s=s.sibling}function cv(s,a,c){switch(s.tag){case 26:Ua(s,a,c),s.flags&fl&&s.memoizedState!==null&&RM(c,ir,s.memoizedState,s.memoizedProps);break;case 5:Ua(s,a,c);break;case 3:case 4:var d=ir;ir=Bu(s.stateNode.containerInfo),Ua(s,a,c),ir=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=fl,fl=16777216,Ua(s,a,c),fl=d):Ua(s,a,c));break;default:Ua(s,a,c)}}function uv(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function hl(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];_t=d,fv(d,s)}uv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)dv(s),s=s.sibling}function dv(s){switch(s.tag){case 0:case 11:case 15:hl(s),s.flags&2048&&Cs(9,s,s.return);break;case 3:hl(s);break;case 12:hl(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Cu(s)):hl(s);break;default:hl(s)}}function Cu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];_t=d,fv(d,s)}uv(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Cs(8,a,a.return),Cu(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,Cu(a));break;default:Cu(a)}s=s.sibling}}function fv(s,a){for(;_t!==null;){var c=_t;switch(c.tag){case 0:case 11:case 15:Cs(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Jo(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,_t=d;else e:for(c=s;_t!==null;){d=_t;var g=d.sibling,b=d.return;if(nv(d),d===c){_t=null;break e}if(g!==null){g.return=b,_t=g;break e}_t=b}}}var GA={getCacheForType:function(s){var a=Ut(St),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return Ut(St).controller.signal}},KA=typeof WeakMap=="function"?WeakMap:Map,Ge=0,rt=null,Ie=null,Pe=0,Ye=0,Tn=null,Ts=!1,Ha=!1,Pp=!1,$r=0,gt=0,As=0,Ii=0,Bp=0,An=0,Va=0,pl=null,hn=null,Up=!1,Tu=0,hv=0,Au=1/0,Mu=null,Ms=null,At=0,Os=null,$a=null,qr=0,Hp=0,Vp=null,pv=null,ml=0,$p=null;function Mn(){return(Ge&2)!==0&&Pe!==0?Pe&-Pe:R.T!==null?Yp():Ob()}function mv(){if(An===0)if((Pe&536870912)===0||Ue){var s=zc;zc<<=1,(zc&3932160)===0&&(zc=262144),An=s}else An=536870912;return s=Nn.current,s!==null&&(s.flags|=32),An}function pn(s,a,c){(s===rt&&(Ye===2||Ye===9)||s.cancelPendingCommit!==null)&&(qa(s,0),Rs(s,Pe,An,!1)),Io(s,c),((Ge&2)===0||s!==rt)&&(s===rt&&((Ge&2)===0&&(Ii|=c),gt===4&&Rs(s,Pe,An,!1)),br(s))}function gv(s,a,c){if((Ge&6)!==0)throw Error(r(327));var d=!c&&(a&127)===0&&(a&s.expiredLanes)===0||Lo(s,a),g=d?JA(s,a):Fp(s,a,!0),b=d;do{if(g===0){Ha&&!d&&Rs(s,a,0,!1);break}else{if(c=s.current.alternate,b&&!WA(c)){g=Fp(s,a,!1),b=!1;continue}if(g===2){if(b=a,s.errorRecoveryDisabledLanes&b)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var N=s;g=pl;var A=N.current.memoizedState.isDehydrated;if(A&&(qa(N,S).flags|=256),S=Fp(N,S,!1),S!==2){if(Pp&&!A){N.errorRecoveryDisabledLanes|=b,Ii|=b,g=4;break e}b=hn,hn=g,b!==null&&(hn===null?hn=b:hn.push.apply(hn,b))}g=S}if(b=!1,g!==2)continue}}if(g===1){qa(s,0),Rs(s,a,0,!0);break}e:{switch(d=s,b=g,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Rs(d,a,An,!Ts);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=Tu+300-zt(),10<g)){if(Rs(d,a,An,!Ts),Bc(d,0,!0)!==0)break e;qr=a,d.timeoutHandle=Kv(yv.bind(null,d,c,hn,Mu,Up,a,An,Ii,Va,Ts,b,"Throttled",-0,0),g);break e}yv(d,c,hn,Mu,Up,a,An,Ii,Va,Ts,b,null,-0,0)}}break}while(!0);br(s)}function yv(s,a,c,d,g,b,S,N,A,z,Y,Z,P,q){if(s.timeoutHandle=-1,Z=a.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mr},cv(a,b,Z);var de=(b&62914560)===b?Tu-zt():(b&4194048)===b?hv-zt():0;if(de=_M(Z,de),de!==null){qr=b,s.cancelPendingCommit=de(Nv.bind(null,s,a,b,c,d,g,S,N,A,Y,Z,null,P,q)),Rs(s,b,S,!z);return}}Nv(s,a,b,c,d,g,S,N,A)}function WA(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var g=c[d],b=g.getSnapshot;g=g.value;try{if(!En(b(),g))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Rs(s,a,c,d){a&=~Bp,a&=~Ii,s.suspendedLanes|=a,s.pingedLanes&=~a,d&&(s.warmLanes|=a),d=s.expirationTimes;for(var g=a;0<g;){var b=31-Sn(g),S=1<<b;d[b]=-1,g&=~S}c!==0&&Tb(s,c,a)}function Ou(){return(Ge&6)===0?(gl(0),!1):!0}function qp(){if(Ie!==null){if(Ye===0)var s=Ie.return;else s=Ie,jr=Ti=null,ap(s),Da=null,Qo=0,s=Ie;for(;s!==null;)Wx(s.alternate,s),s=s.return;Ie=null}}function qa(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,pM(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),qr=0,qp(),rt=s,Ie=c=Rr(s.current,null),Pe=a,Ye=0,Tn=null,Ts=!1,Ha=Lo(s,a),Pp=!1,Va=An=Bp=Ii=As=gt=0,hn=pl=null,Up=!1,(a&8)!==0&&(a|=a&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=a;0<d;){var g=31-Sn(d),b=1<<g;a|=s[g],d&=~b}return $r=a,Xc(),c}function bv(s,a){Oe=null,R.H=al,a===ja||a===iu?(a=D0(),Ye=3):a===Wh?(a=D0(),Ye=4):Ye=a===Sp?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Tn=a,Ie===null&&(gt=1,xu(s,Pn(a,s.current)))}function xv(){var s=Nn.current;return s===null?!0:(Pe&4194048)===Pe?Vn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?s===Vn:!1}function vv(){var s=R.H;return R.H=al,s===null?al:s}function wv(){var s=R.A;return R.A=GA,s}function Ru(){gt=4,Ts||(Pe&4194048)!==Pe&&Nn.current!==null||(Ha=!0),(As&134217727)===0&&(Ii&134217727)===0||rt===null||Rs(rt,Pe,An,!1)}function Fp(s,a,c){var d=Ge;Ge|=2;var g=vv(),b=wv();(rt!==s||Pe!==a)&&(Mu=null,qa(s,a)),a=!1;var S=gt;e:do try{if(Ye!==0&&Ie!==null){var N=Ie,A=Tn;switch(Ye){case 8:qp(),S=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(a=!0);var z=Ye;if(Ye=0,Tn=null,Fa(s,N,A,z),c&&Ha){S=0;break e}break;default:z=Ye,Ye=0,Tn=null,Fa(s,N,A,z)}}YA(),S=gt;break}catch(Y){bv(s,Y)}while(!0);return a&&s.shellSuspendCounter++,jr=Ti=null,Ge=d,R.H=g,R.A=b,Ie===null&&(rt=null,Pe=0,Xc()),S}function YA(){for(;Ie!==null;)Sv(Ie)}function JA(s,a){var c=Ge;Ge|=2;var d=vv(),g=wv();rt!==s||Pe!==a?(Mu=null,Au=zt()+500,qa(s,a)):Ha=Lo(s,a);e:do try{if(Ye!==0&&Ie!==null){a=Ie;var b=Tn;t:switch(Ye){case 1:Ye=0,Tn=null,Fa(s,a,b,1);break;case 2:case 9:if(_0(b)){Ye=0,Tn=null,Ev(a);break}a=function(){Ye!==2&&Ye!==9||rt!==s||(Ye=7),br(s)},b.then(a,a);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:_0(b)?(Ye=0,Tn=null,Ev(a)):(Ye=0,Tn=null,Fa(s,a,b,7));break;case 5:var S=null;switch(Ie.tag){case 26:S=Ie.memoizedState;case 5:case 27:var N=Ie;if(S?l1(S):N.stateNode.complete){Ye=0,Tn=null;var A=N.sibling;if(A!==null)Ie=A;else{var z=N.return;z!==null?(Ie=z,_u(z)):Ie=null}break t}}Ye=0,Tn=null,Fa(s,a,b,5);break;case 6:Ye=0,Tn=null,Fa(s,a,b,6);break;case 8:qp(),gt=6;break e;default:throw Error(r(462))}}XA();break}catch(Y){bv(s,Y)}while(!0);return jr=Ti=null,R.H=d,R.A=g,Ge=c,Ie!==null?0:(rt=null,Pe=0,Xc(),gt)}function XA(){for(;Ie!==null&&!fa();)Sv(Ie)}function Sv(s){var a=Gx(s.alternate,s,$r);s.memoizedProps=s.pendingProps,a===null?_u(s):Ie=a}function Ev(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=Ux(c,a,a.pendingProps,a.type,void 0,Pe);break;case 11:a=Ux(c,a,a.pendingProps,a.type.render,a.ref,Pe);break;case 5:ap(a);default:Wx(c,a),a=Ie=w0(a,$r),a=Gx(c,a,$r)}s.memoizedProps=s.pendingProps,a===null?_u(s):Ie=a}function Fa(s,a,c,d){jr=Ti=null,ap(a),Da=null,Qo=0;var g=a.return;try{if(BA(s,g,a,c,Pe)){gt=1,xu(s,Pn(c,s.current)),Ie=null;return}}catch(b){if(g!==null)throw Ie=g,b;gt=1,xu(s,Pn(c,s.current)),Ie=null;return}a.flags&32768?(Ue||d===1?s=!0:Ha||(Pe&536870912)!==0?s=!1:(Ts=s=!0,(d===2||d===9||d===3||d===6)&&(d=Nn.current,d!==null&&d.tag===13&&(d.flags|=16384))),kv(a,s)):_u(a)}function _u(s){var a=s;do{if((a.flags&32768)!==0){kv(a,Ts);return}s=a.return;var c=VA(a.alternate,a,$r);if(c!==null){Ie=c;return}if(a=a.sibling,a!==null){Ie=a;return}Ie=a=s}while(a!==null);gt===0&&(gt=5)}function kv(s,a){do{var c=$A(s.alternate,s);if(c!==null){c.flags&=32767,Ie=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){Ie=s;return}Ie=s=c}while(s!==null);gt=6,Ie=null}function Nv(s,a,c,d,g,b,S,N,A){s.cancelPendingCommit=null;do ju();while(At!==0);if((Ge&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=jh,O2(s,c,b,S,N,A),s===rt&&(Ie=rt=null,Pe=0),$a=a,Os=s,qr=c,Hp=b,Vp=g,pv=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,tM(Qe,function(){return Ov(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=R.T,R.T=null,g=F.p,F.p=2,S=Ge,Ge|=4;try{qA(s,a,c)}finally{Ge=S,F.p=g,R.T=d}}At=1,Cv(),Tv(),Av()}}function Cv(){if(At===1){At=0;var s=Os,a=$a,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=R.T,R.T=null;var d=F.p;F.p=2;var g=Ge;Ge|=4;try{av(a,s);var b=rm,S=f0(s.containerInfo),N=b.focusedElem,A=b.selectionRange;if(S!==N&&N&&N.ownerDocument&&d0(N.ownerDocument.documentElement,N)){if(A!==null&&Ah(N)){var z=A.start,Y=A.end;if(Y===void 0&&(Y=z),"selectionStart"in N)N.selectionStart=z,N.selectionEnd=Math.min(Y,N.value.length);else{var Z=N.ownerDocument||document,P=Z&&Z.defaultView||window;if(P.getSelection){var q=P.getSelection(),de=N.textContent.length,Ee=Math.min(A.start,de),tt=A.end===void 0?Ee:Math.min(A.end,de);!q.extend&&Ee>tt&&(S=tt,tt=Ee,Ee=S);var D=u0(N,Ee),_=u0(N,tt);if(D&&_&&(q.rangeCount!==1||q.anchorNode!==D.node||q.anchorOffset!==D.offset||q.focusNode!==_.node||q.focusOffset!==_.offset)){var I=Z.createRange();I.setStart(D.node,D.offset),q.removeAllRanges(),Ee>tt?(q.addRange(I),q.extend(_.node,_.offset)):(I.setEnd(_.node,_.offset),q.addRange(I))}}}}for(Z=[],q=N;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<Z.length;N++){var Q=Z[N];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Fu=!!nm,rm=nm=null}finally{Ge=g,F.p=d,R.T=c}}s.current=a,At=2}}function Tv(){if(At===2){At=0;var s=Os,a=$a,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=R.T,R.T=null;var d=F.p;F.p=2;var g=Ge;Ge|=4;try{tv(s,a.alternate,a)}finally{Ge=g,F.p=d,R.T=c}}At=3}}function Av(){if(At===4||At===3){At=0,bi();var s=Os,a=$a,c=qr,d=pv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?At=5:(At=0,$a=Os=null,Mv(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Ms=null),ch(c),a=a.stateNode,wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Do,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=R.T,g=F.p,F.p=2,R.T=null;try{for(var b=s.onRecoverableError,S=0;S<d.length;S++){var N=d[S];b(N.value,{componentStack:N.stack})}}finally{R.T=a,F.p=g}}(qr&3)!==0&&ju(),br(s),g=s.pendingLanes,(c&261930)!==0&&(g&42)!==0?s===$p?ml++:(ml=0,$p=s):ml=0,gl(0)}}function Mv(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Jo(a)))}function ju(){return Cv(),Tv(),Av(),Ov()}function Ov(){if(At!==5)return!1;var s=Os,a=Hp;Hp=0;var c=ch(qr),d=R.T,g=F.p;try{F.p=32>c?32:c,R.T=null,c=Vp,Vp=null;var b=Os,S=qr;if(At=0,$a=Os=null,qr=0,(Ge&6)!==0)throw Error(r(331));var N=Ge;if(Ge|=4,dv(b.current),lv(b,b.current,S,c),Ge=N,gl(0,!1),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Do,b)}catch{}return!0}finally{F.p=g,R.T=d,Mv(s,a)}}function Rv(s,a,c){a=Pn(c,a),a=wp(s.stateNode,a,2),s=Es(s,a,2),s!==null&&(Io(s,2),br(s))}function Je(s,a,c){if(s.tag===3)Rv(s,s,c);else for(;a!==null;){if(a.tag===3){Rv(a,s,c);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ms===null||!Ms.has(d))){s=Pn(c,s),c=_x(2),d=Es(a,c,2),d!==null&&(jx(c,d,a,s),Io(d,2),br(d));break}}a=a.return}}function Gp(s,a,c){var d=s.pingCache;if(d===null){d=s.pingCache=new KA;var g=new Set;d.set(a,g)}else g=d.get(a),g===void 0&&(g=new Set,d.set(a,g));g.has(c)||(Pp=!0,g.add(c),s=QA.bind(null,s,a,c),a.then(s,s))}function QA(s,a,c){var d=s.pingCache;d!==null&&d.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,rt===s&&(Pe&c)===c&&(gt===4||gt===3&&(Pe&62914560)===Pe&&300>zt()-Tu?(Ge&2)===0&&qa(s,0):Bp|=c,Va===Pe&&(Va=0)),br(s)}function _v(s,a){a===0&&(a=Cb()),s=ki(s,a),s!==null&&(Io(s,a),br(s))}function ZA(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),_v(s,c)}function eM(s,a){var c=0;switch(s.tag){case 31:case 13:var d=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(a),_v(s,c)}function tM(s,a){return nr(s,a)}var Du=null,Ga=null,Kp=!1,Lu=!1,Wp=!1,_s=0;function br(s){s!==Ga&&s.next===null&&(Ga===null?Du=Ga=s:Ga=Ga.next=s),Lu=!0,Kp||(Kp=!0,rM())}function gl(s,a){if(!Wp&&Lu){Wp=!0;do for(var c=!1,d=Du;d!==null;){if(s!==0){var g=d.pendingLanes;if(g===0)var b=0;else{var S=d.suspendedLanes,N=d.pingedLanes;b=(1<<31-Sn(42|s)+1)-1,b&=g&~(S&~N),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,Iv(d,b))}else b=Pe,b=Bc(d,d===rt?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Lo(d,b)||(c=!0,Iv(d,b));d=d.next}while(c);Wp=!1}}function nM(){jv()}function jv(){Lu=Kp=!1;var s=0;_s!==0&&hM()&&(s=_s);for(var a=zt(),c=null,d=Du;d!==null;){var g=d.next,b=Dv(d,a);b===0?(d.next=null,c===null?Du=g:c.next=g,g===null&&(Ga=c)):(c=d,(s!==0||(b&3)!==0)&&(Lu=!0)),d=g}At!==0&&At!==5||gl(s),_s!==0&&(_s=0)}function Dv(s,a){for(var c=s.suspendedLanes,d=s.pingedLanes,g=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var S=31-Sn(b),N=1<<S,A=g[S];A===-1?((N&c)===0||(N&d)!==0)&&(g[S]=M2(N,a)):A<=a&&(s.expiredLanes|=N),b&=~N}if(a=rt,c=Pe,c=Bc(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,c===0||s===a&&(Ye===2||Ye===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&rr(d),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Lo(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(d!==null&&rr(d),ch(c)){case 2:case 8:c=W;break;case 32:c=Qe;break;case 268435456:c=Nb;break;default:c=Qe}return d=Lv.bind(null,s),c=nr(c,d),s.callbackPriority=a,s.callbackNode=c,a}return d!==null&&d!==null&&rr(d),s.callbackPriority=2,s.callbackNode=null,2}function Lv(s,a){if(At!==0&&At!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(ju()&&s.callbackNode!==c)return null;var d=Pe;return d=Bc(s,s===rt?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(gv(s,d,a),Dv(s,zt()),s.callbackNode!=null&&s.callbackNode===c?Lv.bind(null,s):null)}function Iv(s,a){if(ju())return null;gv(s,a,!0)}function rM(){mM(function(){(Ge&6)!==0?nr(ye,nM):jv()})}function Yp(){if(_s===0){var s=Ra;s===0&&(s=Ic,Ic<<=1,(Ic&261888)===0&&(Ic=256)),_s=s}return _s}function zv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:$c(""+s)}function Pv(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function sM(s,a,c,d,g){if(a==="submit"&&c&&c.stateNode===g){var b=zv((g[ln]||null).action),S=d.submitter;S&&(a=(a=S[ln]||null)?zv(a.formAction):S.getAttribute("formAction"),a!==null&&(b=a,S=null));var N=new Kc("action","action",null,d,g);s.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(_s!==0){var A=S?Pv(g,S):new FormData(g);mp(c,{pending:!0,data:A,method:g.method,action:b},null,A)}}else typeof b=="function"&&(N.preventDefault(),A=S?Pv(g,S):new FormData(g),mp(c,{pending:!0,data:A,method:g.method,action:b},b,A))},currentTarget:g}]})}}for(var Jp=0;Jp<_h.length;Jp++){var Xp=_h[Jp],iM=Xp.toLowerCase(),aM=Xp[0].toUpperCase()+Xp.slice(1);sr(iM,"on"+aM)}sr(m0,"onAnimationEnd"),sr(g0,"onAnimationIteration"),sr(y0,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(SA,"onTransitionRun"),sr(EA,"onTransitionStart"),sr(kA,"onTransitionCancel"),sr(b0,"onTransitionEnd"),ya("onMouseEnter",["mouseout","mouseover"]),ya("onMouseLeave",["mouseout","mouseover"]),ya("onPointerEnter",["pointerout","pointerover"]),ya("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function Bv(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],g=d.event;d=d.listeners;e:{var b=void 0;if(a)for(var S=d.length-1;0<=S;S--){var N=d[S],A=N.instance,z=N.currentTarget;if(N=N.listener,A!==b&&g.isPropagationStopped())break e;b=N,g.currentTarget=z;try{b(g)}catch(Y){Jc(Y)}g.currentTarget=null,b=A}else for(S=0;S<d.length;S++){if(N=d[S],A=N.instance,z=N.currentTarget,N=N.listener,A!==b&&g.isPropagationStopped())break e;b=N,g.currentTarget=z;try{b(g)}catch(Y){Jc(Y)}g.currentTarget=null,b=A}}}}function ze(s,a){var c=a[uh];c===void 0&&(c=a[uh]=new Set);var d=s+"__bubble";c.has(d)||(Uv(a,s,2,!1),c.add(d))}function Qp(s,a,c){var d=0;a&&(d|=4),Uv(c,s,d,a)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function Zp(s){if(!s[Iu]){s[Iu]=!0,jb.forEach(function(c){c!=="selectionchange"&&(oM.has(c)||Qp(c,!1,s),Qp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Iu]||(a[Iu]=!0,Qp("selectionchange",!1,a))}}function Uv(s,a,c,d){switch(m1(a)){case 2:var g=LM;break;case 8:g=IM;break;default:g=pm}c=g.bind(null,a,c,s),g=void 0,!xh||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),d?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function em(s,a,c,d,g){var b=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var N=d.stateNode.containerInfo;if(N===g)break;if(S===4)for(S=d.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;N!==null;){if(S=pa(N),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){d=b=S;continue e}N=N.parentNode}}d=d.return}Fb(function(){var z=b,Y=yh(c),Z=[];e:{var P=x0.get(s);if(P!==void 0){var q=Kc,de=s;switch(s){case"keypress":if(Fc(c)===0)break e;case"keydown":case"keyup":q=eA;break;case"focusin":de="focus",q=Eh;break;case"focusout":de="blur",q=Eh;break;case"beforeblur":case"afterblur":q=Eh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Wb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=V2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=rA;break;case m0:case g0:case y0:q=F2;break;case b0:q=iA;break;case"scroll":case"scrollend":q=U2;break;case"wheel":q=oA;break;case"copy":case"cut":case"paste":q=K2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Jb;break;case"toggle":case"beforetoggle":q=cA}var Ee=(a&4)!==0,tt=!Ee&&(s==="scroll"||s==="scrollend"),D=Ee?P!==null?P+"Capture":null:P;Ee=[];for(var _=z,I;_!==null;){var Q=_;if(I=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||I===null||D===null||(Q=Bo(_,D),Q!=null&&Ee.push(bl(_,Q,I))),tt)break;_=_.return}0<Ee.length&&(P=new q(P,de,null,c,Y),Z.push({event:P,listeners:Ee}))}}if((a&7)===0){e:{if(P=s==="mouseover"||s==="pointerover",q=s==="mouseout"||s==="pointerout",P&&c!==gh&&(de=c.relatedTarget||c.fromElement)&&(pa(de)||de[ha]))break e;if((q||P)&&(P=Y.window===Y?Y:(P=Y.ownerDocument)?P.defaultView||P.parentWindow:window,q?(de=c.relatedTarget||c.toElement,q=z,de=de?pa(de):null,de!==null&&(tt=o(de),Ee=de.tag,de!==tt||Ee!==5&&Ee!==27&&Ee!==6)&&(de=null)):(q=null,de=z),q!==de)){if(Ee=Wb,Q="onMouseLeave",D="onMouseEnter",_="mouse",(s==="pointerout"||s==="pointerover")&&(Ee=Jb,Q="onPointerLeave",D="onPointerEnter",_="pointer"),tt=q==null?P:Po(q),I=de==null?P:Po(de),P=new Ee(Q,_+"leave",q,c,Y),P.target=tt,P.relatedTarget=I,Q=null,pa(Y)===z&&(Ee=new Ee(D,_+"enter",de,c,Y),Ee.target=I,Ee.relatedTarget=tt,Q=Ee),tt=Q,q&&de)t:{for(Ee=lM,D=q,_=de,I=0,Q=D;Q;Q=Ee(Q))I++;Q=0;for(var xe=_;xe;xe=Ee(xe))Q++;for(;0<I-Q;)D=Ee(D),I--;for(;0<Q-I;)_=Ee(_),Q--;for(;I--;){if(D===_||_!==null&&D===_.alternate){Ee=D;break t}D=Ee(D),_=Ee(_)}Ee=null}else Ee=null;q!==null&&Hv(Z,P,q,Ee,!1),de!==null&&tt!==null&&Hv(Z,tt,de,Ee,!0)}}e:{if(P=z?Po(z):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var He=s0;else if(n0(P))if(i0)He=xA;else{He=yA;var me=gA}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&mh(z.elementType)&&(He=s0):He=bA;if(He&&(He=He(s,z))){r0(Z,He,c,Y);break e}me&&me(s,P,z),s==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&ph(P,"number",P.value)}switch(me=z?Po(z):window,s){case"focusin":(n0(me)||me.contentEditable==="true")&&(Ea=me,Mh=z,Ko=null);break;case"focusout":Ko=Mh=Ea=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,h0(Z,c,Y);break;case"selectionchange":if(wA)break;case"keydown":case"keyup":h0(Z,c,Y)}var _e;if(Nh)e:{switch(s){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Sa?e0(s,c)&&(Be="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Be="onCompositionStart");Be&&(Xb&&c.locale!=="ko"&&(Sa||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Sa&&(_e=Gb()):(gs=Y,vh="value"in gs?gs.value:gs.textContent,Sa=!0)),me=zu(z,Be),0<me.length&&(Be=new Yb(Be,s,null,c,Y),Z.push({event:Be,listeners:me}),_e?Be.data=_e:(_e=t0(c),_e!==null&&(Be.data=_e)))),(_e=dA?fA(s,c):hA(s,c))&&(Be=zu(z,"onBeforeInput"),0<Be.length&&(me=new Yb("onBeforeInput","beforeinput",null,c,Y),Z.push({event:me,listeners:Be}),me.data=_e)),sM(Z,s,z,c,Y)}Bv(Z,a)})}function bl(s,a,c){return{instance:s,listener:a,currentTarget:c}}function zu(s,a){for(var c=a+"Capture",d=[];s!==null;){var g=s,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Bo(s,c),g!=null&&d.unshift(bl(s,g,b)),g=Bo(s,a),g!=null&&d.push(bl(s,g,b))),s.tag===3)return d;s=s.return}return[]}function lM(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Hv(s,a,c,d,g){for(var b=a._reactName,S=[];c!==null&&c!==d;){var N=c,A=N.alternate,z=N.stateNode;if(N=N.tag,A!==null&&A===d)break;N!==5&&N!==26&&N!==27||z===null||(A=z,g?(z=Bo(c,b),z!=null&&S.unshift(bl(c,z,A))):g||(z=Bo(c,b),z!=null&&S.push(bl(c,z,A)))),c=c.return}S.length!==0&&s.push({event:a,listeners:S})}var cM=/\r\n?/g,uM=/\u0000|\uFFFD/g;function Vv(s){return(typeof s=="string"?s:""+s).replace(cM,`
`).replace(uM,"")}function $v(s,a){return a=Vv(a),Vv(s)===a}function et(s,a,c,d,g,b){switch(c){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||xa(s,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&xa(s,""+d);break;case"className":Hc(s,"class",d);break;case"tabIndex":Hc(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Hc(s,c,d);break;case"style":$b(s,d,b);break;case"data":if(a!=="object"){Hc(s,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=$c(""+d),s.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(a!=="input"&&et(s,a,"name",g.name,g,null),et(s,a,"formEncType",g.formEncType,g,null),et(s,a,"formMethod",g.formMethod,g,null),et(s,a,"formTarget",g.formTarget,g,null)):(et(s,a,"encType",g.encType,g,null),et(s,a,"method",g.method,g,null),et(s,a,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=$c(""+d),s.setAttribute(c,d);break;case"onClick":d!=null&&(s.onclick=Mr);break;case"onScroll":d!=null&&ze("scroll",s);break;case"onScrollEnd":d!=null&&ze("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}c=$c(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""+d):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":d===!0?s.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,d):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(c,d):s.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(c):s.setAttribute(c,d);break;case"popover":ze("beforetoggle",s),ze("toggle",s),Uc(s,"popover",d);break;case"xlinkActuate":Ar(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Ar(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Ar(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Ar(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Ar(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Ar(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Ar(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Ar(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Ar(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Uc(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=P2.get(c)||c,Uc(s,c,d))}}function tm(s,a,c,d,g,b){switch(c){case"style":$b(s,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof d=="string"?xa(s,d):(typeof d=="number"||typeof d=="bigint")&&xa(s,""+d);break;case"onScroll":d!=null&&ze("scroll",s);break;case"onScrollEnd":d!=null&&ze("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Mr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Db.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),a=c.slice(2,g?c.length-7:void 0),b=s[ln]||null,b=b!=null?b[c]:null,typeof b=="function"&&s.removeEventListener(a,b,g),typeof d=="function")){typeof b!="function"&&b!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,d,g);break e}c in s?s[c]=d:d===!0?s.setAttribute(c,""):Uc(s,c,d)}}}function Vt(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",s),ze("load",s);var d=!1,g=!1,b;for(b in c)if(c.hasOwnProperty(b)){var S=c[b];if(S!=null)switch(b){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:et(s,a,b,S,c,null)}}g&&et(s,a,"srcSet",c.srcSet,c,null),d&&et(s,a,"src",c.src,c,null);return;case"input":ze("invalid",s);var N=b=S=g=null,A=null,z=null;for(d in c)if(c.hasOwnProperty(d)){var Y=c[d];if(Y!=null)switch(d){case"name":g=Y;break;case"type":S=Y;break;case"checked":A=Y;break;case"defaultChecked":z=Y;break;case"value":b=Y;break;case"defaultValue":N=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,a));break;default:et(s,a,d,Y,c,null)}}Bb(s,b,N,A,z,S,g,!1);return;case"select":ze("invalid",s),d=S=b=null;for(g in c)if(c.hasOwnProperty(g)&&(N=c[g],N!=null))switch(g){case"value":b=N;break;case"defaultValue":S=N;break;case"multiple":d=N;default:et(s,a,g,N,c,null)}a=b,c=S,s.multiple=!!d,a!=null?ba(s,!!d,a,!1):c!=null&&ba(s,!!d,c,!0);return;case"textarea":ze("invalid",s),b=g=d=null;for(S in c)if(c.hasOwnProperty(S)&&(N=c[S],N!=null))switch(S){case"value":d=N;break;case"defaultValue":g=N;break;case"children":b=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:et(s,a,S,N,c,null)}Hb(s,d,g,b);return;case"option":for(A in c)c.hasOwnProperty(A)&&(d=c[A],d!=null)&&(A==="selected"?s.selected=d&&typeof d!="function"&&typeof d!="symbol":et(s,a,A,d,c,null));return;case"dialog":ze("beforetoggle",s),ze("toggle",s),ze("cancel",s),ze("close",s);break;case"iframe":case"object":ze("load",s);break;case"video":case"audio":for(d=0;d<yl.length;d++)ze(yl[d],s);break;case"image":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"embed":case"source":case"link":ze("error",s),ze("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in c)if(c.hasOwnProperty(z)&&(d=c[z],d!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:et(s,a,z,d,c,null)}return;default:if(mh(a)){for(Y in c)c.hasOwnProperty(Y)&&(d=c[Y],d!==void 0&&tm(s,a,Y,d,c,void 0));return}}for(N in c)c.hasOwnProperty(N)&&(d=c[N],d!=null&&et(s,a,N,d,c,null))}function dM(s,a,c,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,S=null,N=null,A=null,z=null,Y=null;for(q in c){var Z=c[q];if(c.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":A=Z;default:d.hasOwnProperty(q)||et(s,a,q,null,d,Z)}}for(var P in d){var q=d[P];if(Z=c[P],d.hasOwnProperty(P)&&(q!=null||Z!=null))switch(P){case"type":b=q;break;case"name":g=q;break;case"checked":z=q;break;case"defaultChecked":Y=q;break;case"value":S=q;break;case"defaultValue":N=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,a));break;default:q!==Z&&et(s,a,P,q,d,Z)}}hh(s,S,N,A,z,Y,b,g);return;case"select":q=S=N=P=null;for(b in c)if(A=c[b],c.hasOwnProperty(b)&&A!=null)switch(b){case"value":break;case"multiple":q=A;default:d.hasOwnProperty(b)||et(s,a,b,null,d,A)}for(g in d)if(b=d[g],A=c[g],d.hasOwnProperty(g)&&(b!=null||A!=null))switch(g){case"value":P=b;break;case"defaultValue":N=b;break;case"multiple":S=b;default:b!==A&&et(s,a,g,b,d,A)}a=N,c=S,d=q,P!=null?ba(s,!!c,P,!1):!!d!=!!c&&(a!=null?ba(s,!!c,a,!0):ba(s,!!c,c?[]:"",!1));return;case"textarea":q=P=null;for(N in c)if(g=c[N],c.hasOwnProperty(N)&&g!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:et(s,a,N,null,d,g)}for(S in d)if(g=d[S],b=c[S],d.hasOwnProperty(S)&&(g!=null||b!=null))switch(S){case"value":P=g;break;case"defaultValue":q=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&et(s,a,S,g,d,b)}Ub(s,P,q);return;case"option":for(var de in c)P=c[de],c.hasOwnProperty(de)&&P!=null&&!d.hasOwnProperty(de)&&(de==="selected"?s.selected=!1:et(s,a,de,null,d,P));for(A in d)P=d[A],q=c[A],d.hasOwnProperty(A)&&P!==q&&(P!=null||q!=null)&&(A==="selected"?s.selected=P&&typeof P!="function"&&typeof P!="symbol":et(s,a,A,P,d,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in c)P=c[Ee],c.hasOwnProperty(Ee)&&P!=null&&!d.hasOwnProperty(Ee)&&et(s,a,Ee,null,d,P);for(z in d)if(P=d[z],q=c[z],d.hasOwnProperty(z)&&P!==q&&(P!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,a));break;default:et(s,a,z,P,d,q)}return;default:if(mh(a)){for(var tt in c)P=c[tt],c.hasOwnProperty(tt)&&P!==void 0&&!d.hasOwnProperty(tt)&&tm(s,a,tt,void 0,d,P);for(Y in d)P=d[Y],q=c[Y],!d.hasOwnProperty(Y)||P===q||P===void 0&&q===void 0||tm(s,a,Y,P,d,q);return}}for(var D in c)P=c[D],c.hasOwnProperty(D)&&P!=null&&!d.hasOwnProperty(D)&&et(s,a,D,null,d,P);for(Z in d)P=d[Z],q=c[Z],!d.hasOwnProperty(Z)||P===q||P==null&&q==null||et(s,a,Z,P,d,q)}function qv(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fM(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),d=0;d<c.length;d++){var g=c[d],b=g.transferSize,S=g.initiatorType,N=g.duration;if(b&&N&&qv(S)){for(S=0,N=g.responseEnd,d+=1;d<c.length;d++){var A=c[d],z=A.startTime;if(z>N)break;var Y=A.transferSize,Z=A.initiatorType;Y&&qv(Z)&&(A=A.responseEnd,S+=Y*(A<N?1:(N-z)/(A-z)))}if(--d,a+=8*(b+S)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var nm=null,rm=null;function Pu(s){return s.nodeType===9?s:s.ownerDocument}function Fv(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gv(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function sm(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var im=null;function hM(){var s=window.event;return s&&s.type==="popstate"?s===im?!1:(im=s,!0):(im=null,!1)}var Kv=typeof setTimeout=="function"?setTimeout:void 0,pM=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,mM=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(s){return Wv.resolve(null).then(s).catch(gM)}:Kv;function gM(s){setTimeout(function(){throw s})}function js(s){return s==="head"}function Yv(s,a){var c=a,d=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(d===0){s.removeChild(g),Ja(a);return}d--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")d++;else if(c==="html")xl(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,xl(c);for(var b=c.firstChild;b;){var S=b.nextSibling,N=b.nodeName;b[zo]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=S}}else c==="body"&&xl(s.ownerDocument.body);c=g}while(c);Ja(a)}function Jv(s,a){var c=s;s=0;do{var d=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),d&&d.nodeType===8)if(c=d.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=d}while(c)}function am(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":am(c),dh(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function yM(s,a,c,d){for(;s.nodeType===1;){var g=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[zo])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=$n(s.nextSibling),s===null)break}return null}function bM(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=$n(s.nextSibling),s===null))return null;return s}function Xv(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=$n(s.nextSibling),s===null))return null;return s}function om(s){return s.data==="$?"||s.data==="$~"}function lm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function xM(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var d=function(){a(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function $n(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var cm=null;function Qv(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return $n(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function Zv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function e1(s,a,c){switch(a=Pu(c),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function xl(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);dh(s)}var qn=new Map,t1=new Set;function Bu(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Fr=F.d;F.d={f:vM,r:wM,D:SM,C:EM,L:kM,m:NM,X:TM,S:CM,M:AM};function vM(){var s=Fr.f(),a=Ou();return s||a}function wM(s){var a=ma(s);a!==null&&a.tag===5&&a.type==="form"?bx(a):Fr.r(s)}var Ka=typeof document>"u"?null:document;function n1(s,a,c){var d=Ka;if(d&&typeof a=="string"&&a){var g=In(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),t1.has(g)||(t1.add(g),s={rel:s,crossOrigin:c,href:a},d.querySelector(g)===null&&(a=d.createElement("link"),Vt(a,"link",s),Rt(a),d.head.appendChild(a)))}}function SM(s){Fr.D(s),n1("dns-prefetch",s,null)}function EM(s,a){Fr.C(s,a),n1("preconnect",s,a)}function kM(s,a,c){Fr.L(s,a,c);var d=Ka;if(d&&s&&a){var g='link[rel="preload"][as="'+In(a)+'"]';a==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+In(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+In(c.imageSizes)+'"]')):g+='[href="'+In(s)+'"]';var b=g;switch(a){case"style":b=Wa(s);break;case"script":b=Ya(s)}qn.has(b)||(s=y({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),qn.set(b,s),d.querySelector(g)!==null||a==="style"&&d.querySelector(vl(b))||a==="script"&&d.querySelector(wl(b))||(a=d.createElement("link"),Vt(a,"link",s),Rt(a),d.head.appendChild(a)))}}function NM(s,a){Fr.m(s,a);var c=Ka;if(c&&s){var d=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+In(d)+'"][href="'+In(s)+'"]',b=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ya(s)}if(!qn.has(b)&&(s=y({rel:"modulepreload",href:s},a),qn.set(b,s),c.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(wl(b)))return}d=c.createElement("link"),Vt(d,"link",s),Rt(d),c.head.appendChild(d)}}}function CM(s,a,c){Fr.S(s,a,c);var d=Ka;if(d&&s){var g=ga(d).hoistableStyles,b=Wa(s);a=a||"default";var S=g.get(b);if(!S){var N={loading:0,preload:null};if(S=d.querySelector(vl(b)))N.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},c),(c=qn.get(b))&&um(s,c);var A=S=d.createElement("link");Rt(A),Vt(A,"link",s),A._p=new Promise(function(z,Y){A.onload=z,A.onerror=Y}),A.addEventListener("load",function(){N.loading|=1}),A.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Uu(S,a,d)}S={type:"stylesheet",instance:S,count:1,state:N},g.set(b,S)}}}function TM(s,a){Fr.X(s,a);var c=Ka;if(c&&s){var d=ga(c).hoistableScripts,g=Ya(s),b=d.get(g);b||(b=c.querySelector(wl(g)),b||(s=y({src:s,async:!0},a),(a=qn.get(g))&&dm(s,a),b=c.createElement("script"),Rt(b),Vt(b,"link",s),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(g,b))}}function AM(s,a){Fr.M(s,a);var c=Ka;if(c&&s){var d=ga(c).hoistableScripts,g=Ya(s),b=d.get(g);b||(b=c.querySelector(wl(g)),b||(s=y({src:s,async:!0,type:"module"},a),(a=qn.get(g))&&dm(s,a),b=c.createElement("script"),Rt(b),Vt(b,"link",s),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(g,b))}}function r1(s,a,c,d){var g=(g=Ce.current)?Bu(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=Wa(c.href),c=ga(g).hoistableStyles,d=c.get(a),d||(d={type:"style",instance:null,count:0,state:null},c.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Wa(c.href);var b=ga(g).hoistableStyles,S=b.get(s);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,S),(b=g.querySelector(vl(s)))&&!b._p&&(S.instance=b,S.state.loading=5),qn.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},qn.set(s,c),b||MM(g,s,c,S.state))),a&&d===null)throw Error(r(528,""));return S}if(a&&d!==null)throw Error(r(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ya(c),c=ga(g).hoistableScripts,d=c.get(a),d||(d={type:"script",instance:null,count:0,state:null},c.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Wa(s){return'href="'+In(s)+'"'}function vl(s){return'link[rel="stylesheet"]['+s+"]"}function s1(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function MM(s,a,c,d){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=s.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),Vt(a,"link",c),Rt(a),s.head.appendChild(a))}function Ya(s){return'[src="'+In(s)+'"]'}function wl(s){return"script[async]"+s}function i1(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var d=s.querySelector('style[data-href~="'+In(c.href)+'"]');if(d)return a.instance=d,Rt(d),d;var g=y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Rt(d),Vt(d,"style",g),Uu(d,c.precedence,s),a.instance=d;case"stylesheet":g=Wa(c.href);var b=s.querySelector(vl(g));if(b)return a.state.loading|=4,a.instance=b,Rt(b),b;d=s1(c),(g=qn.get(g))&&um(d,g),b=(s.ownerDocument||s).createElement("link"),Rt(b);var S=b;return S._p=new Promise(function(N,A){S.onload=N,S.onerror=A}),Vt(b,"link",d),a.state.loading|=4,Uu(b,c.precedence,s),a.instance=b;case"script":return b=Ya(c.src),(g=s.querySelector(wl(b)))?(a.instance=g,Rt(g),g):(d=c,(g=qn.get(b))&&(d=y({},c),dm(d,g)),s=s.ownerDocument||s,g=s.createElement("script"),Rt(g),Vt(g,"link",d),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Uu(d,c.precedence,s));return a.instance}function Uu(s,a,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,b=g,S=0;S<d.length;S++){var N=d[S];if(N.dataset.precedence===a)b=N;else if(b!==g)break}b?b.parentNode.insertBefore(s,b.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function um(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function dm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Hu=null;function a1(s,a,c){if(Hu===null){var d=new Map,g=Hu=new Map;g.set(c,d)}else g=Hu,d=g.get(c),d||(d=new Map,g.set(c,d));if(d.has(s))return d;for(d.set(s,null),c=c.getElementsByTagName(s),g=0;g<c.length;g++){var b=c[g];if(!(b[zo]||b[Pt]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var S=b.getAttribute(a)||"";S=s+S;var N=d.get(S);N?N.push(b):d.set(S,[b])}}return d}function o1(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function OM(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function l1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function RM(s,a,c,d){if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=Wa(d.href),b=a.querySelector(vl(g));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Vu.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=b,Rt(b);return}b=a.ownerDocument||a,d=s1(d),(g=qn.get(g))&&um(d,g),b=b.createElement("link"),Rt(b);var S=b;S._p=new Promise(function(N,A){S.onload=N,S.onerror=A}),Vt(b,"link",d),c.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=Vu.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var fm=0;function _M(s,a){return s.stylesheets&&s.count===0&&qu(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var d=setTimeout(function(){if(s.stylesheets&&qu(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+a);0<s.imgBytes&&fm===0&&(fm=62500*fM());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&qu(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>fm?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(g)}}:null}function Vu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qu(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var $u=null;function qu(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,$u=new Map,a.forEach(jM,s),$u=null,Vu.call(s))}function jM(s,a){if(!(a.state.loading&4)){var c=$u.get(s);if(c)var d=c.get(null);else{c=new Map,$u.set(s,c);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var S=g[b];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),d=S)}d&&c.set(null,d)}g=a.instance,S=g.getAttribute("data-precedence"),b=c.get(S)||d,b===d&&c.set(null,g),c.set(S,g),this.count++,d=Vu.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),b?b.parentNode.insertBefore(g,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var Sl={$$typeof:j,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function DM(s,a,c,d,g,b,S,N,A){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oh(0),this.hiddenUpdates=oh(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function c1(s,a,c,d,g,b,S,N,A,z,Y,Z){return s=new DM(s,a,c,S,A,z,Y,Z,N),a=1,b===!0&&(a|=24),b=kn(3,null,null,a),s.current=b,b.stateNode=s,a=Fh(),a.refCount++,s.pooledCache=a,a.refCount++,b.memoizedState={element:d,isDehydrated:c,cache:a},Yh(b),s}function u1(s){return s?(s=Ca,s):Ca}function d1(s,a,c,d,g,b){g=u1(g),d.context===null?d.context=g:d.pendingContext=g,d=Ss(a),d.payload={element:c},b=b===void 0?null:b,b!==null&&(d.callback=b),c=Es(s,d,a),c!==null&&(pn(c,s,a),el(c,s,a))}function f1(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function hm(s,a){f1(s,a),(s=s.alternate)&&f1(s,a)}function h1(s){if(s.tag===13||s.tag===31){var a=ki(s,67108864);a!==null&&pn(a,s,67108864),hm(s,67108864)}}function p1(s){if(s.tag===13||s.tag===31){var a=Mn();a=lh(a);var c=ki(s,a);c!==null&&pn(c,s,a),hm(s,a)}}var Fu=!0;function LM(s,a,c,d){var g=R.T;R.T=null;var b=F.p;try{F.p=2,pm(s,a,c,d)}finally{F.p=b,R.T=g}}function IM(s,a,c,d){var g=R.T;R.T=null;var b=F.p;try{F.p=8,pm(s,a,c,d)}finally{F.p=b,R.T=g}}function pm(s,a,c,d){if(Fu){var g=mm(d);if(g===null)em(s,a,d,Gu,c),g1(s,d);else if(PM(g,s,a,c,d))d.stopPropagation();else if(g1(s,d),a&4&&-1<zM.indexOf(s)){for(;g!==null;){var b=ma(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var S=xi(b.pendingLanes);if(S!==0){var N=b;for(N.pendingLanes|=2,N.entangledLanes|=2;S;){var A=1<<31-Sn(S);N.entanglements[1]|=A,S&=~A}br(b),(Ge&6)===0&&(Au=zt()+500,gl(0))}}break;case 31:case 13:N=ki(b,2),N!==null&&pn(N,b,2),Ou(),hm(b,2)}if(b=mm(d),b===null&&em(s,a,d,Gu,c),b===g)break;g=b}g!==null&&d.stopPropagation()}else em(s,a,d,null,c)}}function mm(s){return s=yh(s),gm(s)}var Gu=null;function gm(s){if(Gu=null,s=pa(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Gu=s,null}function m1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case ye:return 2;case W:return 8;case Qe:case en:return 32;case Nb:return 268435456;default:return 32}default:return 32}}var ym=!1,Ds=null,Ls=null,Is=null,El=new Map,kl=new Map,zs=[],zM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g1(s,a){switch(s){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":El.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(a.pointerId)}}function Nl(s,a,c,d,g,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:c,eventSystemFlags:d,nativeEvent:b,targetContainers:[g]},a!==null&&(a=ma(a),a!==null&&h1(a)),s):(s.eventSystemFlags|=d,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function PM(s,a,c,d,g){switch(a){case"focusin":return Ds=Nl(Ds,s,a,c,d,g),!0;case"dragenter":return Ls=Nl(Ls,s,a,c,d,g),!0;case"mouseover":return Is=Nl(Is,s,a,c,d,g),!0;case"pointerover":var b=g.pointerId;return El.set(b,Nl(El.get(b)||null,s,a,c,d,g)),!0;case"gotpointercapture":return b=g.pointerId,kl.set(b,Nl(kl.get(b)||null,s,a,c,d,g)),!0}return!1}function y1(s){var a=pa(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,Rb(s.priority,function(){p1(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,Rb(s.priority,function(){p1(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ku(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=mm(s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);gh=d,c.target.dispatchEvent(d),gh=null}else return a=ma(c),a!==null&&h1(a),s.blockedOn=c,!1;a.shift()}return!0}function b1(s,a,c){Ku(s)&&c.delete(a)}function BM(){ym=!1,Ds!==null&&Ku(Ds)&&(Ds=null),Ls!==null&&Ku(Ls)&&(Ls=null),Is!==null&&Ku(Is)&&(Is=null),El.forEach(b1),kl.forEach(b1)}function Wu(s,a){s.blockedOn===a&&(s.blockedOn=null,ym||(ym=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,BM)))}var Yu=null;function x1(s){Yu!==s&&(Yu=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Yu===s&&(Yu=null);for(var a=0;a<s.length;a+=3){var c=s[a],d=s[a+1],g=s[a+2];if(typeof d!="function"){if(gm(d||c)===null)continue;break}var b=ma(c);b!==null&&(s.splice(a,3),a-=3,mp(b,{pending:!0,data:g,method:c.method,action:d},d,g))}}))}function Ja(s){function a(A){return Wu(A,s)}Ds!==null&&Wu(Ds,s),Ls!==null&&Wu(Ls,s),Is!==null&&Wu(Is,s),El.forEach(a),kl.forEach(a);for(var c=0;c<zs.length;c++){var d=zs[c];d.blockedOn===s&&(d.blockedOn=null)}for(;0<zs.length&&(c=zs[0],c.blockedOn===null);)y1(c),c.blockedOn===null&&zs.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var g=c[d],b=c[d+1],S=g[ln]||null;if(typeof b=="function")S||x1(c);else if(S){var N=null;if(b&&b.hasAttribute("formAction")){if(g=b,S=b[ln]||null)N=S.formAction;else if(gm(g)!==null)continue}else N=S.action;typeof N=="function"?c[d+1]=N:(c.splice(d,3),d-=3),x1(c)}}}function v1(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(S){return g=S})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),d||setTimeout(c,20)}function c(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function bm(s){this._internalRoot=s}Ju.prototype.render=bm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var c=a.current,d=Mn();d1(c,d,s,a,null,null)},Ju.prototype.unmount=bm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;d1(s.current,2,null,s,null,null),Ou(),a[ha]=null}};function Ju(s){this._internalRoot=s}Ju.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ob();s={blockedOn:null,target:s,priority:a};for(var c=0;c<zs.length&&a!==0&&a<zs[c].priority;c++);zs.splice(c,0,s),c===0&&y1(s)}};var w1=e.version;if(w1!=="19.2.3")throw Error(r(527,w1,"19.2.3"));F.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var UM={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{Do=Xu.inject(UM),wn=Xu}catch{}}return Tl.createRoot=function(s,a){if(!i(s))throw Error(r(299));var c=!1,d="",g=Ax,b=Mx,S=Ox;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),a=c1(s,1,!1,null,null,c,d,null,g,b,S,v1),s[ha]=a.current,Zp(s),new bm(a)},Tl.hydrateRoot=function(s,a,c){if(!i(s))throw Error(r(299));var d=!1,g="",b=Ax,S=Mx,N=Ox,A=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError),c.formState!==void 0&&(A=c.formState)),a=c1(s,1,!0,a,c??null,d,g,A,b,S,N,v1),a.context=u1(null),c=a.current,d=Mn(),d=lh(d),g=Ss(d),g.callback=null,Es(c,g,d),c=d,a.current.lanes=c,Io(a,c),br(a),s[ha]=a.current,Zp(s),new Ju(a)},Tl.version="19.2.3",Tl}var R1;function YM(){if(R1)return wm.exports;R1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wm.exports=WM(),wm.exports}var JM=YM();var _1="popstate";function XM(t={}){function e(r,i){let{pathname:o,search:l,hash:u}=r.location;return yg("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ec(i)}return ZM(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QM(){return Math.random().toString(36).substring(2,10)}function j1(t,e){return{usr:t.state,key:t.key,idx:e}}function yg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Eo(e):e,state:n,key:e&&e.key||r||QM()}}function ec({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Eo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ZM(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",f=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function y(){u="POP";let E=m(),C=E==null?null:E-h;h=E,f&&f({action:u,location:k.location,delta:C})}function x(E,C){u="PUSH";let O=yg(k.location,E,C);h=m()+1;let j=j1(O,h),B=k.createHref(O);try{l.pushState(j,"",B)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(B)}o&&f&&f({action:u,location:k.location,delta:1})}function v(E,C){u="REPLACE";let O=yg(k.location,E,C);h=m();let j=j1(O,h),B=k.createHref(O);l.replaceState(j,"",B),o&&f&&f({action:u,location:k.location,delta:0})}function w(E){return eO(E)}let k={get action(){return u},get location(){return t(i,l)},listen(E){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(_1,y),f=E,()=>{i.removeEventListener(_1,y),f=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let C=w(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:v,go(E){return l.go(E)}};return k}function eO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ec(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function CE(t,e,n="/"){return tO(t,e,n,!1)}function tO(t,e,n,r){let i=typeof e=="string"?Eo(e):e,o=as(i.pathname||"/",n);if(o==null)return null;let l=TE(t);nO(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=hO(o);u=dO(l[f],h,r)}return u}function TE(t,e=[],n=[],r="",i=!1){let o=(l,u,f=i,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&f)return;dt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let y=ns([r,m.relativePath]),x=n.concat(m);l.children&&l.children.length>0&&(dt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),TE(l.children,e,x,y,f)),!(l.path==null&&!l.index)&&e.push({path:y,score:cO(y,l.index),routesMeta:x})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let f of AE(l.path))o(l,u,!0,f)}),e}function AE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=AE(r.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),i&&u.push(...l),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function nO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var rO=/^:[\w-]+$/,sO=3,iO=2,aO=1,oO=10,lO=-2,D1=t=>t==="*";function cO(t,e){let n=t.split("/"),r=n.length;return n.some(D1)&&(r+=lO),e&&(r+=iO),n.filter(i=>!D1(i)).reduce((i,o)=>i+(rO.test(o)?sO:o===""?aO:oO),r)}function uO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dO(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=Rd({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),x=f.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=Rd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:ns([o,y.pathname]),pathnameBase:yO(ns([o,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(o=ns([o,y.pathnameBase]))}return l}function Rd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:y},x)=>{if(m==="*"){let w=u[x]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const v=u[x];return y&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function fO(t,e=!1,n=!0){Qn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function as(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var ME=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pO=t=>ME.test(t);function mO(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Eo(t):t,o;if(n)if(pO(n))o=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Qn(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?o=L1(n.substring(1),"/"):o=L1(n,e)}else o=e;return{pathname:o,search:bO(r),hash:xO(i)}}function L1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function py(t){let e=gO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function my(t,e,n,r=!1){let i;typeof t=="string"?i=Eo(t):(i={...t},dt(!i.pathname||!i.pathname.includes("?"),Nm("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),Nm("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),Nm("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),y-=1;i.pathname=x.join("/")}u=y>=0?e[y]:"/"}let f=mO(i,u),h=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var ns=t=>t.join("/").replace(/\/\/+/g,"/"),yO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,vO=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function wO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function SO(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var OE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function RE(t,e){let n=t;if(typeof n!="string"||!ME.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(OE)try{let o=new URL(window.location.href),l=n.startsWith("//")?new URL(o.protocol+n):new URL(n),u=as(l.pathname,e);l.origin===o.origin&&u!=null?n=u+l.search+l.hash:i=!0}catch{Qn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _E=["POST","PUT","PATCH","DELETE"];new Set(_E);var EO=["GET",..._E];new Set(EO);var ko=T.createContext(null);ko.displayName="DataRouter";var Lf=T.createContext(null);Lf.displayName="DataRouterState";var kO=T.createContext(!1),jE=T.createContext({isTransitioning:!1});jE.displayName="ViewTransition";var NO=T.createContext(new Map);NO.displayName="Fetchers";var CO=T.createContext(null);CO.displayName="Await";var _n=T.createContext(null);_n.displayName="Navigation";var bc=T.createContext(null);bc.displayName="Location";var er=T.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var gy=T.createContext(null);gy.displayName="RouteError";var DE="REACT_ROUTER_ERROR",TO="REDIRECT",AO="ROUTE_ERROR_RESPONSE";function MO(t){if(t.startsWith(`${DE}:${TO}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function OO(t){if(t.startsWith(`${DE}:${AO}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new vO(e.status,e.statusText,e.data)}catch{}}function RO(t,{relative:e}={}){dt(No(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(_n),{hash:i,pathname:o,search:l}=xc(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:ns([n,o])),r.createHref({pathname:u,search:l,hash:i})}function No(){return T.useContext(bc)!=null}function fr(){return dt(No(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(bc).location}var LE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IE(t){T.useContext(_n).static||T.useLayoutEffect(t)}function la(){let{isDataRoute:t}=T.useContext(er);return t?GO():_O()}function _O(){dt(No(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(ko),{basename:e,navigator:n}=T.useContext(_n),{matches:r}=T.useContext(er),{pathname:i}=fr(),o=JSON.stringify(py(r)),l=T.useRef(!1);return IE(()=>{l.current=!0}),T.useCallback((f,h={})=>{if(Qn(l.current,LE),!l.current)return;if(typeof f=="number"){n.go(f);return}let m=my(f,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ns([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,o,i,t])}var jO=T.createContext(null);function DO(t){let e=T.useContext(er).outlet;return T.useMemo(()=>e&&T.createElement(jO.Provider,{value:t},e),[e,t])}function zE(){let{matches:t}=T.useContext(er),e=t[t.length-1];return e?e.params:{}}function xc(t,{relative:e}={}){let{matches:n}=T.useContext(er),{pathname:r}=fr(),i=JSON.stringify(py(n));return T.useMemo(()=>my(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function LO(t,e){return PE(t,e)}function PE(t,e,n,r,i){dt(No(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=T.useContext(_n),{matches:l}=T.useContext(er),u=l[l.length-1],f=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let O=y&&y.path||"";UE(h,!y||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let x=fr(),v;if(e){let O=typeof e=="string"?Eo(e):e;dt(m==="/"||O.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${O.pathname}" was given in the \`location\` prop.`),v=O}else v=x;let w=v.pathname||"/",k=w;if(m!=="/"){let O=m.replace(/^\//,"").split("/");k="/"+w.replace(/^\//,"").split("/").slice(O.length).join("/")}let E=CE(t,{pathname:k});Qn(y||E!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Qn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=UO(E&&E.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:ns([m,o.encodeLocation?o.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:ns([m,o.encodeLocation?o.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),l,n,r,i);return e&&C?T.createElement(bc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},C):C}function IO(){let t=FO(),e=wO(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:o},"ErrorBoundary")," or"," ",T.createElement("code",{style:o},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,l)}var zO=T.createElement(IO,null),BE=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=OO(t.digest);n&&(t=n)}let e=t!==void 0?T.createElement(er.Provider,{value:this.props.routeContext},T.createElement(gy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?T.createElement(PO,{error:t},e):e}};BE.contextType=kO;var Cm=new WeakMap;function PO({children:t,error:e}){let{basename:n}=T.useContext(_n);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=MO(e.digest);if(r){let i=Cm.get(e);if(i)throw i;let o=RE(r.location,n);if(OE&&!Cm.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw Cm.set(e,l),l}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function BO({routeContext:t,match:e,children:n}){let r=T.useContext(ko);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(er.Provider,{value:t},n)}function UO(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let m=o.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);dt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,f=-1;if(n)for(let m=0;m<o.length;m++){let y=o[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=m),y.route.id){let{loaderData:x,errors:v}=n,w=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!v||v[y.route.id]===void 0);if(y.route.lazy||w){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let h=n&&r?(m,y)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:SO(n.matches),errorInfo:y})}:void 0;return o.reduceRight((m,y,x)=>{let v,w=!1,k=null,E=null;n&&(v=l&&y.route.id?l[y.route.id]:void 0,k=y.route.errorElement||zO,u&&(f<0&&x===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):f===x&&(w=!0,E=y.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,x+1)),O=()=>{let j;return v?j=k:w?j=E:y.route.Component?j=T.createElement(y.route.Component,null):y.route.element?j=y.route.element:j=m,T.createElement(BO,{match:y,routeContext:{outlet:m,matches:C,isDataRoute:n!=null},children:j})};return n&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?T.createElement(BE,{location:n.location,revalidation:n.revalidation,component:k,error:v,children:O(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:h}):O()},null)}function yy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HO(t){let e=T.useContext(ko);return dt(e,yy(t)),e}function VO(t){let e=T.useContext(Lf);return dt(e,yy(t)),e}function $O(t){let e=T.useContext(er);return dt(e,yy(t)),e}function by(t){let e=$O(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qO(){return by("useRouteId")}function FO(){let t=T.useContext(gy),e=VO("useRouteError"),n=by("useRouteError");return t!==void 0?t:e.errors?.[n]}function GO(){let{router:t}=HO("useNavigate"),e=by("useNavigate"),n=T.useRef(!1);return IE(()=>{n.current=!0}),T.useCallback(async(i,o={})=>{Qn(n.current,LE),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var I1={};function UE(t,e,n){!e&&!I1[t]&&(I1[t]=!0,Qn(!1,n))}T.memo(KO);function KO({routes:t,future:e,state:n,onError:r}){return PE(t,void 0,n,r,e)}function HE({to:t,replace:e,state:n,relative:r}){dt(No(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(_n);Qn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=T.useContext(er),{pathname:l}=fr(),u=la(),f=my(t,py(o),l,r==="path"),h=JSON.stringify(f);return T.useEffect(()=>{u(JSON.parse(h),{replace:e,state:n,relative:r})},[u,h,r,e,n]),null}function VE(t){return DO(t.context)}function Wt(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WO({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:l}){dt(!No(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=T.useMemo(()=>({basename:u,navigator:i,static:o,unstable_useTransitions:l,future:{}}),[u,i,o,l]);typeof n=="string"&&(n=Eo(n));let{pathname:h="/",search:m="",hash:y="",state:x=null,key:v="default"}=n,w=T.useMemo(()=>{let k=as(h,u);return k==null?null:{location:{pathname:k,search:m,hash:y,state:x,key:v},navigationType:r}},[u,h,m,y,x,v,r]);return Qn(w!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:T.createElement(_n.Provider,{value:f},T.createElement(bc.Provider,{children:e,value:w}))}function YO({children:t,location:e}){return LO(bg(t),e)}function bg(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let o=[...e,i];if(r.type===T.Fragment){n.push.apply(n,bg(r.props.children,o));return}dt(r.type===Wt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=bg(r.props.children,o)),n.push(l)}),n}var yd="get",bd="application/x-www-form-urlencoded";function If(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function JO(t){return If(t)&&t.tagName.toLowerCase()==="button"}function XO(t){return If(t)&&t.tagName.toLowerCase()==="form"}function QO(t){return If(t)&&t.tagName.toLowerCase()==="input"}function ZO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eR(t,e){return t.button===0&&(!e||e==="_self")&&!ZO(t)}var Qu=null;function tR(){if(Qu===null)try{new FormData(document.createElement("form"),0),Qu=!1}catch{Qu=!0}return Qu}var nR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(t){return t!=null&&!nR.has(t)?(Qn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bd}"`),null):t}function rR(t,e){let n,r,i,o,l;if(XO(t)){let u=t.getAttribute("action");r=u?as(u,e):null,n=t.getAttribute("method")||yd,i=Tm(t.getAttribute("enctype"))||bd,o=new FormData(t)}else if(JO(t)||QO(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?as(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||yd,i=Tm(t.getAttribute("formenctype"))||Tm(u.getAttribute("enctype"))||bd,o=new FormData(u,t),!tR()){let{name:h,type:m,value:y}=t;if(m==="image"){let x=h?`${h}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else h&&o.append(h,y)}}else{if(If(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yd,r=null,i=bd,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sR(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&as(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function iR(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aR(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oR(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await iR(o,n);return l.links?l.links():[]}return[]}));return dR(r.flat(1).filter(aR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function z1(t,e,n,r,i,o){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,u=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,h)=>l(f,h)||u(f,h)):o==="data"?e.filter((f,h)=>{let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function lR(t,e,{includeHydrateFallback:n}={}){return cR(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function cR(t){return[...new Set(t)]}function uR(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function dR(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(uR(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function $E(){let t=T.useContext(ko);return xy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fR(){let t=T.useContext(Lf);return xy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var vy=T.createContext(void 0);vy.displayName="FrameworkContext";function qE(){let t=T.useContext(vy);return xy(t,"You must render this element inside a <HydratedRouter> element"),t}function hR(t,e){let n=T.useContext(vy),[r,i]=T.useState(!1),[o,l]=T.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:y}=e,x=T.useRef(null);T.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let k=C=>{C.forEach(O=>{l(O.isIntersecting)})},E=new IntersectionObserver(k,{threshold:.5});return x.current&&E.observe(x.current),()=>{E.disconnect()}}},[t]),T.useEffect(()=>{if(r){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[r]);let v=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,x,{}]:[o,x,{onFocus:Al(u,v),onBlur:Al(f,w),onMouseEnter:Al(h,v),onMouseLeave:Al(m,w),onTouchStart:Al(y,v)}]:[!1,x,{}]}function Al(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function pR({page:t,...e}){let{router:n}=$E(),r=T.useMemo(()=>CE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(gR,{page:t,matches:r,...e}):null}function mR(t){let{manifest:e,routeModules:n}=qE(),[r,i]=T.useState([]);return T.useEffect(()=>{let o=!1;return oR(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function gR({page:t,matches:e,...n}){let r=fr(),{manifest:i,routeModules:o}=qE(),{basename:l}=$E(),{loaderData:u,matches:f}=fR(),h=T.useMemo(()=>z1(t,e,f,i,r,"data"),[t,e,f,i,r]),m=T.useMemo(()=>z1(t,e,f,i,r,"assets"),[t,e,f,i,r]),y=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,k=!1;if(e.forEach(C=>{let O=i.routes[C.route.id];!O||!O.hasLoader||(!h.some(j=>j.route.id===C.route.id)&&C.route.id in u&&o[C.route.id]?.shouldRevalidate||O.hasClientLoader?k=!0:w.add(C.route.id))}),w.size===0)return[];let E=sR(t,l,"data");return k&&w.size>0&&E.searchParams.set("_routes",e.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[l,u,r,i,h,e,t,o]),x=T.useMemo(()=>lR(m,i),[m,i]),v=mR(m);return T.createElement(T.Fragment,null,y.map(w=>T.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),x.map(w=>T.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),v.map(({key:w,link:k})=>T.createElement("link",{key:w,nonce:n.nonce,...k})))}function yR(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var bR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bR&&(window.__reactRouterVersion="7.11.0")}catch{}function xR({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=XM({window:r,v5Compat:!0}));let o=i.current,[l,u]=T.useState({action:o.action,location:o.location}),f=T.useCallback(h=>{n===!1?u(h):T.startTransition(()=>u(h))},[n]);return T.useLayoutEffect(()=>o.listen(f),[o,f]),T.createElement(WO,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:n})}var FE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qe=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:f,to:h,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:x,...v},w){let{basename:k,unstable_useTransitions:E}=T.useContext(_n),C=typeof h=="string"&&FE.test(h),O=RE(h,k);h=O.to;let j=RO(h,{relative:i}),[B,U,J]=hR(r,v),H=ER(h,{replace:l,state:u,target:f,preventScrollReset:m,relative:i,viewTransition:y,unstable_defaultShouldRevalidate:x,unstable_useTransitions:E});function V(le){e&&e(le),le.defaultPrevented||H(le)}let ne=T.createElement("a",{...v,...J,href:O.absoluteURL||j,onClick:O.isExternal||o?e:V,ref:yR(w,U),target:f,"data-discover":!C&&n==="render"?"true":void 0});return B&&!C?T.createElement(T.Fragment,null,ne,T.createElement(pR,{page:j})):ne});qe.displayName="Link";var vR=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:f,...h},m){let y=xc(l,{relative:h.relative}),x=fr(),v=T.useContext(Lf),{navigator:w,basename:k}=T.useContext(_n),E=v!=null&&AR(y)&&u===!0,C=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,O=x.pathname,j=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(O=O.toLowerCase(),j=j?j.toLowerCase():null,C=C.toLowerCase()),j&&k&&(j=as(j,k)||j);const B=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let U=O===C||!i&&O.startsWith(C)&&O.charAt(B)==="/",J=j!=null&&(j===C||!i&&j.startsWith(C)&&j.charAt(C.length)==="/"),H={isActive:U,isPending:J,isTransitioning:E},V=U?e:void 0,ne;typeof r=="function"?ne=r(H):ne=[r,U?"active":null,J?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let le=typeof o=="function"?o(H):o;return T.createElement(qe,{...h,"aria-current":V,className:ne,ref:m,style:le,to:l,viewTransition:u},typeof f=="function"?f(H):f)});vR.displayName="NavLink";var wR=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=yd,action:u,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:x,...v},w)=>{let{unstable_useTransitions:k}=T.useContext(_n),E=CR(),C=TR(u,{relative:h}),O=l.toLowerCase()==="get"?"get":"post",j=typeof u=="string"&&FE.test(u),B=U=>{if(f&&f(U),U.defaultPrevented)return;U.preventDefault();let J=U.nativeEvent.submitter,H=J?.getAttribute("formmethod")||l,V=()=>E(J||U.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:i,state:o,relative:h,preventScrollReset:m,viewTransition:y,unstable_defaultShouldRevalidate:x});k&&n!==!1?T.startTransition(()=>V()):V()};return T.createElement("form",{ref:w,method:O,action:C,onSubmit:r?f:B,...v,"data-discover":!j&&t==="render"?"true":void 0})});wR.displayName="Form";function SR(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GE(t){let e=T.useContext(ko);return dt(e,SR(t)),e}function ER(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let h=la(),m=fr(),y=xc(t,{relative:o});return T.useCallback(x=>{if(eR(x,e)){x.preventDefault();let v=n!==void 0?n:ec(m)===ec(y),w=()=>h(t,{replace:v,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u});f?T.startTransition(()=>w()):w()}},[m,h,y,n,r,e,t,i,o,l,u,f])}var kR=0,NR=()=>`__${String(++kR)}__`;function CR(){let{router:t}=GE("useSubmit"),{basename:e}=T.useContext(_n),n=qO(),r=t.fetch,i=t.navigate;return T.useCallback(async(o,l={})=>{let{action:u,method:f,encType:h,formData:m,body:y}=rR(o,e);if(l.navigate===!1){let x=l.fetcherKey||NR();await r(x,n,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:y,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await i(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:y,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function TR(t,{relative:e}={}){let{basename:n}=T.useContext(_n),r=T.useContext(er);dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...xc(t||".",{relative:e})},l=fr();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ns([n,o.pathname])),ec(o)}function AR(t,{relative:e}={}){let n=T.useContext(jE);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GE("useViewTransitionState"),i=xc(t,{relative:e});if(!n.isTransitioning)return!1;let o=as(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=as(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rd(i.pathname,l)!=null||Rd(i.pathname,o)!=null}var KE=NE();const MR=kE(KE),WE=T.createContext(),OR=({children:t})=>{const[e,n]=T.useState(()=>localStorage.getItem("language")||"en");T.useEffect(()=>{localStorage.setItem("language",e)},[e]);const r=()=>{n(o=>o==="en"?"bn":"en")},i=(o,l={})=>typeof o=="object"?o[e]||o.en||"":o;return p.jsx(WE.Provider,{value:{language:e,setLanguage:n,toggleLanguage:r,t:i},children:t})},jn=()=>T.useContext(WE),RR=()=>{};var P1={};const YE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_R=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],u=t[n++],f=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},JE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,u=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,m=o>>2,y=(o&3)<<4|u>>4;let x=(u&15)<<2|h>>6,v=h&63;f||(v=64,l||(x=64)),r.push(n[m],n[y],n[x],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_R(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||h==null||y==null)throw new jR;const x=o<<2|u>>4;if(r.push(x),h!==64){const v=u<<4&240|h>>2;if(r.push(v),y!==64){const w=h<<6&192|y;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DR=function(t){const e=YE(t);return JE.encodeByteArray(e,!0)},XE=function(t){return DR(t).replace(/\./g,"")},QE=function(t){try{return JE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function LR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const IR=()=>LR().__FIREBASE_DEFAULTS__,zR=()=>{if(typeof process>"u"||typeof P1>"u")return;const t=P1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QE(t[1]);return e&&JSON.parse(e)},wy=()=>{try{return RR()||IR()||zR()||PR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BR=t=>wy()?.emulatorHosts?.[t],ZE=()=>wy()?.config,ek=t=>wy()?.[`_${t}`];class UR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function zf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function HR(t){return(await fetch(t,{credentials:"include"})).ok}const Hl={};function VR(){const t={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?t.emulator.push(e):t.prod.push(e);return t}function $R(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let B1=!1;function qR(t,e){if(typeof window>"u"||typeof document>"u"||!zf(window.location.host)||Hl[t]===e||Hl[t]||B1)return;Hl[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=VR().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,v){x.setAttribute("width","24"),x.setAttribute("id",v),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{B1=!0,l()},x}function m(x,v){x.setAttribute("id",v),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function y(){const x=$R(r),v=n("text"),w=document.getElementById(v)||document.createElement("span"),k=n("learnmore"),E=document.getElementById(k)||document.createElement("a"),C=n("preprendIcon"),O=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const j=x.element;u(j),m(E,k);const B=h();f(O,C),j.append(O,w,E,B),document.body.appendChild(j)}o?(w.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function GR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YR(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JR(){try{return typeof indexedDB=="object"}catch{return!1}}function XR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const QR="FirebaseError";class ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QR,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?ZR(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new ci(i,u,r)}}function ZR(t,e){return t.replace(e_,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const e_=/\{\$([^}]+)}/g;function t_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ho(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(U1(o)&&U1(l)){if(!ho(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function U1(t){return t!==null&&typeof t=="object"}function wc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Dl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ll(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function n_(t,e){const n=new r_(t,e);return n.subscribe.bind(n)}class r_{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");s_(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Am),i.error===void 0&&(i.error=Am),i.complete===void 0&&(i.complete=Am);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s_(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Am(){}function Tr(t){return t&&t._delegate?t._delegate:t}class po{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bi="[DEFAULT]";class i_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o_(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function a_(t){return t===Bi?void 0:t}function o_(t){return t.instantiationMode==="EAGER"}class l_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const c_={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},u_=st.INFO,d_={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},f_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=d_[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tk{constructor(e){this.name=e,this._logLevel=u_,this._logHandler=f_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const h_=(t,e)=>e.some(n=>t instanceof n);let H1,V1;function p_(){return H1||(H1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m_(){return V1||(V1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nk=new WeakMap,xg=new WeakMap,rk=new WeakMap,Mm=new WeakMap,Sy=new WeakMap;function g_(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(ei(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&nk.set(n,t)}).catch(()=>{}),Sy.set(e,t),e}function y_(t){if(xg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});xg.set(t,e)}let vg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function b_(t){vg=t(vg)}function x_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Om(this),e,...n);return rk.set(r,e.sort?e.sort():[e]),ei(r)}:m_().includes(t)?function(...e){return t.apply(Om(this),e),ei(nk.get(this))}:function(...e){return ei(t.apply(Om(this),e))}}function v_(t){return typeof t=="function"?x_(t):(t instanceof IDBTransaction&&y_(t),h_(t,p_())?new Proxy(t,vg):t)}function ei(t){if(t instanceof IDBRequest)return g_(t);if(Mm.has(t))return Mm.get(t);const e=v_(t);return e!==t&&(Mm.set(t,e),Sy.set(e,t)),e}const Om=t=>Sy.get(t);function w_(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),u=ei(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ei(l.result),f.oldVersion,f.newVersion,ei(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const S_=["get","getKey","getAll","getAllKeys","count"],E_=["put","add","delete","clear"],Rm=new Map;function $1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=E_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||S_.includes(n)))return;const o=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&f.done]))[0]};return Rm.set(e,o),o}b_(t=>({...t,get:(e,n,r)=>$1(e,n)||t.get(e,n,r),has:(e,n)=>!!$1(e,n)||t.has(e,n)}));class k_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N_(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function N_(t){return t.getComponent()?.type==="VERSION"}const wg="@firebase/app",q1="0.14.6";const ls=new tk("@firebase/app"),C_="@firebase/app-compat",T_="@firebase/analytics-compat",A_="@firebase/analytics",M_="@firebase/app-check-compat",O_="@firebase/app-check",R_="@firebase/auth",__="@firebase/auth-compat",j_="@firebase/database",D_="@firebase/data-connect",L_="@firebase/database-compat",I_="@firebase/functions",z_="@firebase/functions-compat",P_="@firebase/installations",B_="@firebase/installations-compat",U_="@firebase/messaging",H_="@firebase/messaging-compat",V_="@firebase/performance",$_="@firebase/performance-compat",q_="@firebase/remote-config",F_="@firebase/remote-config-compat",G_="@firebase/storage",K_="@firebase/storage-compat",W_="@firebase/firestore",Y_="@firebase/ai",J_="@firebase/firestore-compat",X_="firebase",Q_="12.6.0";const Sg="[DEFAULT]",Z_={[wg]:"fire-core",[C_]:"fire-core-compat",[A_]:"fire-analytics",[T_]:"fire-analytics-compat",[O_]:"fire-app-check",[M_]:"fire-app-check-compat",[R_]:"fire-auth",[__]:"fire-auth-compat",[j_]:"fire-rtdb",[D_]:"fire-data-connect",[L_]:"fire-rtdb-compat",[I_]:"fire-fn",[z_]:"fire-fn-compat",[P_]:"fire-iid",[B_]:"fire-iid-compat",[U_]:"fire-fcm",[H_]:"fire-fcm-compat",[V_]:"fire-perf",[$_]:"fire-perf-compat",[q_]:"fire-rc",[F_]:"fire-rc-compat",[G_]:"fire-gcs",[K_]:"fire-gcs-compat",[W_]:"fire-fst",[J_]:"fire-fst-compat",[Y_]:"fire-vertex","fire-js":"fire-js",[X_]:"fire-js-all"};const _d=new Map,ej=new Map,Eg=new Map;function F1(t,e){try{t.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tc(t){const e=t.name;if(Eg.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;Eg.set(e,t);for(const n of _d.values())F1(n,t);for(const n of ej.values())F1(n,t);return!0}function sk(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wn(t){return t==null?!1:t.settings!==void 0}const tj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ti=new vc("app","Firebase",tj);class nj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}const Sc=Q_;function ik(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Sg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ti.create("bad-app-name",{appName:String(i)});if(n||(n=ZE()),!n)throw ti.create("no-options");const o=_d.get(i);if(o){if(ho(n,o.options)&&ho(r,o.config))return o;throw ti.create("duplicate-app",{appName:i})}const l=new l_(i);for(const f of Eg.values())l.addComponent(f);const u=new nj(n,r,l);return _d.set(i,u),u}function rj(t=Sg){const e=_d.get(t);if(!e&&t===Sg&&ZE())return ik();if(!e)throw ti.create("no-app",{appName:t});return e}function io(t,e,n){let r=Z_[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(l.join(" "));return}tc(new po(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const sj="firebase-heartbeat-database",ij=1,nc="firebase-heartbeat-store";let _m=null;function ak(){return _m||(_m=w_(sj,ij,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ti.create("idb-open",{originalErrorMessage:t.message})})),_m}async function aj(t){try{const n=(await ak()).transaction(nc),r=await n.objectStore(nc).get(ok(t));return await n.done,r}catch(e){if(e instanceof ci)ls.warn(e.message);else{const n=ti.create("idb-get",{originalErrorMessage:e?.message});ls.warn(n.message)}}}async function G1(t,e){try{const r=(await ak()).transaction(nc,"readwrite");await r.objectStore(nc).put(e,ok(t)),await r.done}catch(n){if(n instanceof ci)ls.warn(n.message);else{const r=ti.create("idb-set",{originalErrorMessage:n?.message});ls.warn(r.message)}}}function ok(t){return`${t.name}!${t.options.appId}`}const oj=1024,lj=30;class cj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=K1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>lj){const i=fj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ls.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=K1(),{heartbeatsToSend:n,unsentEntries:r}=uj(this._heartbeatsCache.heartbeats),i=XE(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ls.warn(e),""}}}function K1(){return new Date().toISOString().substring(0,10)}function uj(t,e=oj){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),W1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),W1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JR()?XR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return G1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return G1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function W1(t){return XE(JSON.stringify({version:2,heartbeats:t})).length}function fj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function hj(t){tc(new po("platform-logger",e=>new k_(e),"PRIVATE")),tc(new po("heartbeat",e=>new cj(e),"PRIVATE")),io(wg,q1,t),io(wg,q1,"esm2020"),io("fire-js","")}hj("");function lk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pj=lk,ck=new vc("auth","Firebase",lk());const jd=new tk("@firebase/auth");function mj(t,...e){jd.logLevel<=st.WARN&&jd.warn(`Auth (${Sc}): ${t}`,...e)}function xd(t,...e){jd.logLevel<=st.ERROR&&jd.error(`Auth (${Sc}): ${t}`,...e)}function Zn(t,...e){throw ky(t,...e)}function ur(t,...e){return ky(t,...e)}function Ey(t,e,n){const r={...pj(),[e]:n};return new vc("auth","Firebase",r).create(e,{appName:t.name})}function rs(t){return Ey(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zn(t,"argument-error"),Ey(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ky(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ck.create(t,...e)}function Te(t,e,...n){if(!t)throw ky(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xd(e),new Error(e)}function cs(t,e){t||Zr(e)}function kg(){return typeof self<"u"&&self.location?.href||""}function yj(){return Y1()==="http:"||Y1()==="https:"}function Y1(){return typeof self<"u"&&self.location?.protocol||null}function bj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yj()||KR()||"connection"in navigator)?navigator.onLine:!0}function xj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,cs(n>e,"Short delay should be less than long delay!"),this.isMobile=FR()||WR()}get(){return bj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ny(t,e){cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class uk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sj=new Ec(3e4,6e4);function ui(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function us(t,e,n,r,i={}){return dk(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=wc({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...o};return GR()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&zf(t.emulatorConfig.host)&&(h.credentials="include"),uk.fetch()(await fk(t,t.config.apiHost,n,u),h)})}async function dk(t,e,n){t._canInitEmulator=!1;const r={...vj,...e};try{const i=new kj(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Zu(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,h]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zu(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Zu(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Zu(t,"user-disabled",l);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Ey(t,m,h);Zn(t,m)}}catch(i){if(i instanceof ci)throw i;Zn(t,"network-request-failed",{message:String(i)})}}async function kc(t,e,n,r,i={}){const o=await us(t,e,n,r,i);return"mfaPendingCredential"in o&&Zn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function fk(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?Ny(t.config,i):`${t.config.apiScheme}://${i}`;return wj.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function Ej(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ur(this.auth,"network-request-failed")),Sj.get())})}}function Zu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ur(t,e,r);return i.customData._tokenResponse=n,i}function J1(t){return t!==void 0&&t.enterprise!==void 0}class Nj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ej(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Cj(t,e){return us(t,"GET","/v2/recaptchaConfig",ui(t,e))}async function Tj(t,e){return us(t,"POST","/v1/accounts:delete",e)}async function Dd(t,e){return us(t,"POST","/v1/accounts:lookup",e)}function Vl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Aj(t,e=!1){const n=Tr(t),r=await n.getIdToken(e),i=Cy(r);Te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:Vl(jm(i.auth_time)),issuedAtTime:Vl(jm(i.iat)),expirationTime:Vl(jm(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function jm(t){return Number(t)*1e3}function Cy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xd("JWT malformed, contained fewer than 3 sections"),null;try{const i=QE(n);return i?JSON.parse(i):(xd("Failed to decode base64 JWT payload"),null)}catch(i){return xd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function X1(t){const e=Cy(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ci&&Mj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Mj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Oj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ng{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ld(t){const e=t.auth,n=await t.getIdToken(),r=await mo(t,Dd(e,{idToken:n}));Te(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?hk(i.providerUserInfo):[],l=_j(t.providerData,o),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,h=u?f:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Ng(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function Rj(t){const e=Tr(t);await Ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _j(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function jj(t,e){const n=await dk(t,{},async()=>{const r=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await fk(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&zf(t.emulatorConfig.host)&&(f.credentials="include"),uk.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Dj(t,e){return us(t,"POST","/v2/accounts:revokeToken",ui(t,e))}class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=X1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await jj(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new ao;return r&&(Te(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Te(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return Zr("not implemented")}}function Bs(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class lr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Oj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ng(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await mo(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Aj(this,e)}reload(){return Rj(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ld(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await mo(this,Tj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:y,emailVerified:x,isAnonymous:v,providerData:w,stsTokenManager:k}=n;Te(y&&k,e,"internal-error");const E=ao.fromJSON(this.name,k);Te(typeof y=="string",e,"internal-error"),Bs(r,e.name),Bs(i,e.name),Te(typeof x=="boolean",e,"internal-error"),Te(typeof v=="boolean",e,"internal-error"),Bs(o,e.name),Bs(l,e.name),Bs(u,e.name),Bs(f,e.name),Bs(h,e.name),Bs(m,e.name);const C=new lr({uid:y,auth:e,email:i,emailVerified:x,displayName:r,isAnonymous:v,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:E,createdAt:h,lastLoginAt:m});return w&&Array.isArray(w)&&(C.providerData=w.map(O=>({...O}))),f&&(C._redirectEventId=f),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new ao;i.updateFromServerResponse(n);const o=new lr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ld(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Te(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?hk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,u=new ao;u.updateFromIdToken(r);const f=new lr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ng(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(f,h),f}}const Q1=new Map;function es(t){cs(t instanceof Function,"Expected a class definition");let e=Q1.get(t);return e?(cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Q1.set(t,e),e)}class pk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pk.type="NONE";const Z1=pk;function vd(t,e,n){return`firebase:${t}:${e}:${n}`}class oo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=vd(this.userKey,i.apiKey,o),this.fullPersistenceKey=vd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dd(this.auth,{idToken:e}).catch(()=>{});return n?lr._fromGetAccountInfoResponse(this.auth,n,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oo(es(Z1),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||es(Z1);const l=vd(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const m=await h._get(l);if(m){let y;if(typeof m=="string"){const x=await Dd(e,{idToken:m}).catch(()=>{});if(!x)break;y=await lr._fromGetAccountInfoResponse(e,x,m)}else y=lr._fromJSON(e,m);h!==o&&(u=y),o=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new oo(o,e,r):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new oo(o,e,r))}}function ew(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vk(e))return"Blackberry";if(wk(e))return"Webos";if(gk(e))return"Safari";if((e.includes("chrome/")||yk(e))&&!e.includes("edge/"))return"Chrome";if(xk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function mk(t=rn()){return/firefox\//i.test(t)}function gk(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yk(t=rn()){return/crios\//i.test(t)}function bk(t=rn()){return/iemobile/i.test(t)}function xk(t=rn()){return/android/i.test(t)}function vk(t=rn()){return/blackberry/i.test(t)}function wk(t=rn()){return/webos/i.test(t)}function Ty(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Lj(t=rn()){return Ty(t)&&!!window.navigator?.standalone}function Ij(){return YR()&&document.documentMode===10}function Sk(t=rn()){return Ty(t)||xk(t)||wk(t)||vk(t)||/windows phone/i.test(t)||bk(t)}function Ek(t,e=[]){let n;switch(t){case"Browser":n=ew(rn());break;case"Worker":n=`${ew(rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sc}/${r}`}class zj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const f=e(o);l(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Pj(t,e={}){return us(t,"GET","/v2/passwordPolicy",ui(t,e))}const Bj=6;class Uj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Bj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Hj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tw(this),this.idTokenSubscription=new tw(this),this.beforeStateQueue=new zj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ck,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dd(this,{idToken:e}),r=await lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Wn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ld(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(rs(this));const n=e?Tr(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pj(this),n=new Uj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Dj(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ek(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function di(t){return Tr(t)}class tw{constructor(e){this.auth=e,this.observer=null,this.addObserver=n_(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vj(t){Pf=t}function kk(t){return Pf.loadJS(t)}function $j(){return Pf.recaptchaEnterpriseScript}function qj(){return Pf.gapiScript}function Fj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Gj{constructor(){this.enterprise=new Kj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Kj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Wj="recaptcha-enterprise",Nk="NO_RECAPTCHA";class Yj{constructor(e){this.type=Wj,this.auth=di(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{Cj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new Nj(f);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(f=>{u(f)})})}function i(o,l,u){const f=window.grecaptcha;J1(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(Nk)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Gj().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!n&&J1(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=$j();f.length!==0&&(f+=u),kk(f).then(()=>{i(u,o,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function nw(t,e,n,r=!1,i=!1){const o=new Yj(t);let l;if(i)l=Nk;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Cg(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await nw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await nw(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}function Jj(t,e){const n=sk(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ho(o,e??{}))return i;Zn(i,"already-initialized")}return n.initialize({options:e})}function Xj(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(es);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Qj(t,e,n){const r=di(t);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Ck(e),{host:l,port:u}=Zj(e),f=u===null?"":`:${u}`,h={url:`${o}//${l}${f}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(ho(h,r.config.emulator)&&ho(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,zf(l)?(HR(`${o}//${l}${f}`),qR("Auth",!0)):e3()}function Ck(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Zj(t){const e=Ck(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:rw(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:rw(l)}}}function rw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function e3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Ay{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function t3(t,e){return us(t,"POST","/v1/accounts:signUp",e)}async function n3(t,e){return kc(t,"POST","/v1/accounts:signInWithPassword",ui(t,e))}async function r3(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))}async function s3(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",ui(t,e))}class rc extends Ay{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new rc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new rc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,n,"signInWithPassword",n3);case"emailLink":return r3(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,r,"signUpPassword",t3);case"emailLink":return s3(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function lo(t,e){return kc(t,"POST","/v1/accounts:signInWithIdp",ui(t,e))}const i3="http://localhost";class Zi extends Ay{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const l=new Zi(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,lo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:i3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wc(n)}return e}}function a3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function o3(t){const e=Dl(Ll(t)).link,n=e?Dl(Ll(e)).deep_link_id:null,r=Dl(Ll(t)).deep_link_id;return(r?Dl(Ll(r)).link:null)||r||n||e||t}class My{constructor(e){const n=Dl(Ll(e)),r=n.apiKey??null,i=n.oobCode??null,o=a3(n.mode??null);Te(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=o3(e);try{return new My(n)}catch{return null}}}class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(e,n){return rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=My.parseLink(n);return Te(r,"argument-error"),rc._fromEmailAndCode(e,r.code,r.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Oy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Nc extends Oy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Gs extends Nc{constructor(){super("facebook.com")}static credential(e){return Zi._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";class Qr extends Nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zi._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";class Ks extends Nc{constructor(){super("github.com")}static credential(e){return Zi._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";class Ws extends Nc{constructor(){super("twitter.com")}static credential(e,n){return Zi._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ws.credential(n,r)}catch{return null}}}Ws.TWITTER_SIGN_IN_METHOD="twitter.com";Ws.PROVIDER_ID="twitter.com";async function l3(t,e){return kc(t,"POST","/v1/accounts:signUp",ui(t,e))}class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await lr._fromIdTokenResponse(e,r,i),l=sw(r);return new ea({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sw(r);return new ea({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Id extends ci{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Id.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Id(e,n,r,i)}}function Tk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Id._fromErrorAndOperation(t,o,e,r):o})}async function c3(t,e,n=!1){const r=await mo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ea._forOperation(t,"link",r)}async function u3(t,e,n=!1){const{auth:r}=t;if(Wn(r.app))return Promise.reject(rs(r));const i="reauthenticate";try{const o=await mo(t,Tk(r,i,e,t),n);Te(o.idToken,r,"internal-error");const l=Cy(o.idToken);Te(l,r,"internal-error");const{sub:u}=l;return Te(t.uid===u,r,"user-mismatch"),ea._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Zn(r,"user-mismatch"),o}}async function Ak(t,e,n=!1){if(Wn(t.app))return Promise.reject(rs(t));const r="signIn",i=await Tk(t,r,e),o=await ea._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function d3(t,e){return Ak(di(t),e)}async function Mk(t){const e=di(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function f3(t,e,n){if(Wn(t.app))return Promise.reject(rs(t));const r=di(t),l=await Cg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",l3).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Mk(t),f}),u=await ea._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function h3(t,e,n){return Wn(t.app)?Promise.reject(rs(t)):d3(Tr(t),Co.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Mk(t),r})}async function p3(t,e){return us(t,"POST","/v1/accounts:update",e)}async function iw(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Tr(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await mo(r,p3(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:f})=>f==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function m3(t,e,n,r){return Tr(t).onIdTokenChanged(e,n,r)}function g3(t,e,n){return Tr(t).beforeAuthStateChanged(e,n)}function y3(t,e,n,r){return Tr(t).onAuthStateChanged(e,n,r)}function b3(t){return Tr(t).signOut()}const zd="__sak";class Ok{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zd,"1"),this.storage.removeItem(zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const x3=1e3,v3=10;class Rk extends Ok{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Sk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);Ij()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,v3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},x3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rk.type="LOCAL";const w3=Rk;class _k extends Ok{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_k.type="SESSION";const jk=_k;function S3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Bf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(n.origin,o)),f=await S3(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];function Ry(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class E3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const h=Ry("",20);i.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const x=y;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(x.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function kr(){return window}function k3(t){kr().location.href=t}function Dk(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function N3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C3(){return navigator?.serviceWorker?.controller||null}function T3(){return Dk()?self:null}const Lk="firebaseLocalStorageDb",A3=1,Pd="firebaseLocalStorage",Ik="fbase_key";class Cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uf(t,e){return t.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function M3(){const t=indexedDB.deleteDatabase(Lk);return new Cc(t).toPromise()}function Tg(){const t=indexedDB.open(Lk,A3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pd,{keyPath:Ik})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pd)?e(r):(r.close(),await M3(),e(await Tg()))})})}async function aw(t,e,n){const r=Uf(t,!0).put({[Ik]:e,value:n});return new Cc(r).toPromise()}async function O3(t,e){const n=Uf(t,!1).get(e),r=await new Cc(n).toPromise();return r===void 0?null:r.value}function ow(t,e){const n=Uf(t,!0).delete(e);return new Cc(n).toPromise()}const R3=800,_3=3;class zk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance(T3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await N3(),!this.activeServiceWorker)return;this.sender=new E3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tg();return await aw(e,zd,"1"),await ow(e,zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>O3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ow(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Uf(i,!1).getAll();return new Cc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zk.type="LOCAL";const j3=zk;new Ec(3e4,6e4);function Pk(t,e){return e?es(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class _y extends Ay{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function D3(t){return Ak(t.auth,new _y(t),t.bypassAuthState)}function L3(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),u3(n,new _y(t),t.bypassAuthState)}async function I3(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),c3(n,new _y(t),t.bypassAuthState)}class Bk{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return D3;case"linkViaPopup":case"linkViaRedirect":return I3;case"reauthViaPopup":case"reauthViaRedirect":return L3;default:Zn(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const z3=new Ec(2e3,1e4);async function P3(t,e,n){if(Wn(t.app))return Promise.reject(ur(t,"operation-not-supported-in-this-environment"));const r=di(t);gj(t,e,Oy);const i=Pk(r,n);return new Hi(r,"signInViaPopup",e,i).executeNotNull()}class Hi extends Bk{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Hi.currentPopupAction&&Hi.currentPopupAction.cancel(),Hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=Ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,z3.get())};e()}}Hi.currentPopupAction=null;const B3="pendingRedirect",wd=new Map;class U3 extends Bk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wd.get(this.auth._key());if(!e){try{const r=await H3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wd.set(this.auth._key(),e)}return this.bypassAuthState||wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function H3(t,e){const n=q3(e),r=$3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function V3(t,e){wd.set(t._key(),e)}function $3(t){return es(t._redirectPersistence)}function q3(t){return vd(B3,t.config.apiKey,t.name)}async function F3(t,e,n=!1){if(Wn(t.app))return Promise.reject(rs(t));const r=di(t),i=Pk(r,e),l=await new U3(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const G3=600*1e3;class K3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Uk(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ur(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=G3&&this.cachedEventUids.clear(),this.cachedEventUids.has(lw(e))}saveEventToCache(e){this.cachedEventUids.add(lw(e)),this.lastProcessedEventTime=Date.now()}}function lw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Uk({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function W3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uk(t);default:return!1}}async function Y3(t,e={}){return us(t,"GET","/v1/projects",e)}const J3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X3=/^https?/;async function Q3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Y3(t);for(const n of e)try{if(Z3(n))return}catch{}Zn(t,"unauthorized-domain")}function Z3(t){const e=kg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!X3.test(n))return!1;if(J3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const eD=new Ec(3e4,6e4);function cw(){const t=kr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tD(t){return new Promise((e,n)=>{function r(){cw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cw(),n(ur(t,"network-request-failed"))},timeout:eD.get()})}if(kr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(kr().gapi?.load)r();else{const i=Fj("iframefcb");return kr()[i]=()=>{gapi.load?r():n(ur(t,"network-request-failed"))},kk(`${qj()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw Sd=null,e})}let Sd=null;function nD(t){return Sd=Sd||tD(t),Sd}const rD=new Ec(5e3,15e3),sD="__/auth/iframe",iD="emulator/auth/iframe",aD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lD(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ny(e,iD):`https://${t.config.authDomain}/${sD}`,r={apiKey:e.apiKey,appName:t.name,v:Sc},i=oD.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${wc(r).slice(1)}`}async function cD(t){const e=await nD(t),n=kr().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:lD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aD,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=ur(t,"network-request-failed"),u=kr().setTimeout(()=>{o(l)},rD.get());function f(){kr().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{o(l)})}))}const uD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dD=500,fD=600,hD="_blank",pD="http://localhost";class uw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mD(t,e,n,r=dD,i=fD){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...uD,width:r.toString(),height:i.toString(),top:o,left:l},h=rn().toLowerCase();n&&(u=yk(h)?hD:n),mk(h)&&(e=e||pD,f.scrollbars="yes");const m=Object.entries(f).reduce((x,[v,w])=>`${x}${v}=${w},`,"");if(Lj(h)&&u!=="_self")return gD(e||"",u),new uw(null);const y=window.open(e||"",u,m);Te(y,t,"popup-blocked");try{y.focus()}catch{}return new uw(y)}function gD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const yD="__/auth/handler",bD="emulator/auth/handler",xD=encodeURIComponent("fac");async function dw(t,e,n,r,i,o){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sc,eventId:i};if(e instanceof Oy){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",t_(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Nc){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const f=await t._getAppCheckToken(),h=f?`#${xD}=${encodeURIComponent(f)}`:"";return`${vD(t)}?${wc(u).slice(1)}${h}`}function vD({config:t}){return t.emulator?Ny(t,bD):`https://${t.authDomain}/${yD}`}const Dm="webStorageSupport";class wD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jk,this._completeRedirectFn=F3,this._overrideRedirectResult=V3}async _openPopup(e,n,r,i){cs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await dw(e,n,r,kg(),i);return mD(e,o,Ry())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await dw(e,n,r,kg(),i);return k3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(cs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cD(e),r=new K3(e);return n.register("authEvent",i=>(Te(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dm,{type:Dm},i=>{const o=i?.[0]?.[Dm];o!==void 0&&n(!!o),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Q3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Sk()||gk()||Ty()}}const SD=wD;var fw="@firebase/auth",hw="1.12.0";class ED{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ND(t){tc(new po("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Te(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ek(t)},h=new Hj(r,i,o,f);return Xj(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),tc(new po("auth-internal",e=>{const n=di(e.getProvider("auth").getImmediate());return(r=>new ED(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),io(fw,hw,kD(t)),io(fw,hw,"esm2020")}const CD=300,TD=ek("authIdTokenMaxAge")||CD;let pw=null;const AD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TD)return;const i=n?.token;pw!==i&&(pw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function MD(t=rj()){const e=sk(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jj(t,{popupRedirectResolver:SD,persistence:[j3,w3,jk]}),r=ek("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=AD(o.toString());g3(n,l,()=>l(n.currentUser)),m3(n,u=>l(u))}}const i=BR("auth");return i&&Qj(n,`http://${i}`),n}function OD(){return document.getElementsByTagName("head")?.[0]??document}Vj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ur("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",OD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ND("Browser");var RD="firebase",_D="12.7.0";io(RD,_D,"app");const jD={apiKey:"AIzaSyAnt1ZX48_GZCLd5mINm1LO5gpz_zwJX_M",authDomain:"the-scholars-page.firebaseapp.com",projectId:"the-scholars-page",storageBucket:"the-scholars-page.firebasestorage.app",messagingSenderId:"241362382902",appId:"1:241362382902:web:dba319e9730b82eb9c2897"},DD=ik(jD),Jt=MD(DD),LD=new Qr,Hk=T.createContext(),ID=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0);T.useEffect(()=>{const y=y3(Jt,x=>{n(x?{uid:x.uid,email:x.email,displayName:x.displayName,name:x.displayName,photoURL:x.photoURL,role:"admin"}:null),i(!1)});return()=>y()},[]);const o=async(y,x)=>{try{return{success:!0,user:(await h3(Jt,y,x)).user}}catch(v){return{success:!1,error:v.message}}},l=async(y,x,v)=>{try{const w=await f3(Jt,y,x);return v&&await iw(w.user,{displayName:v}),{success:!0,user:w.user}}catch(w){return{success:!1,error:w.message}}},u=async()=>{try{return{success:!0,user:(await P3(Jt,LD)).user}}catch(y){return{success:!1,error:y.message}}},f=async()=>{try{return await b3(Jt),{success:!0}}catch(y){return{success:!1,error:y.message}}},h=async y=>{try{return Jt.currentUser?(await iw(Jt.currentUser,y),n(x=>({...x,...y})),{success:!0,user:{...e,...y}}):{success:!1,error:"No user logged in"}}catch(x){return{success:!1,error:x.message}}},m=Ke.useMemo(()=>({user:e,loading:r,loginWithEmail:o,signupWithEmail:l,loginWithGoogle:u,logout:f,updateProfile:h}),[e,r]);return p.jsx(Hk.Provider,{value:m,children:!r&&t})},fi=()=>{const t=T.useContext(Hk);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};const zD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PD=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),mw=t=>{const e=PD(t);return e.charAt(0).toUpperCase()+e.slice(1)},Vk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),BD=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var UD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HD=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},f)=>T.createElement("svg",{ref:f,...UD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Vk("lucide",i),...!o&&!BD(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,m])=>T.createElement(h,m)),...Array.isArray(o)?o:[o]]));const ue=(t,e)=>{const n=T.forwardRef(({className:r,...i},o)=>T.createElement(HD,{ref:o,iconNode:e,className:Vk(`lucide-${zD(mw(t))}`,`lucide-${t}`,r),...i}));return n.displayName=mw(t),n};const VD=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],gw=ue("arrow-down",VD);const $D=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jy=ue("arrow-left",$D);const qD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],co=ue("arrow-right",qD);const FD=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],$l=ue("arrow-up",FD);const GD=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],KD=ue("award",GD);const WD=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],YD=ue("bold",WD);const JD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ag=ue("book-open",JD);const XD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],QD=ue("calendar",XD);const ZD=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],e4=ue("camera",ZD);const t4=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],n4=ue("chart-column",t4);const r4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yw=ue("check",r4);const s4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mg=ue("chevron-down",s4);const i4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],a4=ue("chevron-up",i4);const o4=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],l4=ue("code",o4);const c4=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],u4=ue("cookie",c4);const d4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Og=ue("external-link",d4);const f4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],h4=ue("eye",f4);const p4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],m4=ue("facebook",p4);const g4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],y4=ue("file-text",g4);const b4=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],x4=ue("github",b4);const v4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],$k=ue("globe",v4);const w4=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],qk=ue("graduation-cap",w4);const S4=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],E4=ue("heading-1",S4);const k4=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],N4=ue("heading-2",k4);const C4=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],T4=ue("heading-3",C4);const A4=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],M4=ue("highlighter",A4);const O4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Fk=ue("house",O4);const R4=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],_4=ue("italic",R4);const j4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],D4=ue("layout-dashboard",j4);const L4=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],I4=ue("link-2",L4);const z4=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Gk=ue("linkedin",z4);const P4=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],B4=ue("list-ordered",P4);const U4=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],H4=ue("list",U4);const V4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Kk=ue("loader-circle",V4);const $4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Rg=ue("log-out",$4);const q4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wk=ue("mail",q4);const F4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],G4=ue("menu",F4);const K4=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],W4=ue("message-circle",K4);const Y4=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],J4=ue("message-square",Y4);const X4=[["path",{d:"M5 12h14",key:"1ays0h"}]],Q4=ue("minus",X4);const Z4=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],eL=ue("pen-tool",Z4);const tL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],sc=ue("pen",tL);const nL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],bw=ue("plus",nL);const rL=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],sL=ue("quote",rL);const iL=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],aL=ue("redo",iL);const oL=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],lL=ue("reply",oL);const cL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Yk=ue("save",cL);const uL=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Jk=ue("search",uL);const dL=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],xw=ue("send",dL);const fL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],_g=ue("shield",fL);const hL=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],pL=ue("sparkles",hL);const mL=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],gL=ue("strikethrough",mL);const yL=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ta=ue("tag",yL);const bL=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],xL=ue("text-align-center",bL);const vL=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],wL=ue("text-align-end",vL);const SL=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]],EL=ue("text-align-justify",SL);const kL=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],NL=ue("text-align-start",kL);const CL=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Bd=ue("trash-2",CL);const TL=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],AL=ue("trending-down",TL);const ML=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ud=ue("trending-up",ML);const OL=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],RL=ue("underline",OL);const _L=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],jL=ue("undo",_L);const DL=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],LL=ue("user-cog",DL);const IL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vw=ue("user",IL);const zL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Hd=ue("users",zL);const PL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tc=ue("x",PL);function Xk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Xk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function BL(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Xk(t))&&(r&&(r+=" "),r+=e);return r}const UL=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},HL=(t,e)=>({classGroupId:t,validator:e}),Qk=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Vd="-",ww=[],VL="arbitrary..",$L=t=>{const e=FL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return qL(l);const u=l.split(Vd),f=u[0]===""&&u.length>1?1:0;return Zk(u,f,e)},getConflictingClassGroupIds:(l,u)=>{if(u){const f=r[l],h=n[l];return f?h?UL(h,f):f:h||ww}return n[l]||ww}}},Zk=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],o=n.nextPart.get(i);if(o){const h=Zk(t,e+1,o);if(h)return h}const l=n.validators;if(l===null)return;const u=e===0?t.join(Vd):t.slice(e).join(Vd),f=l.length;for(let h=0;h<f;h++){const m=l[h];if(m.validator(u))return m.classGroupId}},qL=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?VL+r:void 0})(),FL=t=>{const{theme:e,classGroups:n}=t;return GL(n,e)},GL=(t,e)=>{const n=Qk();for(const r in t){const i=t[r];Dy(i,n,r,e)}return n},Dy=(t,e,n,r)=>{const i=t.length;for(let o=0;o<i;o++){const l=t[o];KL(l,e,n,r)}},KL=(t,e,n,r)=>{if(typeof t=="string"){WL(t,e,n);return}if(typeof t=="function"){YL(t,e,n,r);return}JL(t,e,n,r)},WL=(t,e,n)=>{const r=t===""?e:eN(e,t);r.classGroupId=n},YL=(t,e,n,r)=>{if(XL(t)){Dy(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(HL(n,t))},JL=(t,e,n,r)=>{const i=Object.entries(t),o=i.length;for(let l=0;l<o;l++){const[u,f]=i[l];Dy(f,eN(e,u),n,r)}},eN=(t,e)=>{let n=t;const r=e.split(Vd),i=r.length;for(let o=0;o<i;o++){const l=r[o];let u=n.nextPart.get(l);u||(u=Qk(),n.nextPart.set(l,u)),n=u}return n},XL=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,QL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(o,l)=>{n[o]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let l=n[o];if(l!==void 0)return l;if((l=r[o])!==void 0)return i(o,l),l},set(o,l){o in n?n[o]=l:i(o,l)}}},jg="!",Sw=":",ZL=[],Ew=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),eI=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const o=[];let l=0,u=0,f=0,h;const m=i.length;for(let k=0;k<m;k++){const E=i[k];if(l===0&&u===0){if(E===Sw){o.push(i.slice(f,k)),f=k+1;continue}if(E==="/"){h=k;continue}}E==="["?l++:E==="]"?l--:E==="("?u++:E===")"&&u--}const y=o.length===0?i:i.slice(f);let x=y,v=!1;y.endsWith(jg)?(x=y.slice(0,-1),v=!0):y.startsWith(jg)&&(x=y.slice(1),v=!0);const w=h&&h>f?h-f:void 0;return Ew(o,v,x,w)};if(e){const i=e+Sw,o=r;r=l=>l.startsWith(i)?o(l.slice(i.length)):Ew(ZL,!1,l,void 0,!0)}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},tI=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let o=0;o<n.length;o++){const l=n[o],u=l[0]==="[",f=e.has(l);u||f?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},nI=t=>({cache:QL(t.cacheSize),parseClassName:eI(t),sortModifiers:tI(t),...$L(t)}),rI=/\s+/,sI=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,l=[],u=t.trim().split(rI);let f="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{isExternal:y,modifiers:x,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:k}=n(m);if(y){f=m+(f.length>0?" "+f:f);continue}let E=!!k,C=r(E?w.substring(0,k):w);if(!C){if(!E){f=m+(f.length>0?" "+f:f);continue}if(C=r(w),!C){f=m+(f.length>0?" "+f:f);continue}E=!1}const O=x.length===0?"":x.length===1?x[0]:o(x).join(":"),j=v?O+jg:O,B=j+C;if(l.indexOf(B)>-1)continue;l.push(B);const U=i(C,E);for(let J=0;J<U.length;++J){const H=U[J];l.push(j+H)}f=m+(f.length>0?" "+f:f)}return f},iI=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=tN(n))&&(i&&(i+=" "),i+=r);return i},tN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=tN(t[r]))&&(n&&(n+=" "),n+=e);return n},aI=(t,...e)=>{let n,r,i,o;const l=f=>{const h=e.reduce((m,y)=>y(m),t());return n=nI(h),r=n.cache.get,i=n.cache.set,o=u,u(f)},u=f=>{const h=r(f);if(h)return h;const m=sI(f,n);return i(f,m),m};return o=l,(...f)=>o(iI(...f))},oI=[],Mt=t=>{const e=n=>n[t]||oI;return e.isThemeGetter=!0,e},nN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lI=/^\d+\/\d+$/,cI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xa=t=>lI.test(t),Le=t=>!!t&&!Number.isNaN(Number(t)),Us=t=>!!t&&Number.isInteger(Number(t)),Lm=t=>t.endsWith("%")&&Le(t.slice(0,-1)),Gr=t=>cI.test(t),pI=()=>!0,mI=t=>uI.test(t)&&!dI.test(t),sN=()=>!1,gI=t=>fI.test(t),yI=t=>hI.test(t),bI=t=>!fe(t)&&!he(t),xI=t=>To(t,oN,sN),fe=t=>nN.test(t),zi=t=>To(t,lN,mI),Im=t=>To(t,kI,Le),kw=t=>To(t,iN,sN),vI=t=>To(t,aN,yI),ed=t=>To(t,cN,gI),he=t=>rN.test(t),Ml=t=>Ao(t,lN),wI=t=>Ao(t,NI),Nw=t=>Ao(t,iN),SI=t=>Ao(t,oN),EI=t=>Ao(t,aN),td=t=>Ao(t,cN,!0),To=(t,e,n)=>{const r=nN.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Ao=(t,e,n=!1)=>{const r=rN.exec(t);return r?r[1]?e(r[1]):n:!1},iN=t=>t==="position"||t==="percentage",aN=t=>t==="image"||t==="url",oN=t=>t==="length"||t==="size"||t==="bg-size",lN=t=>t==="length",kI=t=>t==="number",NI=t=>t==="family-name",cN=t=>t==="shadow",CI=()=>{const t=Mt("color"),e=Mt("font"),n=Mt("text"),r=Mt("font-weight"),i=Mt("tracking"),o=Mt("leading"),l=Mt("breakpoint"),u=Mt("container"),f=Mt("spacing"),h=Mt("radius"),m=Mt("shadow"),y=Mt("inset-shadow"),x=Mt("text-shadow"),v=Mt("drop-shadow"),w=Mt("blur"),k=Mt("perspective"),E=Mt("aspect"),C=Mt("ease"),O=Mt("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...B(),he,fe],J=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto","contain","none"],V=()=>[he,fe,f],ne=()=>[Xa,"full","auto",...V()],le=()=>[Us,"none","subgrid",he,fe],ke=()=>["auto",{span:["full",Us,he,fe]},Us,he,fe],Se=()=>[Us,"auto",he,fe],ie=()=>["auto","min","max","fr",he,fe],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],R=()=>["auto",...V()],F=()=>[Xa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...V()],L=()=>[t,he,fe],oe=()=>[...B(),Nw,kw,{position:[he,fe]}],ve=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",SI,xI,{size:[he,fe]}],G=()=>[Lm,Ml,zi],ee=()=>["","none","full",h,he,fe],te=()=>["",Le,Ml,zi],pe=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ge=()=>[Le,Lm,Nw,kw],Fe=()=>["","none",w,he,fe],We=()=>["none",Le,he,fe],on=()=>["none",Le,he,fe],vn=()=>[Le,he,fe],Dn=()=>[Xa,"full",...V()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gr],breakpoint:[Gr],color:[pI],container:[Gr],"drop-shadow":[Gr],ease:["in","out","in-out"],font:[bI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gr],shadow:[Gr],spacing:["px",Le],text:[Gr],"text-shadow":[Gr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xa,fe,he,E]}],container:["container"],columns:[{columns:[Le,fe,he,u]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ne()}],"inset-x":[{"inset-x":ne()}],"inset-y":[{"inset-y":ne()}],start:[{start:ne()}],end:[{end:ne()}],top:[{top:ne()}],right:[{right:ne()}],bottom:[{bottom:ne()}],left:[{left:ne()}],visibility:["visible","invisible","collapse"],z:[{z:[Us,"auto",he,fe]}],basis:[{basis:[Xa,"full","auto",u,...V()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Le,Xa,"auto","initial","none",fe]}],grow:[{grow:["",Le,he,fe]}],shrink:[{shrink:["",Le,he,fe]}],order:[{order:[Us,"first","last","none",he,fe]}],"grid-cols":[{"grid-cols":le()}],"col-start-end":[{col:ke()}],"col-start":[{"col-start":Se()}],"col-end":[{"col-end":Se()}],"grid-rows":[{"grid-rows":le()}],"row-start-end":[{row:ke()}],"row-start":[{"row-start":Se()}],"row-end":[{"row-end":Se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ie()}],"auto-rows":[{"auto-rows":ie()}],gap:[{gap:V()}],"gap-x":[{"gap-x":V()}],"gap-y":[{"gap-y":V()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:V()}],px:[{px:V()}],py:[{py:V()}],ps:[{ps:V()}],pe:[{pe:V()}],pt:[{pt:V()}],pr:[{pr:V()}],pb:[{pb:V()}],pl:[{pl:V()}],m:[{m:R()}],mx:[{mx:R()}],my:[{my:R()}],ms:[{ms:R()}],me:[{me:R()}],mt:[{mt:R()}],mr:[{mr:R()}],mb:[{mb:R()}],ml:[{ml:R()}],"space-x":[{"space-x":V()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":V()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[u,"screen",...F()]}],"min-w":[{"min-w":[u,"screen","none",...F()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",n,Ml,zi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,he,Im]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Lm,fe]}],"font-family":[{font:[wI,fe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,he,fe]}],"line-clamp":[{"line-clamp":[Le,"none",he,Im]}],leading:[{leading:[o,...V()]}],"list-image":[{"list-image":["none",he,fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",he,fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Le,"from-font","auto",he,zi]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[Le,"auto",he,fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he,fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he,fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:ve()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Us,he,fe],radial:["",he,fe],conic:[Us,he,fe]},EI,vI]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Le,he,fe]}],"outline-w":[{outline:["",Le,Ml,zi]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",m,td,ed]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",y,td,ed]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[Le,zi]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",x,td,ed]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[Le,he,fe]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Le]}],"mask-image-linear-from-pos":[{"mask-linear-from":ge()}],"mask-image-linear-to-pos":[{"mask-linear-to":ge()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":ge()}],"mask-image-t-to-pos":[{"mask-t-to":ge()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":ge()}],"mask-image-r-to-pos":[{"mask-r-to":ge()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":ge()}],"mask-image-b-to-pos":[{"mask-b-to":ge()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":ge()}],"mask-image-l-to-pos":[{"mask-l-to":ge()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":ge()}],"mask-image-x-to-pos":[{"mask-x-to":ge()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":ge()}],"mask-image-y-to-pos":[{"mask-y-to":ge()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[he,fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ge()}],"mask-image-radial-to-pos":[{"mask-radial-to":ge()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":B()}],"mask-image-conic-pos":[{"mask-conic":[Le]}],"mask-image-conic-from-pos":[{"mask-conic-from":ge()}],"mask-image-conic-to-pos":[{"mask-conic-to":ge()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:ve()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",he,fe]}],filter:[{filter:["","none",he,fe]}],blur:[{blur:Fe()}],brightness:[{brightness:[Le,he,fe]}],contrast:[{contrast:[Le,he,fe]}],"drop-shadow":[{"drop-shadow":["","none",v,td,ed]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",Le,he,fe]}],"hue-rotate":[{"hue-rotate":[Le,he,fe]}],invert:[{invert:["",Le,he,fe]}],saturate:[{saturate:[Le,he,fe]}],sepia:[{sepia:["",Le,he,fe]}],"backdrop-filter":[{"backdrop-filter":["","none",he,fe]}],"backdrop-blur":[{"backdrop-blur":Fe()}],"backdrop-brightness":[{"backdrop-brightness":[Le,he,fe]}],"backdrop-contrast":[{"backdrop-contrast":[Le,he,fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Le,he,fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Le,he,fe]}],"backdrop-invert":[{"backdrop-invert":["",Le,he,fe]}],"backdrop-opacity":[{"backdrop-opacity":[Le,he,fe]}],"backdrop-saturate":[{"backdrop-saturate":[Le,he,fe]}],"backdrop-sepia":[{"backdrop-sepia":["",Le,he,fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":V()}],"border-spacing-x":[{"border-spacing-x":V()}],"border-spacing-y":[{"border-spacing-y":V()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",he,fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Le,"initial",he,fe]}],ease:[{ease:["linear","initial",C,he,fe]}],delay:[{delay:[Le,he,fe]}],animate:[{animate:["none",O,he,fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,he,fe]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:We()}],"rotate-x":[{"rotate-x":We()}],"rotate-y":[{"rotate-y":We()}],"rotate-z":[{"rotate-z":We()}],scale:[{scale:on()}],"scale-x":[{"scale-x":on()}],"scale-y":[{"scale-y":on()}],"scale-z":[{"scale-z":on()}],"scale-3d":["scale-3d"],skew:[{skew:vn()}],"skew-x":[{"skew-x":vn()}],"skew-y":[{"skew-y":vn()}],transform:[{transform:[he,fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Dn()}],"translate-x":[{"translate-x":Dn()}],"translate-y":[{"translate-y":Dn()}],"translate-z":[{"translate-z":Dn()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he,fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he,fe]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[Le,Ml,zi,Im]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},TI=aI(CI);function ic(...t){return TI(BL(t))}const Cw=()=>{const{language:t,toggleLanguage:e}=jn();return p.jsxs("div",{className:"relative inline-flex items-center bg-surface border border-border rounded-full p-1 shadow-sm",children:[p.jsx("button",{onClick:()=>t==="bn"&&e(),className:`px-3 py-1 text-xs font-medium rounded-full transition-all duration-200 ${t==="en"?"bg-accent text-white shadow-md":"text-muted hover:text-foreground"}`,children:"EN"}),p.jsx("button",{onClick:()=>t==="en"&&e(),className:`px-3 py-1 text-xs font-medium rounded-full transition-all duration-200 ${t==="bn"?"bg-accent text-white shadow-md":"text-muted hover:text-foreground"}`,children:"BN"})]})},AI=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),i=fr(),o=la(),{t:l}=jn(),{user:u,logout:f}=fi(),h=async()=>{(await f()).success&&o("/")},m=[{href:"/",label:{en:"Home",bn:""}},{href:"/article",label:{en:"Opportunities",bn:""}},{href:"/about",label:{en:"About",bn:""}}];return p.jsxs("header",{className:"sticky top-0 z-50 w-full border-b border-border/30 bg-background shadow-2xl shadow-black/20",children:[p.jsxs("div",{className:"container mx-auto max-w-4xl px-4 flex h-16 items-center justify-between",children:[p.jsx(qe,{to:"/",className:"font-serif text-xl font-semibold tracking-tight hover:text-accent transition-colors",children:"The Scholars Page"}),p.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[m.map(y=>p.jsx(qe,{to:y.href,className:ic("text-sm font-medium transition-colors hover:text-accent",i.pathname===y.href?"text-accent":"text-muted"),children:l(y.label)},y.href)),p.jsx("div",{className:"h-4 w-px bg-border mx-2"}),p.jsx(Cw,{}),u?p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[u.photoURL?p.jsx("img",{src:u.photoURL,alt:u.displayName||"User",className:"w-8 h-8 rounded-full object-cover border-2 border-accent"}):p.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center text-white font-medium text-sm",children:(u.displayName||u.email||"U").charAt(0).toUpperCase()}),p.jsx(Mg,{className:"w-4 h-4 text-muted"})]}),n&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 z-[100]",onClick:()=>r(!1)}),p.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-surface border border-border rounded-lg shadow-2xl shadow-black/50 py-2 z-[101] animate-in fade-in slide-in-from-top-2 duration-200",children:[p.jsxs("div",{className:"px-4 py-3 border-b border-border",children:[p.jsx("p",{className:"text-sm font-medium text-foreground",children:u.displayName||"User"}),p.jsx("p",{className:"text-xs text-muted truncate",children:u.email})]}),p.jsxs(qe,{to:"/profile",onClick:()=>r(!1),className:"flex items-center gap-2 px-4 py-2 text-sm text-muted hover:bg-surface-hover hover:text-accent transition-colors",children:[p.jsx(vw,{className:"w-4 h-4"}),l({en:"View Profile",bn:" "})]}),p.jsxs("button",{onClick:()=>{r(!1),h()},className:"flex items-center gap-2 px-4 py-2 text-sm text-muted hover:bg-surface-hover hover:text-accent transition-colors w-full text-left",children:[p.jsx(Rg,{className:"w-4 h-4"}),l({en:"Logout",bn:""})]})]})]})]}):p.jsx(qe,{to:"/login",className:"text-sm font-medium text-muted hover:text-accent transition-colors",children:l({en:"Sign In",bn:" "})})]}),p.jsx("button",{className:"md:hidden",onClick:()=>e(!t),children:t?p.jsx(Tc,{className:"h-6 w-6"}):p.jsx(G4,{className:"h-6 w-6"})})]}),t&&p.jsx("div",{className:"md:hidden border-t border-border/30 bg-surface/80 backdrop-blur-xl p-4 animate-in slide-in-from-top-2 shadow-xl",children:p.jsxs("nav",{className:"flex flex-col gap-4",children:[m.map(y=>p.jsx(qe,{to:y.href,onClick:()=>e(!1),className:ic("text-lg font-medium transition-colors hover:text-accent py-2",i.pathname===y.href?"text-accent":"text-muted"),children:l(y.label)},y.href)),p.jsx("div",{className:"border-t border-border pt-4",children:p.jsx(Cw,{})}),u?p.jsxs("div",{className:"border-t border-border pt-4 space-y-3",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted",children:[p.jsx(vw,{className:"h-4 w-4"}),p.jsx("span",{children:u.displayName||u.email})]}),p.jsxs("button",{onClick:()=>{h(),e(!1)},className:"flex items-center gap-2 text-sm text-muted hover:text-accent transition-colors",children:[p.jsx(Rg,{className:"h-4 w-4"}),l({en:"Logout",bn:""})]})]}):p.jsx("div",{className:"border-t border-border pt-4",children:p.jsx(qe,{to:"/login",onClick:()=>e(!1),className:"text-lg font-medium text-muted hover:text-accent transition-colors",children:l({en:"Sign In",bn:" "})})})]})})]})},MI=()=>{const{t}=jn();return p.jsxs("div",{className:"min-h-screen flex flex-col font-sans",children:[p.jsx(AI,{}),p.jsx("main",{className:"flex-1 w-full max-w-4xl mx-auto px-4 py-12 animate-in fade-in duration-500",children:p.jsx(VE,{})}),p.jsx("footer",{className:"border-t border-border/30 bg-surface/20 backdrop-blur-xl py-10 mt-16 shadow-2xl shadow-black/10",children:p.jsx("div",{className:"container mx-auto max-w-4xl px-4",children:p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 text-sm text-muted",children:[p.jsxs("div",{className:"text-center md:text-left",children:[p.jsx("p",{className:"font-semibold text-foreground mb-1",children:"The Scholars Page"}),p.jsxs("p",{children:[" ",new Date().getFullYear()," ",t({en:"All rights reserved.",bn:" "})]})]}),p.jsxs("div",{className:"text-center md:text-right",children:[p.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-end gap-3 mb-2 text-xs",children:[p.jsx(qe,{to:"/terms",className:"hover:text-accent transition-colors",children:t({en:"Terms of Service",bn:" "})}),p.jsx("span",{className:"text-border",children:""}),p.jsx(qe,{to:"/privacy",className:"hover:text-accent transition-colors",children:t({en:"Privacy Policy",bn:" "})}),p.jsx("span",{className:"text-border",children:""}),p.jsx(qe,{to:"/cookies",className:"hover:text-accent transition-colors",children:t({en:"Cookie Policy",bn:" "})})]}),p.jsxs("div",{className:"flex items-center justify-center md:justify-end gap-3",children:[p.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"w-6 h-6 flex items-center justify-center rounded-full bg-surface border border-border text-muted hover:text-accent hover:border-accent/50 transition-colors","aria-label":"Facebook",children:p.jsx(m4,{className:"w-3 h-3"})}),p.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"w-6 h-6 flex items-center justify-center rounded-full bg-surface border border-border text-muted hover:text-accent hover:border-accent/50 transition-colors","aria-label":"LinkedIn",children:p.jsx(Gk,{className:"w-3 h-3"})}),p.jsx("a",{href:"mailto:contact@thescholarspage.com",className:"w-6 h-6 flex items-center justify-center rounded-full bg-surface border border-border text-muted hover:text-accent hover:border-accent/50 transition-colors","aria-label":"Email",children:p.jsx(Wk,{className:"w-3 h-3"})})]})]})]})})})]})};function uN(t,e){return function(){return t.apply(e,arguments)}}const{toString:OI}=Object.prototype,{getPrototypeOf:Ly}=Object,{iterator:Hf,toStringTag:dN}=Symbol,Vf=(t=>e=>{const n=OI.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),hr=t=>(t=t.toLowerCase(),e=>Vf(e)===t),$f=t=>e=>typeof e===t,{isArray:Mo}=Array,go=$f("undefined");function Ac(t){return t!==null&&!go(t)&&t.constructor!==null&&!go(t.constructor)&&gn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const fN=hr("ArrayBuffer");function RI(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&fN(t.buffer),e}const _I=$f("string"),gn=$f("function"),hN=$f("number"),Mc=t=>t!==null&&typeof t=="object",jI=t=>t===!0||t===!1,Ed=t=>{if(Vf(t)!=="object")return!1;const e=Ly(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(dN in t)&&!(Hf in t)},DI=t=>{if(!Mc(t)||Ac(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},LI=hr("Date"),II=hr("File"),zI=hr("Blob"),PI=hr("FileList"),BI=t=>Mc(t)&&gn(t.pipe),UI=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||gn(t.append)&&((e=Vf(t))==="formdata"||e==="object"&&gn(t.toString)&&t.toString()==="[object FormData]"))},HI=hr("URLSearchParams"),[VI,$I,qI,FI]=["ReadableStream","Request","Response","Headers"].map(hr),GI=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Oc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Mo(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(Ac(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(r=0;r<l;r++)u=o[r],e.call(null,t[u],u,t)}}function pN(t,e){if(Ac(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Vi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mN=t=>!go(t)&&t!==Vi;function Dg(){const{caseless:t,skipUndefined:e}=mN(this)&&this||{},n={},r=(i,o)=>{const l=t&&pN(n,o)||o;Ed(n[l])&&Ed(i)?n[l]=Dg(n[l],i):Ed(i)?n[l]=Dg({},i):Mo(i)?n[l]=i.slice():(!e||!go(i))&&(n[l]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Oc(arguments[i],r);return n}const KI=(t,e,n,{allOwnKeys:r}={})=>(Oc(e,(i,o)=>{n&&gn(i)?t[o]=uN(i,n):t[o]=i},{allOwnKeys:r}),t),WI=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),YI=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},JI=(t,e,n,r)=>{let i,o,l;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)l=i[o],(!r||r(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=n!==!1&&Ly(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},XI=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},QI=t=>{if(!t)return null;if(Mo(t))return t;let e=t.length;if(!hN(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},ZI=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ly(Uint8Array)),e5=(t,e)=>{const r=(t&&t[Hf]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},t5=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},n5=hr("HTMLFormElement"),r5=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Tw=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),s5=hr("RegExp"),gN=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Oc(n,(i,o)=>{let l;(l=e(i,o,t))!==!1&&(r[o]=l||i)}),Object.defineProperties(t,r)},i5=t=>{gN(t,(e,n)=>{if(gn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(gn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},a5=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Mo(t)?r(t):r(String(t).split(e)),n},o5=()=>{},l5=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function c5(t){return!!(t&&gn(t.append)&&t[dN]==="FormData"&&t[Hf])}const u5=t=>{const e=new Array(10),n=(r,i)=>{if(Mc(r)){if(e.indexOf(r)>=0)return;if(Ac(r))return r;if(!("toJSON"in r)){e[i]=r;const o=Mo(r)?[]:{};return Oc(r,(l,u)=>{const f=n(l,i+1);!go(f)&&(o[u]=f)}),e[i]=void 0,o}}return r};return n(t,0)},d5=hr("AsyncFunction"),f5=t=>t&&(Mc(t)||gn(t))&&gn(t.then)&&gn(t.catch),yN=((t,e)=>t?setImmediate:e?((n,r)=>(Vi.addEventListener("message",({source:i,data:o})=>{i===Vi&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Vi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",gn(Vi.postMessage)),h5=typeof queueMicrotask<"u"?queueMicrotask.bind(Vi):typeof process<"u"&&process.nextTick||yN,p5=t=>t!=null&&gn(t[Hf]),$={isArray:Mo,isArrayBuffer:fN,isBuffer:Ac,isFormData:UI,isArrayBufferView:RI,isString:_I,isNumber:hN,isBoolean:jI,isObject:Mc,isPlainObject:Ed,isEmptyObject:DI,isReadableStream:VI,isRequest:$I,isResponse:qI,isHeaders:FI,isUndefined:go,isDate:LI,isFile:II,isBlob:zI,isRegExp:s5,isFunction:gn,isStream:BI,isURLSearchParams:HI,isTypedArray:ZI,isFileList:PI,forEach:Oc,merge:Dg,extend:KI,trim:GI,stripBOM:WI,inherits:YI,toFlatObject:JI,kindOf:Vf,kindOfTest:hr,endsWith:XI,toArray:QI,forEachEntry:e5,matchAll:t5,isHTMLForm:n5,hasOwnProperty:Tw,hasOwnProp:Tw,reduceDescriptors:gN,freezeMethods:i5,toObjectSet:a5,toCamelCase:r5,noop:o5,toFiniteNumber:l5,findKey:pN,global:Vi,isContextDefined:mN,isSpecCompliantForm:c5,toJSONObject:u5,isAsyncFn:d5,isThenable:f5,setImmediate:yN,asap:h5,isIterable:p5};function Re(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}$.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const bN=Re.prototype,xN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{xN[t]={value:t}});Object.defineProperties(Re,xN);Object.defineProperty(bN,"isAxiosError",{value:!0});Re.from=(t,e,n,r,i,o)=>{const l=Object.create(bN);$.toFlatObject(t,l,function(m){return m!==Error.prototype},h=>h!=="isAxiosError");const u=t&&t.message?t.message:"Error",f=e==null&&t?t.code:e;return Re.call(l,u,f,n,r,i),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",o&&Object.assign(l,o),l};const m5=null;function Lg(t){return $.isPlainObject(t)||$.isArray(t)}function vN(t){return $.endsWith(t,"[]")?t.slice(0,-2):t}function Aw(t,e,n){return t?t.concat(e).map(function(i,o){return i=vN(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function g5(t){return $.isArray(t)&&!t.some(Lg)}const y5=$.toFlatObject($,{},null,function(e){return/^is[A-Z]/.test(e)});function qf(t,e,n){if(!$.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,E){return!$.isUndefined(E[k])});const r=n.metaTokens,i=n.visitor||m,o=n.dots,l=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(e);if(!$.isFunction(i))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if($.isDate(w))return w.toISOString();if($.isBoolean(w))return w.toString();if(!f&&$.isBlob(w))throw new Re("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(w)||$.isTypedArray(w)?f&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function m(w,k,E){let C=w;if(w&&!E&&typeof w=="object"){if($.endsWith(k,"{}"))k=r?k:k.slice(0,-2),w=JSON.stringify(w);else if($.isArray(w)&&g5(w)||($.isFileList(w)||$.endsWith(k,"[]"))&&(C=$.toArray(w)))return k=vN(k),C.forEach(function(j,B){!($.isUndefined(j)||j===null)&&e.append(l===!0?Aw([k],B,o):l===null?k:k+"[]",h(j))}),!1}return Lg(w)?!0:(e.append(Aw(E,k,o),h(w)),!1)}const y=[],x=Object.assign(y5,{defaultVisitor:m,convertValue:h,isVisitable:Lg});function v(w,k){if(!$.isUndefined(w)){if(y.indexOf(w)!==-1)throw Error("Circular reference detected in "+k.join("."));y.push(w),$.forEach(w,function(C,O){(!($.isUndefined(C)||C===null)&&i.call(e,C,$.isString(O)?O.trim():O,k,x))===!0&&v(C,k?k.concat(O):[O])}),y.pop()}}if(!$.isObject(t))throw new TypeError("data must be an object");return v(t),e}function Mw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Iy(t,e){this._pairs=[],t&&qf(t,this,e)}const wN=Iy.prototype;wN.append=function(e,n){this._pairs.push([e,n])};wN.toString=function(e){const n=e?function(r){return e.call(this,r,Mw)}:Mw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function b5(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function SN(t,e,n){if(!e)return t;const r=n&&n.encode||b5;$.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=$.isURLSearchParams(e)?e.toString():new Iy(e,n).toString(r),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class Ow{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$.forEach(this.handlers,function(r){r!==null&&e(r)})}}const EN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},x5=typeof URLSearchParams<"u"?URLSearchParams:Iy,v5=typeof FormData<"u"?FormData:null,w5=typeof Blob<"u"?Blob:null,S5={isBrowser:!0,classes:{URLSearchParams:x5,FormData:v5,Blob:w5},protocols:["http","https","file","blob","url","data"]},zy=typeof window<"u"&&typeof document<"u",Ig=typeof navigator=="object"&&navigator||void 0,E5=zy&&(!Ig||["ReactNative","NativeScript","NS"].indexOf(Ig.product)<0),k5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",N5=zy&&window.location.href||"http://localhost",C5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zy,hasStandardBrowserEnv:E5,hasStandardBrowserWebWorkerEnv:k5,navigator:Ig,origin:N5},Symbol.toStringTag,{value:"Module"})),Xt={...C5,...S5};function T5(t,e){return qf(t,new Xt.classes.URLSearchParams,{visitor:function(n,r,i,o){return Xt.isNode&&$.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function A5(t){return $.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function M5(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function kN(t){function e(n,r,i,o){let l=n[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),f=o>=n.length;return l=!l&&$.isArray(i)?i.length:l,f?($.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!$.isObject(i[l]))&&(i[l]=[]),e(n,r,i[l],o)&&$.isArray(i[l])&&(i[l]=M5(i[l])),!u)}if($.isFormData(t)&&$.isFunction(t.entries)){const n={};return $.forEachEntry(t,(r,i)=>{e(A5(r),i,n,0)}),n}return null}function O5(t,e,n){if($.isString(t))try{return(e||JSON.parse)(t),$.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Rc={transitional:EN,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=$.isObject(e);if(o&&$.isHTMLForm(e)&&(e=new FormData(e)),$.isFormData(e))return i?JSON.stringify(kN(e)):e;if($.isArrayBuffer(e)||$.isBuffer(e)||$.isStream(e)||$.isFile(e)||$.isBlob(e)||$.isReadableStream(e))return e;if($.isArrayBufferView(e))return e.buffer;if($.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return T5(e,this.formSerializer).toString();if((u=$.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return qf(u?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),O5(e)):e}],transformResponse:[function(e){const n=this.transitional||Rc.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if($.isResponse(e)||$.isReadableStream(e))return e;if(e&&$.isString(e)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(u){if(l)throw u.name==="SyntaxError"?Re.from(u,Re.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],t=>{Rc.headers[t]={}});const R5=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_5=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||e[n]&&R5[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Rw=Symbol("internals");function Ol(t){return t&&String(t).trim().toLowerCase()}function kd(t){return t===!1||t==null?t:$.isArray(t)?t.map(kd):String(t)}function j5(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const D5=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zm(t,e,n,r,i){if($.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!$.isString(e)){if($.isString(r))return e.indexOf(r)!==-1;if($.isRegExp(r))return r.test(e)}}function L5(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function I5(t,e){const n=$.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,l){return this[r].call(this,e,i,o,l)},configurable:!0})})}let yn=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(u,f,h){const m=Ol(f);if(!m)throw new Error("header name must be a non-empty string");const y=$.findKey(i,m);(!y||i[y]===void 0||h===!0||h===void 0&&i[y]!==!1)&&(i[y||f]=kd(u))}const l=(u,f)=>$.forEach(u,(h,m)=>o(h,m,f));if($.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if($.isString(e)&&(e=e.trim())&&!D5(e))l(_5(e),n);else if($.isObject(e)&&$.isIterable(e)){let u={},f,h;for(const m of e){if(!$.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[h=m[0]]=(f=u[h])?$.isArray(f)?[...f,m[1]]:[f,m[1]]:m[1]}l(u,n)}else e!=null&&o(n,e,r);return this}get(e,n){if(e=Ol(e),e){const r=$.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return j5(i);if($.isFunction(n))return n.call(this,i,r);if($.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ol(e),e){const r=$.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||zm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(l){if(l=Ol(l),l){const u=$.findKey(r,l);u&&(!n||zm(r,r[u],u,n))&&(delete r[u],i=!0)}}return $.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||zm(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return $.forEach(this,(i,o)=>{const l=$.findKey(r,o);if(l){n[l]=kd(i),delete n[o];return}const u=e?L5(o):String(o).trim();u!==o&&delete n[o],n[u]=kd(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return $.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&$.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Rw]=this[Rw]={accessors:{}}).accessors,i=this.prototype;function o(l){const u=Ol(l);r[u]||(I5(i,l),r[u]=!0)}return $.isArray(e)?e.forEach(o):o(e),this}};yn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(yn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});$.freezeMethods(yn);function Pm(t,e){const n=this||Rc,r=e||n,i=yn.from(r.headers);let o=r.data;return $.forEach(t,function(u){o=u.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function NN(t){return!!(t&&t.__CANCEL__)}function Oo(t,e,n){Re.call(this,t??"canceled",Re.ERR_CANCELED,e,n),this.name="CanceledError"}$.inherits(Oo,Re,{__CANCEL__:!0});function CN(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Re("Request failed with status code "+n.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function z5(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function P5(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(f){const h=Date.now(),m=r[o];l||(l=h),n[i]=f,r[i]=h;let y=o,x=0;for(;y!==i;)x+=n[y++],y=y%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),h-l<e)return;const v=m&&h-m;return v?Math.round(x*1e3/v):void 0}}function B5(t,e){let n=0,r=1e3/e,i,o;const l=(h,m=Date.now())=>{n=m,i=null,o&&(clearTimeout(o),o=null),t(...h)};return[(...h)=>{const m=Date.now(),y=m-n;y>=r?l(h,m):(i=h,o||(o=setTimeout(()=>{o=null,l(i)},r-y)))},()=>i&&l(i)]}const $d=(t,e,n=3)=>{let r=0;const i=P5(50,250);return B5(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,f=l-r,h=i(f),m=l<=u;r=l;const y={loaded:l,total:u,progress:u?l/u:void 0,bytes:f,rate:h||void 0,estimated:h&&u&&m?(u-l)/h:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(y)},n)},_w=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},jw=t=>(...e)=>$.asap(()=>t(...e)),U5=Xt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Xt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,H5=Xt.hasStandardBrowserEnv?{write(t,e,n,r,i,o,l){if(typeof document>"u")return;const u=[`${t}=${encodeURIComponent(e)}`];$.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),$.isString(r)&&u.push(`path=${r}`),$.isString(i)&&u.push(`domain=${i}`),o===!0&&u.push("secure"),$.isString(l)&&u.push(`SameSite=${l}`),document.cookie=u.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function V5(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $5(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function TN(t,e,n){let r=!V5(e);return t&&(r||n==!1)?$5(t,e):e}const Dw=t=>t instanceof yn?{...t}:t;function na(t,e){e=e||{};const n={};function r(h,m,y,x){return $.isPlainObject(h)&&$.isPlainObject(m)?$.merge.call({caseless:x},h,m):$.isPlainObject(m)?$.merge({},m):$.isArray(m)?m.slice():m}function i(h,m,y,x){if($.isUndefined(m)){if(!$.isUndefined(h))return r(void 0,h,y,x)}else return r(h,m,y,x)}function o(h,m){if(!$.isUndefined(m))return r(void 0,m)}function l(h,m){if($.isUndefined(m)){if(!$.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function u(h,m,y){if(y in e)return r(h,m);if(y in t)return r(void 0,h)}const f={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,m,y)=>i(Dw(h),Dw(m),y,!0)};return $.forEach(Object.keys({...t,...e}),function(m){const y=f[m]||i,x=y(t[m],e[m],m);$.isUndefined(x)&&y!==u||(n[m]=x)}),n}const AN=t=>{const e=na({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:u}=e;if(e.headers=l=yn.from(l),e.url=SN(TN(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),$.isFormData(n)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if($.isFunction(n.getHeaders)){const f=n.getHeaders(),h=["content-type","content-length"];Object.entries(f).forEach(([m,y])=>{h.includes(m.toLowerCase())&&l.set(m,y)})}}if(Xt.hasStandardBrowserEnv&&(r&&$.isFunction(r)&&(r=r(e)),r||r!==!1&&U5(e.url))){const f=i&&o&&H5.read(o);f&&l.set(i,f)}return e},q5=typeof XMLHttpRequest<"u",F5=q5&&function(t){return new Promise(function(n,r){const i=AN(t);let o=i.data;const l=yn.from(i.headers).normalize();let{responseType:u,onUploadProgress:f,onDownloadProgress:h}=i,m,y,x,v,w;function k(){v&&v(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let E=new XMLHttpRequest;E.open(i.method.toUpperCase(),i.url,!0),E.timeout=i.timeout;function C(){if(!E)return;const j=yn.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),U={data:!u||u==="text"||u==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:j,config:t,request:E};CN(function(H){n(H),k()},function(H){r(H),k()},U),E=null}"onloadend"in E?E.onloadend=C:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(C)},E.onabort=function(){E&&(r(new Re("Request aborted",Re.ECONNABORTED,t,E)),E=null)},E.onerror=function(B){const U=B&&B.message?B.message:"Network Error",J=new Re(U,Re.ERR_NETWORK,t,E);J.event=B||null,r(J),E=null},E.ontimeout=function(){let B=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const U=i.transitional||EN;i.timeoutErrorMessage&&(B=i.timeoutErrorMessage),r(new Re(B,U.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,t,E)),E=null},o===void 0&&l.setContentType(null),"setRequestHeader"in E&&$.forEach(l.toJSON(),function(B,U){E.setRequestHeader(U,B)}),$.isUndefined(i.withCredentials)||(E.withCredentials=!!i.withCredentials),u&&u!=="json"&&(E.responseType=i.responseType),h&&([x,w]=$d(h,!0),E.addEventListener("progress",x)),f&&E.upload&&([y,v]=$d(f),E.upload.addEventListener("progress",y),E.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(m=j=>{E&&(r(!j||j.type?new Oo(null,t,E):j),E.abort(),E=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const O=z5(i.url);if(O&&Xt.protocols.indexOf(O)===-1){r(new Re("Unsupported protocol "+O+":",Re.ERR_BAD_REQUEST,t));return}E.send(o||null)})},G5=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(h){if(!i){i=!0,u();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Re?m:new Oo(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,o(new Re(`timeout ${e} of ms exceeded`,Re.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),t=null)};t.forEach(h=>h.addEventListener("abort",o));const{signal:f}=r;return f.unsubscribe=()=>$.asap(u),f}},K5=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},W5=async function*(t,e){for await(const n of Y5(t))yield*K5(n,e)},Y5=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Lw=(t,e,n,r)=>{const i=W5(t,e);let o=0,l,u=f=>{l||(l=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:h,value:m}=await i.next();if(h){u(),f.close();return}let y=m.byteLength;if(n){let x=o+=y;n(x)}f.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(f){return u(f),i.return()}},{highWaterMark:2})},Iw=64*1024,{isFunction:nd}=$,J5=(({Request:t,Response:e})=>({Request:t,Response:e}))($.global),{ReadableStream:zw,TextEncoder:Pw}=$.global,Bw=(t,...e)=>{try{return!!t(...e)}catch{return!1}},X5=t=>{t=$.merge.call({skipUndefined:!0},J5,t);const{fetch:e,Request:n,Response:r}=t,i=e?nd(e):typeof fetch=="function",o=nd(n),l=nd(r);if(!i)return!1;const u=i&&nd(zw),f=i&&(typeof Pw=="function"?(w=>k=>w.encode(k))(new Pw):async w=>new Uint8Array(await new n(w).arrayBuffer())),h=o&&u&&Bw(()=>{let w=!1;const k=new n(Xt.origin,{body:new zw,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!k}),m=l&&u&&Bw(()=>$.isReadableStream(new r("").body)),y={stream:m&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!y[w]&&(y[w]=(k,E)=>{let C=k&&k[w];if(C)return C.call(k);throw new Re(`Response type '${w}' is not supported`,Re.ERR_NOT_SUPPORT,E)})});const x=async w=>{if(w==null)return 0;if($.isBlob(w))return w.size;if($.isSpecCompliantForm(w))return(await new n(Xt.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if($.isArrayBufferView(w)||$.isArrayBuffer(w))return w.byteLength;if($.isURLSearchParams(w)&&(w=w+""),$.isString(w))return(await f(w)).byteLength},v=async(w,k)=>{const E=$.toFiniteNumber(w.getContentLength());return E??x(k)};return async w=>{let{url:k,method:E,data:C,signal:O,cancelToken:j,timeout:B,onDownloadProgress:U,onUploadProgress:J,responseType:H,headers:V,withCredentials:ne="same-origin",fetchOptions:le}=AN(w),ke=e||fetch;H=H?(H+"").toLowerCase():"text";let Se=G5([O,j&&j.toAbortSignal()],B),ie=null;const X=Se&&Se.unsubscribe&&(()=>{Se.unsubscribe()});let K;try{if(J&&h&&E!=="get"&&E!=="head"&&(K=await v(V,C))!==0){let M=new n(k,{method:"POST",body:C,duplex:"half"}),G;if($.isFormData(C)&&(G=M.headers.get("content-type"))&&V.setContentType(G),M.body){const[ee,te]=_w(K,$d(jw(J)));C=Lw(M.body,Iw,ee,te)}}$.isString(ne)||(ne=ne?"include":"omit");const R=o&&"credentials"in n.prototype,F={...le,signal:Se,method:E.toUpperCase(),headers:V.normalize().toJSON(),body:C,duplex:"half",credentials:R?ne:void 0};ie=o&&new n(k,F);let L=await(o?ke(ie,le):ke(k,F));const oe=m&&(H==="stream"||H==="response");if(m&&(U||oe&&X)){const M={};["status","statusText","headers"].forEach(pe=>{M[pe]=L[pe]});const G=$.toFiniteNumber(L.headers.get("content-length")),[ee,te]=U&&_w(G,$d(jw(U),!0))||[];L=new r(Lw(L.body,Iw,ee,()=>{te&&te(),X&&X()}),M)}H=H||"text";let ve=await y[$.findKey(y,H)||"text"](L,w);return!oe&&X&&X(),await new Promise((M,G)=>{CN(M,G,{data:ve,headers:yn.from(L.headers),status:L.status,statusText:L.statusText,config:w,request:ie})})}catch(R){throw X&&X(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,w,ie),{cause:R.cause||R}):Re.from(R,R&&R.code,w,ie)}}},Q5=new Map,MN=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,o=[r,i,n];let l=o.length,u=l,f,h,m=Q5;for(;u--;)f=o[u],h=m.get(f),h===void 0&&m.set(f,h=u?new Map:X5(e)),m=h;return h};MN();const Py={http:m5,xhr:F5,fetch:{get:MN}};$.forEach(Py,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Uw=t=>`- ${t}`,Z5=t=>$.isFunction(t)||t===null||t===!1;function ez(t,e){t=$.isArray(t)?t:[t];const{length:n}=t;let r,i;const o={};for(let l=0;l<n;l++){r=t[l];let u;if(i=r,!Z5(r)&&(i=Py[(u=String(r)).toLowerCase()],i===void 0))throw new Re(`Unknown adapter '${u}'`);if(i&&($.isFunction(i)||(i=i.get(e))))break;o[u||"#"+l]=i}if(!i){const l=Object.entries(o).map(([f,h])=>`adapter ${f} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=n?l.length>1?`since :
`+l.map(Uw).join(`
`):" "+Uw(l[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i}const ON={getAdapter:ez,adapters:Py};function Bm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Oo(null,t)}function Hw(t){return Bm(t),t.headers=yn.from(t.headers),t.data=Pm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ON.getAdapter(t.adapter||Rc.adapter,t)(t).then(function(r){return Bm(t),r.data=Pm.call(t,t.transformResponse,r),r.headers=yn.from(r.headers),r},function(r){return NN(r)||(Bm(t),r&&r.response&&(r.response.data=Pm.call(t,t.transformResponse,r.response),r.response.headers=yn.from(r.response.headers))),Promise.reject(r)})}const RN="1.13.2",Ff={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ff[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Vw={};Ff.transitional=function(e,n,r){function i(o,l){return"[Axios v"+RN+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,u)=>{if(e===!1)throw new Re(i(l," has been removed"+(n?" in "+n:"")),Re.ERR_DEPRECATED);return n&&!Vw[l]&&(Vw[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,u):!0}};Ff.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function tz(t,e,n){if(typeof t!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],l=e[o];if(l){const u=t[o],f=u===void 0||l(u,o,t);if(f!==!0)throw new Re("option "+o+" must be "+f,Re.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Re("Unknown option "+o,Re.ERR_BAD_OPTION)}}const Nd={assertOptions:tz,validators:Ff},xr=Nd.validators;let Ki=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ow,response:new Ow}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=na(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Nd.assertOptions(r,{silentJSONParsing:xr.transitional(xr.boolean),forcedJSONParsing:xr.transitional(xr.boolean),clarifyTimeoutError:xr.transitional(xr.boolean)},!1),i!=null&&($.isFunction(i)?n.paramsSerializer={serialize:i}:Nd.assertOptions(i,{encode:xr.function,serialize:xr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Nd.assertOptions(n,{baseUrl:xr.spelling("baseURL"),withXsrfToken:xr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&$.merge(o.common,o[n.method]);o&&$.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),n.headers=yn.concat(l,o);const u=[];let f=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(n)===!1||(f=f&&k.synchronous,u.unshift(k.fulfilled,k.rejected))});const h=[];this.interceptors.response.forEach(function(k){h.push(k.fulfilled,k.rejected)});let m,y=0,x;if(!f){const w=[Hw.bind(this),void 0];for(w.unshift(...u),w.push(...h),x=w.length,m=Promise.resolve(n);y<x;)m=m.then(w[y++],w[y++]);return m}x=u.length;let v=n;for(;y<x;){const w=u[y++],k=u[y++];try{v=w(v)}catch(E){k.call(this,E);break}}try{m=Hw.call(this,v)}catch(w){return Promise.reject(w)}for(y=0,x=h.length;y<x;)m=m.then(h[y++],h[y++]);return m}getUri(e){e=na(this.defaults,e);const n=TN(e.baseURL,e.url,e.allowAbsoluteUrls);return SN(n,e.params,e.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(e){Ki.prototype[e]=function(n,r){return this.request(na(r||{},{method:e,url:n,data:(r||{}).data}))}});$.forEach(["post","put","patch"],function(e){function n(r){return function(o,l,u){return this.request(na(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Ki.prototype[e]=n(),Ki.prototype[e+"Form"]=n(!0)});let nz=class _N{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(u=>{r.subscribe(u),o=u}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,u){r.reason||(r.reason=new Oo(o,l,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new _N(function(i){e=i}),cancel:e}}};function rz(t){return function(n){return t.apply(null,n)}}function sz(t){return $.isObject(t)&&t.isAxiosError===!0}const zg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(zg).forEach(([t,e])=>{zg[e]=t});function jN(t){const e=new Ki(t),n=uN(Ki.prototype.request,e);return $.extend(n,Ki.prototype,e,{allOwnKeys:!0}),$.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return jN(na(t,i))},n}const xt=jN(Rc);xt.Axios=Ki;xt.CanceledError=Oo;xt.CancelToken=nz;xt.isCancel=NN;xt.VERSION=RN;xt.toFormData=qf;xt.AxiosError=Re;xt.Cancel=xt.CanceledError;xt.all=function(e){return Promise.all(e)};xt.spread=rz;xt.isAxiosError=sz;xt.mergeConfig=na;xt.AxiosHeaders=yn;xt.formToJSON=t=>kN($.isHTMLForm(t)?new FormData(t):t);xt.getAdapter=ON.getAdapter;xt.HttpStatusCode=zg;xt.default=xt;const{Axios:L9,AxiosError:I9,CanceledError:z9,isCancel:P9,CancelToken:B9,VERSION:U9,all:H9,Cancel:V9,isAxiosError:$9,spread:q9,toFormData:F9,AxiosHeaders:G9,HttpStatusCode:K9,formToJSON:W9,getAdapter:Y9,mergeConfig:J9}=xt,rd=["https://thescholarspage-api.vercel.app/api","https://thescholarspage-api.onrender.com/api"],iz=3e4,az=6,oz=2e3,lz=18e4,$w=()=>Jt.currentUser?Jt.currentUser.uid||Jt.currentUser.email:null,cz=t=>new Promise(e=>setTimeout(e,t)),$e=async(t,e={})=>{const n=Date.now();let r=null,i=0;for(let o=0;o<rd.length;o++){const l=rd[o],u=Math.ceil(az/rd.length);for(let f=0;f<u;f++){if(Date.now()-n>lz)throw new Error("Request timeout: The server is taking too long to respond. Please try again later.");i++;try{const h={timeout:iz,headers:{"Content-Type":"application/json",...e.headers},...e};return(await xt({method:e.method||"GET",url:`${l}${t}`,data:e.body?JSON.parse(e.body):void 0,params:e.params,...h})).data}catch(h){r=h,console.warn(`API attempt ${i} failed (${l}):`,h.message),(f<u-1||o<rd.length-1)&&await cz(oz)}}}throw console.error("All API retry attempts failed:",r),new Error(r?.response?.data?.message||r?.message||"Unable to connect to the server. Please check your internet connection and try again.")},lt={getAll:async(t={})=>{const e=new URLSearchParams(t).toString(),n=e?`/posts?${e}`:"/posts";return await $e(n)},getById:async t=>await $e(`/posts/${t}`),search:async(t,e={})=>{const n=new URLSearchParams({q:t,...e}).toString();return await $e(`/posts/search?${n}`)},getByAuthor:async(t,e={})=>{const n=new URLSearchParams(e).toString(),r=n?`/posts/author/${t}?${n}`:`/posts/author/${t}`;return await $e(r)},getByTag:async(t,e={})=>{const n=new URLSearchParams(e).toString(),r=n?`/posts/tag/${t}?${n}`:`/posts/tag/${t}`;return await $e(r)},getPopular:async(t=5)=>await $e(`/posts/popular?limit=${t}`),getRecent:async(t=5)=>await $e(`/posts/recent?limit=${t}`),getStatistics:async t=>await $e(`/posts/${t}/statistics`),create:async t=>{const e=t.authorName||Jt.currentUser?.displayName||Jt.currentUser?.email||"Anonymous";return await $e("/posts",{method:"POST",body:JSON.stringify({...t,authorName:e})})},update:async(t,e)=>await $e(`/posts/${t}`,{method:"PUT",body:JSON.stringify(e)}),delete:async t=>await $e(`/posts/${t}`,{method:"DELETE"}),addComment:async(t,e)=>{const n=e.authorName||Jt.currentUser?.displayName||Jt.currentUser?.email||"Anonymous";return await $e(`/posts/${t}/comments`,{method:"POST",body:JSON.stringify({authorName:n,content:e.content})})},getComment:async(t,e)=>await $e(`/posts/${t}/comments/${e}`),updateComment:async(t,e,n)=>await $e(`/posts/${t}/comments/${e}`,{method:"PUT",body:JSON.stringify(n)}),deleteComment:async(t,e)=>await $e(`/posts/${t}/comments/${e}`,{method:"DELETE"}),getComments:async t=>await $e(`/posts/${t}/comments`),voteComment:async(t,e,n)=>{const r=$w();if(!r)throw new Error("You must be logged in to vote");return await $e(`/posts/${t}/comments/${e}/vote`,{method:"POST",body:JSON.stringify({userId:r,voteType:n})})},replyToComment:async(t,e,n)=>{const r=n.authorName||Jt.currentUser?.displayName||Jt.currentUser?.email||"Anonymous";return await $e(`/posts/${t}/comments/${e}/replies`,{method:"POST",body:JSON.stringify({authorName:r,content:n.content})})},getReply:async(t,e,n)=>await $e(`/posts/${t}/comments/${e}/replies/${n}`),updateReply:async(t,e,n,r)=>await $e(`/posts/${t}/comments/${e}/replies/${n}`,{method:"PUT",body:JSON.stringify(r)}),deleteReply:async(t,e,n)=>await $e(`/posts/${t}/comments/${e}/replies/${n}`,{method:"DELETE"}),getReplies:async(t,e)=>await $e(`/posts/${t}/comments/${e}/replies`),vote:async(t,e)=>{const n=$w();if(!n)throw new Error("You must be logged in to vote");return await $e(`/posts/${t}/vote`,{method:"POST",body:JSON.stringify({userId:n,voteType:e})})}},Er={getAll:async(t={})=>{const e=new URLSearchParams(t).toString(),n=e?`/admins?${e}`:"/admins";return await $e(n)},getById:async t=>await $e(`/admins/${t}`),checkAccess:async(t,e=null)=>{const n=e?`?role=${e}`:"";return await $e(`/admins/check/${t}${n}`)},create:async t=>await $e("/admins",{method:"POST",body:JSON.stringify(t)}),update:async(t,e)=>await $e(`/admins/${t}`,{method:"PUT",body:JSON.stringify(e)}),delete:async t=>await $e(`/admins/${t}`,{method:"DELETE"}),bulkAdd:async t=>await $e("/admins/bulk",{method:"POST",body:JSON.stringify({admins:t})}),getStats:async()=>await $e("/admins/stats"),getFirebaseUsers:async()=>await $e("/admins/firebase/users")},DN=T.createContext(),uz=({children:t})=>{const[e,n]=T.useState([]),[r,i]=T.useState(!0),[o,l]=T.useState(null),[u,f]=T.useState({currentPage:1,totalPages:1,totalPosts:0,hasNextPage:!1,hasPrevPage:!1});T.useEffect(()=>{h()},[]);const h=async(ie={})=>{try{i(!0),l(null);const X=await lt.getAll(ie);if(X.success){const K=X.posts||X.data?.posts||[];n(Array.isArray(K)?K:[]),X.pagination&&f(X.pagination)}else l(X.message||"Failed to fetch posts"),n([])}catch(X){console.error("Error fetching posts:",X),l(X.message||"Failed to fetch posts"),n([])}finally{i(!1)}},m=async(ie,X={})=>{try{i(!0),l(null);const K=await lt.search(ie,X);if(K.success){const R=K.posts||K.data?.posts||[];return n(Array.isArray(R)?R:[]),K.pagination&&f(K.pagination),{success:!0,data:R}}else return l(K.message||"Search failed"),{success:!1,error:K.message}}catch(K){return console.error("Error searching posts:",K),l(K.message||"Search failed"),{success:!1,error:K.message}}finally{i(!1)}},y=Ke.useCallback(async ie=>{try{const X=await lt.create(ie);return X.success?(n(K=>Array.isArray(K)?[X.data,...K]:[X.data]),{success:!0,data:X.data}):{success:!1,error:X.message||"Failed to create post"}}catch(X){return console.error("Error creating post:",X),{success:!1,error:X.message||"Failed to create post"}}},[]),x=Ke.useCallback(async(ie,X)=>{try{const K=await lt.update(ie,X);return K.success?(n(R=>Array.isArray(R)?R.map(F=>F._id===ie?K.data:F):[K.data]),{success:!0,data:K.data}):{success:!1,error:K.message||"Failed to update post"}}catch(K){return console.error("Error updating post:",K),{success:!1,error:K.message||"Failed to update post"}}},[]),v=Ke.useCallback(async ie=>{try{const X=await lt.delete(ie);return X.success?(n(K=>Array.isArray(K)?K.filter(R=>R._id!==ie):[]),{success:!0}):{success:!1,error:X.message||"Failed to delete post"}}catch(X){return console.error("Error deleting post:",X),{success:!1,error:X.message||"Failed to delete post"}}},[]),w=Ke.useCallback(async ie=>{try{const X=await lt.getById(ie);return X.success?{success:!0,data:X.data}:{success:!1,error:X.message||"Post not found"}}catch(X){return console.error("Error fetching post:",X),{success:!1,error:X.message||"Post not found"}}},[]),k=Ke.useCallback(async(ie,X)=>{try{const K=await lt.vote(ie,X);return K.success?(n(R=>Array.isArray(R)?R.map(F=>F._id===ie?{...F,upvotes:K.data.upvotes,downvotes:K.data.downvotes,votes:K.data.votes}:F):R),{success:!0,data:K.data}):{success:!1,error:K.message||"Failed to vote"}}catch(K){return console.error("Error voting on post:",K),{success:!1,error:K.message||"Failed to vote"}}},[]),E=Ke.useCallback(async(ie,X)=>{try{const K=await lt.addComment(ie,X);return K.success?(n(R=>Array.isArray(R)?R.map(F=>F._id===ie?{...F,comments:F.comments?[...F.comments,K.data]:[K.data]}:F):R),{success:!0,data:K.data}):{success:!1,error:K.message||"Failed to add comment"}}catch(K){return console.error("Error adding comment:",K),{success:!1,error:K.message||"Failed to add comment"}}},[]),C=Ke.useCallback(async(ie,X,K)=>{try{const R=await lt.replyToComment(ie,X,K);if(R.success){const F=await lt.getById(ie);return F.success&&n(L=>Array.isArray(L)?L.map(oe=>oe._id===ie?F.data:oe):L),{success:!0,data:R.data}}return{success:!1,error:R.message||"Failed to reply"}}catch(R){return console.error("Error replying to comment:",R),{success:!1,error:R.message||"Failed to reply"}}},[]),O=Ke.useCallback(async(ie,X,K)=>{try{const R=await lt.updateComment(ie,X,K);if(R.success){const F=await lt.getById(ie);return F.success&&n(L=>Array.isArray(L)?L.map(oe=>oe._id===ie?F.data:oe):L),{success:!0,data:R.data}}return{success:!1,error:R.message||"Failed to update comment"}}catch(R){return console.error("Error updating comment:",R),{success:!1,error:R.message||"Failed to update comment"}}},[]),j=Ke.useCallback(async(ie,X)=>{try{const K=await lt.deleteComment(ie,X);if(K.success){const R=await lt.getById(ie);return R.success&&n(F=>Array.isArray(F)?F.map(L=>L._id===ie?R.data:L):F),{success:!0}}return{success:!1,error:K.message||"Failed to delete comment"}}catch(K){return console.error("Error deleting comment:",K),{success:!1,error:K.message||"Failed to delete comment"}}},[]),B=Ke.useCallback(async(ie,X,K,R)=>{try{const F=await lt.updateReply(ie,X,K,R);if(F.success){const L=await lt.getById(ie);return L.success&&n(oe=>Array.isArray(oe)?oe.map(ve=>ve._id===ie?L.data:ve):oe),{success:!0,data:F.data}}return{success:!1,error:F.message||"Failed to update reply"}}catch(F){return console.error("Error updating reply:",F),{success:!1,error:F.message||"Failed to update reply"}}},[]),U=Ke.useCallback(async(ie,X,K)=>{try{const R=await lt.deleteReply(ie,X,K);if(R.success){const F=await lt.getById(ie);return F.success&&n(L=>Array.isArray(L)?L.map(oe=>oe._id===ie?F.data:oe):L),{success:!0}}return{success:!1,error:R.message||"Failed to delete reply"}}catch(R){return console.error("Error deleting reply:",R),{success:!1,error:R.message||"Failed to delete reply"}}},[]),J=Ke.useCallback(async(ie,X,K)=>{try{const R=await lt.voteComment(ie,X,K);if(R.success){const F=await lt.getById(ie);return F.success&&n(L=>Array.isArray(L)?L.map(oe=>oe._id===ie?F.data:oe):L),{success:!0,data:R.data}}return{success:!1,error:R.message||"Failed to vote on comment"}}catch(R){return console.error("Error voting on comment:",R),{success:!1,error:R.message||"Failed to vote on comment"}}},[]),H=Ke.useCallback(async(ie=5)=>{try{const X=await lt.getPopular(ie);return X.success?{success:!0,data:X.posts||X.data}:{success:!1,error:X.message||"Failed to fetch popular posts"}}catch(X){return console.error("Error fetching popular posts:",X),{success:!1,error:X.message||"Failed to fetch popular posts"}}},[]),V=Ke.useCallback(async(ie=5)=>{try{const X=await lt.getRecent(ie);return X.success?{success:!0,data:X.posts||X.data}:{success:!1,error:X.message||"Failed to fetch recent posts"}}catch(X){return console.error("Error fetching recent posts:",X),{success:!1,error:X.message||"Failed to fetch recent posts"}}},[]),ne=Ke.useCallback(async(ie,X={})=>{try{const K=await lt.getByAuthor(ie,X);return K.success?{success:!0,data:K.data}:{success:!1,error:K.message||"Failed to fetch posts by author"}}catch(K){return console.error("Error fetching posts by author:",K),{success:!1,error:K.message||"Failed to fetch posts by author"}}},[]),le=Ke.useCallback(async(ie,X={})=>{try{const K=await lt.getByTag(ie,X);return K.success?{success:!0,data:K.data}:{success:!1,error:K.message||"Failed to fetch posts by tag"}}catch(K){return console.error("Error fetching posts by tag:",K),{success:!1,error:K.message||"Failed to fetch posts by tag"}}},[]),ke=Ke.useCallback(async ie=>{try{const X=await lt.getStatistics(ie);return X.success?{success:!0,data:X.data}:{success:!1,error:X.message||"Failed to fetch statistics"}}catch(X){return console.error("Error fetching statistics:",X),{success:!1,error:X.message||"Failed to fetch statistics"}}},[]),Se=Ke.useMemo(()=>({posts:e,loading:r,error:o,pagination:u,addPost:y,updatePost:x,deletePost:v,getPost:w,votePost:k,searchPosts:m,getPopularPosts:H,getRecentPosts:V,getPostsByAuthor:ne,getPostsByTag:le,getPostStatistics:ke,addComment:E,updateComment:O,deleteComment:j,voteComment:J,replyToComment:C,updateReply:B,deleteReply:U,refreshPosts:h}),[e,r,o,u,y,x,v,w,k,E,O,j,J,C,B,U,m,H,V,ne,le,ke]);return p.jsx(DN.Provider,{value:Se,children:t})},Ro=()=>{const t=T.useContext(DN);if(!t)throw new Error("usePosts must be used within a PostProvider");return t},dz=()=>{const{posts:t,loading:e,error:n,refreshPosts:r}=Ro(),{t:i}=jn();T.useEffect(()=>{document.title="The Scholars Page - Home"},[]);const o=(u,f=120)=>{if(!u)return"";const h=document.createElement("div");h.innerHTML=u;const m=h.textContent||h.innerText||"";return m.length>f?m.substring(0,f)+"...":m},l=Array.isArray(t)?t.filter(u=>u.isPublished).sort((u,f)=>new Date(f.createdAt)-new Date(u.createdAt)).slice(0,3):[];return n?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("p",{className:"text-red-500 mb-4",children:n}),p.jsx("p",{className:"text-muted mb-4",children:"Make sure the backend server is running!"}),p.jsx("button",{onClick:r,className:"px-4 py-2 bg-accent text-white rounded hover:bg-accent/90",children:"Retry"})]}):p.jsxs("div",{className:"space-y-16",children:[p.jsxs("section",{className:"text-center py-10 animate-in slide-in-from-bottom-4 duration-700",children:[p.jsx("div",{className:"inline-block px-4 py-1.5 bg-accent/10 backdrop-blur-sm border border-accent/30 rounded-full mb-6 shadow-lg shadow-accent/5",children:p.jsx("span",{className:"text-sm font-medium text-accent",children:i({en:"Your Gateway to Academic Success",bn:"   "})})}),p.jsx("h1",{className:"text-4xl md:text-6xl font-serif font-light text-foreground mb-6 leading-tight",children:i({en:"The Scholars Page",bn:"  "})}),p.jsx("p",{className:"text-lg md:text-xl text-muted max-w-3xl mx-auto leading-relaxed mb-8",children:i({en:"Discover scholarships, internships, and career opportunities tailored for ambitious students and researchers. Your next opportunity awaits.",bn:"       ,           "})}),p.jsxs("div",{className:"flex gap-4 justify-center flex-wrap text-sm text-muted/80",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 bg-success rounded-full"}),p.jsx("span",{children:i({en:"Scholarships",bn:""})})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 bg-accent rounded-full"}),p.jsx("span",{children:i({en:"Internships",bn:""})})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 bg-warning rounded-full"}),p.jsx("span",{children:i({en:"Opportunities",bn:""})})]})]})]}),p.jsxs("section",{className:"space-y-10",children:[p.jsxs("div",{className:"flex items-center justify-between border-b border-border pb-3",children:[p.jsx("h2",{className:"text-2xl font-serif font-normal",children:i({en:"Latest Opportunities",bn:" "})}),p.jsxs(qe,{to:"/article",className:"text-sm text-accent hover:text-accent-hover transition-colors flex items-center gap-1",children:[i({en:"View all",bn:" "})," ",p.jsx(co,{className:"w-4 h-4"})]})]}),p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(u=>p.jsxs("article",{className:"group relative flex flex-col items-start bg-surface/40 backdrop-blur-xl hover:bg-surface/60 border border-border/50 rounded-2xl p-6 transition-all duration-300 shadow-xl shadow-black/20 hover:shadow-2xl hover:shadow-accent/10 hover:border-accent/30",children:[p.jsxs("div",{className:"flex items-center justify-between w-full mb-3",children:[p.jsx("span",{className:"text-xs font-medium text-muted font-sans tracking-wider",children:new Date(u.createdAt).toLocaleDateString()}),u.category&&p.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 bg-accent/10 text-accent border border-accent/20 rounded-full text-xs font-medium uppercase",children:[p.jsx(ta,{className:"w-3 h-3"}),u.category]})]}),p.jsx("h3",{className:"text-xl font-serif font-medium mb-3 group-hover:text-accent transition-colors leading-snug",children:p.jsxs(qe,{to:`/article/${u._id||u.id}`,children:[p.jsx("span",{className:"absolute inset-0"}),u.title]})}),p.jsx("p",{className:"text-sm text-muted/80 leading-relaxed line-clamp-3 mb-4 flex-grow",children:o(u.content)}),p.jsxs("div",{className:"mt-auto pt-3 border-t border-border/50 w-full flex items-center justify-between",children:[p.jsx("span",{className:"text-xs text-muted",children:u.authorName}),p.jsxs("div",{className:"text-sm font-medium text-accent group-hover:text-accent-hover transition-colors flex items-center gap-1.5",children:[i({en:"Read More",bn:" "}),p.jsx(co,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]},u._id||u.id))})]}),p.jsxs("section",{className:"py-16 bg-gradient-to-br from-surface/40 to-surface/20 backdrop-blur-xl border border-border/50 rounded-3xl shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent/10 border border-accent/30 rounded-full mb-4",children:[p.jsx(pL,{className:"w-4 h-4 text-accent"}),p.jsx("span",{className:"text-sm font-medium text-accent",children:i({en:"Why Choose Us",bn:"   "})})]}),p.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-light mb-4",children:i({en:"Your Success Journey Starts Here",bn:"     "})}),p.jsx("p",{className:"text-muted max-w-2xl mx-auto",children:i({en:"We curate the best opportunities from around the world to help you achieve your academic and career goals.",bn:"             "})})]}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 px-8",children:[p.jsxs("div",{className:"text-center p-6 bg-background/50 border border-border/30 rounded-2xl hover:border-accent/50 transition-all duration-300 hover:shadow-lg",children:[p.jsx("div",{className:"w-14 h-14 mx-auto mb-4 bg-accent/10 rounded-2xl flex items-center justify-center",children:p.jsx(qk,{className:"w-7 h-7 text-accent"})}),p.jsx("h3",{className:"text-lg font-medium mb-2",children:i({en:"Global Reach",bn:" "})}),p.jsx("p",{className:"text-sm text-muted",children:i({en:"Opportunities from top universities and organizations worldwide",bn:"      "})})]}),p.jsxs("div",{className:"text-center p-6 bg-background/50 border border-border/30 rounded-2xl hover:border-accent/50 transition-all duration-300 hover:shadow-lg",children:[p.jsx("div",{className:"w-14 h-14 mx-auto mb-4 bg-success/10 rounded-2xl flex items-center justify-center",children:p.jsx(Ud,{className:"w-7 h-7 text-success"})}),p.jsx("h3",{className:"text-lg font-medium mb-2",children:i({en:"Daily Updates",bn:" "})}),p.jsx("p",{className:"text-sm text-muted",children:i({en:"Fresh opportunities added regularly to keep you ahead",bn:"        "})})]}),p.jsxs("div",{className:"text-center p-6 bg-background/50 border border-border/30 rounded-2xl hover:border-accent/50 transition-all duration-300 hover:shadow-lg",children:[p.jsx("div",{className:"w-14 h-14 mx-auto mb-4 bg-blue-500/10 rounded-2xl flex items-center justify-center",children:p.jsx($k,{className:"w-7 h-7 text-blue-500"})}),p.jsx("h3",{className:"text-lg font-medium mb-2",children:i({en:"Verified Sources",bn:" "})}),p.jsx("p",{className:"text-sm text-muted",children:i({en:"All opportunities verified from official sources",bn:"     "})})]}),p.jsxs("div",{className:"text-center p-6 bg-background/50 border border-border/30 rounded-2xl hover:border-accent/50 transition-all duration-300 hover:shadow-lg",children:[p.jsx("div",{className:"w-14 h-14 mx-auto mb-4 bg-purple-500/10 rounded-2xl flex items-center justify-center",children:p.jsx(Hd,{className:"w-7 h-7 text-purple-500"})}),p.jsx("h3",{className:"text-lg font-medium mb-2",children:i({en:"Community Support",bn:" "})}),p.jsx("p",{className:"text-sm text-muted",children:i({en:"Join thousands of students achieving their dreams",bn:"       "})})]})]})]}),p.jsxs("section",{className:"text-center py-10 bg-gradient-to-r from-accent/10 via-accent/5 to-accent/10 border border-accent/20 rounded-3xl",children:[p.jsx(Ag,{className:"w-10 h-10 mx-auto mb-3 text-accent"}),p.jsx("h2",{className:"text-2xl md:text-3xl font-serif font-light mb-3",children:i({en:"Ready to Explore?",bn:"  ?"})}),p.jsx("p",{className:"text-base text-muted mb-6 max-w-xl mx-auto",children:i({en:"Browse through hundreds of opportunities and find the perfect match for your goals.",bn:"           "})}),p.jsx(qe,{to:"/article",children:p.jsxs("button",{className:"px-6 py-2.5 bg-accent text-white rounded-lg text-sm font-medium hover:bg-accent-hover transition-all duration-300 shadow-md shadow-accent/20 hover:shadow-lg hover:shadow-accent/30 flex items-center gap-2 mx-auto",children:[i({en:"View All Opportunities",bn:"  "}),p.jsx(co,{className:"w-4 h-4"})]})})]})]})},qt=Ke.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:ic("flex h-10 w-full rounded-lg border border-border/50 bg-surface/40 backdrop-blur-xl px-3 py-2 text-sm text-foreground ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:border-accent/50 transition-all shadow-lg shadow-black/10 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));qt.displayName="Input";const Ne=Ke.forwardRef(({className:t,variant:e="default",size:n="default",isLoading:r,children:i,...o},l)=>{const u={default:"bg-accent/90 backdrop-blur-xl text-background hover:bg-accent shadow-lg shadow-accent/20 hover:shadow-xl hover:shadow-accent/30 border border-accent/20",outline:"border border-border/50 bg-surface/20 backdrop-blur-xl hover:bg-surface/40 shadow-lg shadow-black/10",ghost:"hover:bg-surface/40 backdrop-blur-sm hover:text-accent",destructive:"bg-red-500/90 backdrop-blur-xl text-white hover:bg-red-600 shadow-lg shadow-red-500/20",link:"text-accent underline-offset-4 hover:underline hover:text-accent-hover"},f={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",icon:"h-10 w-10"};return p.jsxs("button",{className:ic("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",u[e],f[n],t),ref:l,disabled:r,...o,children:[r&&p.jsx(Kk,{className:"mr-2 h-4 w-4 animate-spin"}),i]})});Ne.displayName="Button";const fz=()=>{const{posts:t,loading:e,error:n,searchPosts:r}=Ro(),{t:i}=jn(),[o,l]=T.useState(""),[u,f]=T.useState(!1),[h,m]=T.useState("All"),[y,x]=T.useState({}),[v,w]=T.useState([]),[k,E]=T.useState(!1),[C,O]=T.useState(!0),[j,B]=T.useState(1),[U,J]=T.useState(!0),[H,V]=T.useState(null),ne=["https://thescholarspage-api.vercel.app/api","https://thescholarspage-api.onrender.com/api"];T.useEffect(()=>{document.title="Opportunities - The Scholars Page"},[]),T.useEffect(()=>{(async()=>(J(!0),await le(),J(!1)))()},[]);const le=async()=>{if(k||!C)return;E(!0),V(null);const L=6,oe=2e3,ve=Date.now(),M=18e4;for(let G=0;G<L;G++){if(Date.now()-ve>M){V("The server is taking too long to respond. Please try again later."),E(!1);return}for(const ee of ne)try{const{data:te}=await xt.get(`${ee}/posts`,{params:{page:j,limit:18,published:!0,sortBy:"createdAt",order:"desc"},timeout:3e4});if(te.success&&te.posts){w(pe=>{const Ce=new Set(pe.map(Fe=>Fe._id||Fe.id)),ge=te.posts.filter(Fe=>!Ce.has(Fe._id||Fe.id));return[...pe,...ge]}),B(pe=>pe+1),O(te.pagination.page<te.pagination.pages),V(null),E(!1);return}}catch(te){console.warn(`Attempt ${G+1} with ${ee} failed:`,te.message)}G<L-1&&await new Promise(ee=>setTimeout(ee,oe))}V("Unable to load posts. The server may be starting up. Please wait a moment and try again."),E(!1)},Se=(Array.isArray(v)?v:[]).reduce((L,oe)=>{const ve=oe.category||"Uncategorized";return L[ve]||(L[ve]=[]),L[ve].push(oe),L},{}),ie=Object.keys(Se).sort((L,oe)=>Se[oe].length-Se[L].length);T.useEffect(()=>{if(ie.length>0&&Object.keys(y).length===0){const L={};ie.forEach(oe=>{L[oe]=9}),x(L)}},[ie.length]);const X=L=>{x(oe=>({...oe,[L]:(oe[L]||9)+6}))},K=L=>{x(oe=>({...oe,[L]:9}))},R=async L=>{L.preventDefault(),o.trim()&&(f(!0),await r(o),f(!1))},F=async()=>{l(""),w([]),B(1),O(!0),J(!0),await le(),J(!1)};return U?p.jsxs("div",{className:"space-y-12",children:[p.jsx("header",{className:"pb-8",children:p.jsx("h1",{className:"text-3xl md:text-4xl font-serif mb-4",children:i({en:"All Opportunities",bn:" "})})}),p.jsx("div",{className:"text-center py-20",children:p.jsxs("div",{className:"animate-pulse space-y-4",children:[p.jsx("div",{className:"h-8 bg-surface rounded w-1/3 mx-auto"}),p.jsx("div",{className:"h-4 bg-surface rounded w-1/4 mx-auto mb-2"}),p.jsx("p",{className:"text-sm text-muted mb-8",children:i({en:"Loading opportunities... This may take a moment.",bn:"  ...     "})}),p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8",children:[1,2,3,4,5,6].map(L=>p.jsx("div",{className:"h-64 bg-surface rounded-2xl"},L))})]})})]}):H&&v.length===0?p.jsxs("div",{className:"space-y-12",children:[p.jsx("header",{className:"pb-8",children:p.jsx("h1",{className:"text-3xl md:text-4xl font-serif mb-4",children:i({en:"All Opportunities",bn:" "})})}),p.jsx("div",{className:"text-center py-20",children:p.jsxs("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-8 max-w-md mx-auto",children:[p.jsx("div",{className:"text-red-500 mb-4 text-lg font-medium",children:i({en:"Connection Error",bn:" "})}),p.jsx("p",{className:"text-muted mb-6",children:H}),p.jsx(Ne,{onClick:()=>{V(null),J(!0),B(1),w([]),O(!0),le().then(()=>J(!1))},children:i({en:"Try Again",bn:"  "})})]})})]}):n?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("p",{className:"text-red-500 mb-4",children:n}),p.jsx("p",{className:"text-muted mb-4",children:"Make sure the backend server is running!"}),p.jsx(Ne,{onClick:refreshPosts,children:"Retry"})]}):p.jsxs("div",{className:"space-y-12",children:[p.jsxs("header",{className:"pb-8",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-serif mb-4",children:i({en:"All Opportunities",bn:" "})}),p.jsx("p",{className:"text-muted text-lg max-w-2xl mb-6",children:i({en:"Browse our comprehensive collection of scholarships, internships, fellowships, and academic opportunities from around the world.",bn:" , ,         "})}),p.jsxs("form",{onSubmit:R,className:"flex gap-2 max-w-xl",children:[p.jsx("div",{className:"flex-1",children:p.jsx(qt,{placeholder:i({en:"Search posts...",bn:" ..."}),value:o,onChange:L=>l(L.target.value),icon:p.jsx(Jk,{className:"w-4 h-4"})})}),p.jsx(Ne,{type:"submit",disabled:u||!o.trim(),children:i(u?{en:"Searching...",bn:" ..."}:{en:"Search",bn:""})}),o&&p.jsx(Ne,{type:"button",variant:"outline",onClick:F,children:i({en:"Clear",bn:""})})]})]}),p.jsxs("div",{className:"space-y-16",children:[ie.length>0?ie.map(L=>{const oe=Se[L],ve=y[L]!==void 0?y[L]:9,M=oe.slice(0,ve),G=oe.length>ve,ee=ve>9;return p.jsxs("section",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3 border-b border-border pb-3",children:[p.jsx(ta,{className:"w-5 h-5 text-accent"}),p.jsx("h2",{className:"text-2xl font-serif font-medium",children:L})]}),p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(te=>p.jsxs("article",{className:"group relative flex flex-col bg-surface/40 backdrop-blur-xl hover:bg-surface/60 border border-border/50 rounded-2xl p-6 transition-all duration-300 shadow-xl shadow-black/20 hover:shadow-2xl hover:shadow-accent/10 hover:border-accent/30",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("span",{className:"text-xs text-muted font-sans",children:new Date(te.createdAt).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),te.category&&p.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-accent/10 text-accent border border-accent/20 rounded-full text-xs font-medium uppercase tracking-wide",children:[p.jsx(ta,{className:"w-3 h-3"}),te.category]})]}),p.jsx("h3",{className:"text-lg font-serif font-medium mb-3 group-hover:text-accent transition-colors leading-snug",children:p.jsxs(qe,{to:`/article/${te._id||te.id}`,children:[p.jsx("span",{className:"absolute inset-0"}),te.title]})}),te.content&&p.jsxs("p",{className:"text-sm text-muted/80 mb-4 line-clamp-2 flex-grow",children:[te.content.replace(/<[^>]*>/g,"").substring(0,120),"..."]}),te.tags&&te.tags.length>0&&p.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-4",children:[te.tags.slice(0,3).map((pe,Ce)=>p.jsx("span",{className:"px-2 py-1 bg-surface-hover/50 text-muted border border-border/30 rounded text-xs",children:pe},Ce)),te.tags.length>3&&p.jsxs("span",{className:"px-2 py-1 text-muted text-xs",children:["+",te.tags.length-3]})]}),p.jsxs("div",{className:"mt-auto pt-3 border-t border-border/50 flex items-center justify-between",children:[p.jsx("span",{className:"text-xs text-muted",children:te.authorName}),p.jsx("div",{className:"text-sm font-medium text-accent group-hover:text-accent-hover transition-colors flex items-center gap-1",children:p.jsx(co,{className:"w-4 h-4"})})]})]},te._id||te.id))}),(G||ee)&&p.jsxs("div",{className:"flex justify-center gap-3 pt-4",children:[G&&p.jsxs(Ne,{variant:"outline",onClick:()=>X(L),className:"flex items-center gap-2",children:[i({en:"See More",bn:" "}),p.jsx(Mg,{className:"w-4 h-4"})]}),ee&&p.jsxs(Ne,{variant:"outline",onClick:()=>K(L),className:"flex items-center gap-2",children:[i({en:"See Less",bn:" "}),p.jsx(a4,{className:"w-4 h-4"})]})]})]},L)}):p.jsx("div",{className:"text-center py-20 text-muted italic",children:i({en:"No posts found.",bn:"   "})}),C&&!k&&ie.length>0&&p.jsx("div",{className:"flex justify-center pt-12",children:p.jsxs(Ne,{onClick:le,variant:"outline",className:"flex items-center gap-2 px-8 py-3",children:[p.jsx(Mg,{className:"w-5 h-5"}),i({en:"Load More Posts",bn:"   "})]})}),k&&p.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-2",children:[p.jsxs("div",{className:"animate-pulse flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 bg-accent rounded-full animate-bounce"}),p.jsx("div",{className:"w-2 h-2 bg-accent rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),p.jsx("div",{className:"w-2 h-2 bg-accent rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]}),p.jsx("div",{className:"text-muted",children:i({en:"Loading more posts...",bn:"   ..."})}),p.jsx("p",{className:"text-xs text-muted/70",children:i({en:"Please wait, the server may be warming up",bn:"   ,   "})})]}),H&&v.length>0&&p.jsx("div",{className:"flex justify-center py-8",children:p.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 max-w-md",children:[p.jsx("p",{className:"text-red-500 text-sm mb-3",children:H}),p.jsx(Ne,{size:"sm",variant:"outline",onClick:le,children:i({en:"Retry",bn:"  "})})]})})]})]})},Il=Ke.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:ic("flex min-h-[80px] w-full rounded-lg border border-border/50 bg-surface/40 backdrop-blur-xl px-3 py-2 text-sm text-foreground ring-offset-background placeholder:text-muted/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:border-accent/50 transition-all shadow-lg shadow-black/10 disabled:cursor-not-allowed disabled:opacity-50 resize-y",t),ref:n,...e}));Il.displayName="Textarea";const hz=()=>{const{id:t}=zE(),{getPost:e,votePost:n,addComment:r,replyToComment:i,updateComment:o,deleteComment:l,updateReply:u,deleteReply:f,voteComment:h,getPostStatistics:m}=Ro(),{t:y}=jn(),{user:x}=fi(),v=la(),[w,k]=T.useState(null),[E,C]=T.useState(!0),[O,j]=T.useState(!1);T.useEffect(()=>{w?.title?document.title=`${w.title} - The Scholars Page`:document.title="Article - The Scholars Page"},[w]);const[B,U]=T.useState(null),[J,H]=T.useState(""),[V,ne]=T.useState(""),[le,ke]=T.useState({}),[Se,ie]=T.useState({}),[X,K]=T.useState({}),[R,F]=T.useState(null),[L,oe]=T.useState(null),[ve,M]=T.useState(""),[G,ee]=T.useState(!1),[te,pe]=T.useState(!1);T.useEffect(()=>{(async()=>{if(x&&x.email)try{const ye=await Er.checkAccess(x.email);j(ye.success&&ye.data.hasAccess)}catch{j(!1)}})()},[x]),T.useEffect(()=>{(async()=>{C(!0),k(null);try{const ye=await e(t);ye.success?k(ye.data):k(null)}catch(ye){console.error("Error loading post:",ye),k(null)}finally{C(!1)}})()},[t,e]);const Ce=async()=>{const re=await m(t);re.success&&(U(re.data),pe(!0))},ge=async()=>{if(!x){alert(y({en:"Please login to upvote",bn:"   "}));return}const re=await n(t,"upvote");re.success&&k(ye=>({...ye,upvotes:re.data.upvotes,downvotes:re.data.downvotes,votes:re.data.votes}))},Fe=async()=>{if(!x){alert(y({en:"Please login to vote",bn:"   "}));return}const re=await n(t,"downvote");re.success&&k(ye=>({...ye,upvotes:re.data.upvotes,downvotes:re.data.downvotes,votes:re.data.votes}))},We=async re=>{if(re.preventDefault(),!J.trim()||!V.trim())return;if(ee(!0),(await r(t,{authorName:V,content:J})).success){const W=await e(t);W.success&&k(W.data),H(""),ne("")}ee(!1)},on=async re=>{if(!le[re]?.trim()||!Se[re]?.trim())return;if(ee(!0),(await i(t,re,{authorName:Se[re],content:le[re]})).success){const W=await e(t);W.success&&k(W.data),ke(Qe=>({...Qe,[re]:""})),ie(Qe=>({...Qe,[re]:""})),K(Qe=>({...Qe,[re]:!1}))}ee(!1)},vn=re=>{K(ye=>({...ye,[re]:!ye[re]}))},Dn=(re,ye)=>{F(re),M(ye)},da=async re=>{if(ee(!0),(await o(t,re,{content:ve})).success){const W=await e(t);W.success&&k(W.data),F(null),M("")}ee(!1)},tr=async re=>{if(!window.confirm(y({en:"Delete this comment?",bn:"  ?"})))return;if((await l(t,re)).success){const W=await e(t);W.success&&k(W.data)}},hs=(re,ye,W)=>{oe(`${re}-${ye}`),M(W)},gi=async(re,ye)=>{if(ee(!0),(await u(t,re,ye,{content:ve})).success){const Qe=await e(t);Qe.success&&k(Qe.data),oe(null),M("")}ee(!1)},jo=async(re,ye)=>{if(!window.confirm(y({en:"Delete this reply?",bn:"  ?"})))return;if((await f(t,re,ye)).success){const Qe=await e(t);Qe.success&&k(Qe.data)}},yi=async(re,ye)=>{if(!x){alert(y({en:"Please login to vote",bn:"   "}));return}if((await h(t,re,ye)).success){const Qe=await e(t);Qe.success&&k(Qe.data)}};if(E)return p.jsx("div",{className:"text-center py-20",children:p.jsxs("div",{className:"animate-pulse",children:[p.jsx("div",{className:"h-8 bg-surface rounded w-3/4 mx-auto mb-4"}),p.jsx("div",{className:"h-4 bg-surface rounded w-1/2 mx-auto"})]})});if(!w)return p.jsxs("div",{className:"text-center py-20",children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:y({en:"Opportunity not found",bn:"  "})}),p.jsx(qe,{to:"/article",className:"text-accent hover:text-accent-hover transition-colors",children:y({en:"Browse All Opportunities",bn:"   "})})]});const pr=w.upvotes||0,nr=w.downvotes||0,rr=w.comments||[],fa=w.votes||[],bi=x?.uid||x?.email,zt=bi&&fa.some(re=>re.userId===bi&&re.voteType==="upvote");return p.jsxs("article",{className:"animate-in fade-in duration-700",children:[p.jsxs("button",{onClick:()=>v(-1),className:"group flex items-center text-sm text-muted mb-8 hover:text-accent transition-colors",children:[p.jsx(jy,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),y({en:"Back",bn:" "})]}),p.jsxs("header",{className:"mb-10 text-center mx-auto bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-8 shadow-2xl shadow-black/20",children:[p.jsx("div",{className:"text-sm font-medium text-accent mb-4 tracking-widest uppercase",children:new Date(w.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}),w.category&&p.jsx("div",{className:"mb-4",children:p.jsxs("span",{className:"inline-flex items-center gap-1 px-4 py-1.5 bg-accent/15 text-accent border border-accent/30 rounded-full text-sm font-semibold uppercase tracking-wider",children:[p.jsx(ta,{className:"w-4 h-4"}),w.category]})}),p.jsx("h1",{className:"text-3xl md:text-5xl font-serif font-medium leading-tight mb-6",children:w.title}),p.jsxs("div",{className:"text-muted text-base mb-4",children:[y({en:"By",bn:""})," ",p.jsx("span",{className:"text-foreground font-medium",children:w.authorName})]}),w.tags&&w.tags.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-4",children:w.tags.map((re,ye)=>p.jsx("span",{className:"px-3 py-1 bg-accent/10 text-accent rounded-full text-sm",children:re},ye))}),w.views!==void 0&&p.jsxs("div",{className:"text-sm text-muted mt-2",children:[w.views," ",y({en:"views",bn:" "})]})]}),p.jsx("div",{className:"prose prose-lg mx-auto prose-headings:font-serif prose-p:font-sans prose-p:font-light prose-a:text-accent",dangerouslySetInnerHTML:{__html:w.content}}),(w.applyLink||w.officialLink)&&p.jsx("div",{className:"mt-12 pt-8 border-t border-border mx-auto",children:p.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[w.applyLink&&p.jsxs("a",{href:w.applyLink,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 px-5 py-2.5 text-accent border border-accent/30 rounded-lg hover:bg-accent hover:text-white transition-all duration-200 text-sm font-medium",children:[p.jsx(Og,{className:"w-4 h-4"}),y({en:"Apply Now",bn:"  "})]}),w.officialLink&&p.jsxs("a",{href:w.officialLink,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 px-5 py-2.5 text-muted border border-border rounded-lg hover:border-accent/30 hover:text-accent transition-all duration-200 text-sm font-medium",children:[p.jsx(Og,{className:"w-4 h-4"}),y({en:"Official Link",bn:" "})]})]})}),p.jsxs("div",{className:"mt-12 pt-8 border-t border-border mx-auto",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("button",{onClick:ge,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${zt?"bg-accent text-white":"bg-surface border border-border hover:bg-surface-hover"}`,children:[p.jsx($l,{className:"w-5 h-5"}),p.jsx("span",{className:"font-medium",children:pr})]}),O&&p.jsxs("button",{onClick:Fe,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all bg-surface border border-border hover:bg-surface-hover",children:[p.jsx(gw,{className:"w-5 h-5"}),p.jsx("span",{className:"font-medium",children:nr})]})]}),p.jsxs("button",{onClick:Ce,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all bg-surface border border-border hover:bg-surface-hover",children:[p.jsx(n4,{className:"w-5 h-5"}),y({en:"Statistics",bn:""})]})]}),te&&B&&p.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-surface/40 rounded-lg border border-border",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold text-accent",children:B.views}),p.jsx("div",{className:"text-xs text-muted",children:y({en:"Views",bn:" "})})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold text-success",children:B.upvotes}),p.jsx("div",{className:"text-xs text-muted",children:y({en:"Upvotes",bn:""})})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold",children:B.totalComments}),p.jsx("div",{className:"text-xs text-muted",children:y({en:"Comments",bn:""})})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold",children:B.totalReplies}),p.jsx("div",{className:"text-xs text-muted",children:y({en:"Replies",bn:""})})]})]})]}),p.jsxs("div",{className:"pt-8 mx-auto",children:[p.jsxs("h2",{className:"text-2xl font-serif mb-6 flex items-center gap-2",children:[p.jsx(W4,{className:"w-6 h-6"}),y({en:"Comments",bn:""})," (",rr.length,")"]}),p.jsxs("div",{className:"mb-8 bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-6",children:[p.jsx("h3",{className:"text-lg font-medium mb-4",children:y({en:"Leave a Comment",bn:"  "})}),p.jsxs("form",{onSubmit:We,className:"space-y-4",children:[p.jsx("div",{children:p.jsx(qt,{placeholder:y({en:"Your Name",bn:" "}),value:V,onChange:re=>ne(re.target.value),required:!0})}),p.jsx("div",{children:p.jsx(Il,{placeholder:y({en:"Write your comment...",bn:"  ..."}),value:J,onChange:re=>H(re.target.value),rows:3,required:!0})}),p.jsxs(Ne,{type:"submit",disabled:G,children:[p.jsx(xw,{className:"w-4 h-4 mr-2"}),y({en:"Post Comment",bn:"  "})]})]})]}),p.jsxs("div",{className:"space-y-6",children:[rr.map(re=>p.jsxs("div",{className:"bg-surface/20 border border-border/30 rounded-xl p-6",children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"font-medium",children:re.authorName}),p.jsx("p",{className:"text-sm text-muted",children:new Date(re.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:()=>vn(re._id||re.id),className:"text-sm text-accent hover:text-accent-hover flex items-center gap-1",children:[p.jsx(lL,{className:"w-4 h-4"}),y({en:"Reply",bn:" "})]}),x&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>Dn(re._id||re.id,re.content),className:"p-1 hover:bg-surface-hover rounded",title:"Edit",children:p.jsx(sc,{className:"w-4 h-4 text-blue-500"})}),p.jsx("button",{onClick:()=>tr(re._id||re.id),className:"p-1 hover:bg-surface-hover rounded",title:"Delete",children:p.jsx(Bd,{className:"w-4 h-4 text-red-500"})})]})]})]}),R===(re._id||re.id)?p.jsxs("div",{className:"mb-4",children:[p.jsx(Il,{value:ve,onChange:ye=>M(ye.target.value),className:"mb-2"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Ne,{size:"sm",onClick:()=>da(re._id||re.id),disabled:G,children:y({en:"Save",bn:""})}),p.jsx(Ne,{size:"sm",variant:"outline",onClick:()=>{F(null),M("")},children:y({en:"Cancel",bn:""})})]})]}):p.jsx("p",{className:"text-foreground mb-4",children:re.content}),p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsxs("button",{onClick:()=>yi(re._id||re.id,"upvote"),className:"flex items-center gap-1 px-2 py-1 rounded hover:bg-surface-hover text-sm",children:[p.jsx($l,{className:"w-4 h-4"}),p.jsx("span",{children:re.upvotes||0})]}),O&&p.jsxs("button",{onClick:()=>yi(re._id||re.id,"downvote"),className:"flex items-center gap-1 px-2 py-1 rounded hover:bg-surface-hover text-sm",children:[p.jsx(gw,{className:"w-4 h-4"}),p.jsx("span",{children:re.downvotes||0})]})]}),X[re._id||re.id]&&p.jsx("div",{className:"ml-6 mt-4 p-4 bg-surface/40 rounded-lg border border-border/50",children:p.jsxs("form",{onSubmit:ye=>{ye.preventDefault(),on(re._id||re.id)},className:"space-y-3",children:[p.jsx(qt,{placeholder:y({en:"Your Name",bn:" "}),value:Se[re._id||re.id]||"",onChange:ye=>ie(W=>({...W,[re._id||re.id]:ye.target.value})),required:!0}),p.jsx(Il,{placeholder:y({en:"Write your reply...",bn:"  ..."}),value:le[re._id||re.id]||"",onChange:ye=>ke(W=>({...W,[re._id||re.id]:ye.target.value})),rows:2,required:!0}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(Ne,{type:"submit",size:"sm",disabled:G,children:[p.jsx(xw,{className:"w-3 h-3 mr-1"}),y({en:"Reply",bn:" "})]}),p.jsx(Ne,{type:"button",variant:"outline",size:"sm",onClick:()=>vn(re._id||re.id),children:y({en:"Cancel",bn:""})})]})]})}),re.replies&&re.replies.length>0&&p.jsx("div",{className:"ml-6 mt-4 space-y-4",children:re.replies.map(ye=>p.jsxs("div",{className:"bg-surface/40 border border-border/30 rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-start justify-between mb-2",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h5",{className:"font-medium text-sm",children:ye.authorName}),p.jsx("p",{className:"text-xs text-muted",children:new Date(ye.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),x&&p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:()=>hs(re._id||re.id,ye._id||ye.id,ye.content),className:"p-1 hover:bg-surface-hover rounded",title:"Edit",children:p.jsx(sc,{className:"w-3 h-3 text-blue-500"})}),p.jsx("button",{onClick:()=>jo(re._id||re.id,ye._id||ye.id),className:"p-1 hover:bg-surface-hover rounded",title:"Delete",children:p.jsx(Bd,{className:"w-3 h-3 text-red-500"})})]})]}),L===`${re._id||re.id}-${ye._id||ye.id}`?p.jsxs("div",{children:[p.jsx(Il,{value:ve,onChange:W=>M(W.target.value),className:"mb-2 text-sm",rows:2}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Ne,{size:"sm",onClick:()=>gi(re._id||re.id,ye._id||ye.id),disabled:G,children:y({en:"Save",bn:""})}),p.jsx(Ne,{size:"sm",variant:"outline",onClick:()=>{oe(null),M("")},children:y({en:"Cancel",bn:""})})]})]}):p.jsx("p",{className:"text-sm",children:ye.content})]},ye._id||ye.id))})]},re._id||re.id)),rr.length===0&&p.jsx("p",{className:"text-center text-muted py-8",children:y({en:"No comments yet. Be the first to comment!",bn:"      !"})})]})]}),p.jsx("div",{className:"mt-16 pt-8 border-t border-border flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-muted mx-auto",children:p.jsx(qe,{to:"/blog",className:"text-accent hover:text-accent-hover transition-colors",children:y({en:"Explore More Opportunities",bn:"   "})})})]})},pz="/assets/editor-B8fEfyIW.jpg",mz=()=>{const{t}=jn();T.useEffect(()=>{document.title="About Us - The Scholars Page"},[]);const e=[{icon:p.jsx(qk,{className:"w-8 h-8"}),title:{en:"Scholarships",bn:""},description:{en:"Curated opportunities from top universities worldwide.",bn:"     "}},{icon:p.jsx(Ag,{className:"w-8 h-8"}),title:{en:"Internships",bn:""},description:{en:"Professional programs to gain real-world experience.",bn:"     "}},{icon:p.jsx(KD,{className:"w-8 h-8"}),title:{en:"Fellowships",bn:""},description:{en:"Research grants for aspiring scholars and academics.",bn:"    "}},{icon:p.jsx($k,{className:"w-8 h-8"}),title:{en:"Global Reach",bn:" "},description:{en:"Opportunities from institutions across the globe.",bn:"   "}},{icon:p.jsx(Hd,{className:"w-8 h-8"}),title:{en:"Community",bn:""},description:{en:"Join ambitious students pursuing excellence.",bn:"     "}},{icon:p.jsx(Ud,{className:"w-8 h-8"}),title:{en:"Career Growth",bn:" "},description:{en:"Resources to advance your academic journey.",bn:"     "}}];return p.jsxs("div",{className:"space-y-16 animate-in fade-in duration-700",children:[p.jsxs("section",{className:"text-center py-10 bg-surface/20 backdrop-blur-3xl border border-border/30 rounded-3xl p-12 shadow-2xl shadow-black/30",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-light text-foreground mb-4",children:t({en:"About The Scholars Page",bn:"   "})}),p.jsx("p",{className:"text-lg text-muted max-w-2xl mx-auto",children:t({en:"Connecting students with life-changing opportunities worldwide.",bn:"       "})})]}),p.jsxs("section",{className:"bg-gradient-to-br from-surface/60 via-surface/40 to-surface/60 backdrop-blur-3xl border border-border/40 rounded-3xl p-10 shadow-2xl shadow-black/30",children:[p.jsx("h2",{className:"text-3xl font-serif font-medium text-center mb-6",children:t({en:"Our Mission",bn:" "})}),p.jsx("p",{className:"text-muted text-lg leading-relaxed text-center max-w-2xl mx-auto",children:t({en:"We democratize access to educational opportunities. Every student deserves the chance to pursue their academic dreams, regardless of background.",bn:"               "})})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-3xl font-serif font-medium text-center mb-10",children:t({en:"What We Offer",bn:"   "})}),p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((n,r)=>p.jsxs("div",{className:"bg-gradient-to-br from-surface/50 via-surface/30 to-surface/50 backdrop-blur-2xl hover:backdrop-blur-3xl border border-border/40 rounded-2xl p-6 transition-all duration-300 group shadow-xl shadow-black/30 hover:shadow-2xl hover:shadow-accent/20 hover:border-accent/40",children:[p.jsx("div",{className:"text-accent mb-3 group-hover:scale-110 transition-transform",children:n.icon}),p.jsx("h3",{className:"text-lg font-serif font-medium mb-2",children:t(n.title)}),p.jsx("p",{className:"text-muted text-sm leading-relaxed",children:t(n.description)})]},r))})]}),p.jsx("section",{className:"bg-gradient-to-br from-accent/15 via-accent/10 to-accent/15 backdrop-blur-3xl border border-accent/40 rounded-3xl p-10 shadow-2xl shadow-accent/20",children:p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-4xl md:text-5xl font-serif font-bold text-accent mb-2",children:"500+"}),p.jsx("div",{className:"text-muted text-sm md:text-base",children:t({en:"Opportunities",bn:""})})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-4xl md:text-5xl font-serif font-bold text-accent mb-2",children:"50+"}),p.jsx("div",{className:"text-muted text-sm md:text-base",children:t({en:"Countries",bn:""})})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-4xl md:text-5xl font-serif font-bold text-accent mb-2",children:"100+"}),p.jsx("div",{className:"text-muted text-sm md:text-base",children:t({en:"Universities",bn:""})})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-4xl md:text-5xl font-serif font-bold text-accent mb-2",children:"24/7"}),p.jsx("div",{className:"text-muted text-sm md:text-base",children:t({en:"Updated",bn:" "})})]})]})}),p.jsxs("section",{className:"bg-gradient-to-br from-surface/60 via-surface/40 to-surface/60 backdrop-blur-3xl border border-border/40 rounded-3xl p-10 shadow-2xl shadow-black/30",children:[p.jsx("h2",{className:"text-3xl font-serif font-medium text-center mb-8",children:t({en:"Meet the Editor",bn:"   "})}),p.jsx("div",{className:"max-w-3xl mx-auto",children:p.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("img",{src:pz,alt:"Editor Profile",className:"w-40 h-40 rounded-full object-cover border-4 border-accent shadow-2xl shadow-accent/30"})}),p.jsxs("div",{className:"flex-1 text-center md:text-left",children:[p.jsx("h3",{className:"text-2xl font-serif font-medium mb-1",children:t({en:"Md. Abid Hasan Rafi",bn:"   "})}),p.jsx("p",{className:"text-accent font-medium mb-4 text-sm",children:t({en:"Founder & Editor",bn:"  "})}),p.jsx("p",{className:"text-muted text-sm leading-relaxed mb-5",children:t({en:"Passionate about education and helping students worldwide access life-changing opportunities.",bn:"          "})}),p.jsxs("div",{className:"flex gap-3 justify-center md:justify-start",children:[p.jsx("a",{href:"https://www.linkedin.com/in/abid-hasan-rafi",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-full bg-surface/60 backdrop-blur-xl border border-border/60 hover:border-accent hover:bg-accent/10 flex items-center justify-center transition-all group",title:"LinkedIn",children:p.jsx(Gk,{className:"w-4 h-4 text-muted group-hover:text-accent transition-colors"})}),p.jsx("a",{href:"https://www.researchgate.net/profile/Md-Abid-Hasan-Rafi",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-full bg-surface/60 backdrop-blur-xl border border-border/60 hover:border-accent hover:bg-accent/10 flex items-center justify-center transition-all group",title:"ResearchGate",children:p.jsx(Ag,{className:"w-4 h-4 text-muted group-hover:text-accent transition-colors"})}),p.jsx("a",{href:"https://github.com/abidhasanrafi",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-full bg-surface/60 backdrop-blur-xl border border-border/60 hover:border-accent hover:bg-accent/10 flex items-center justify-center transition-all group",title:"GitHub",children:p.jsx(x4,{className:"w-4 h-4 text-muted group-hover:text-accent transition-colors"})}),p.jsx("a",{href:"https://abidhasanrafi.github.io",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-full bg-surface/60 backdrop-blur-xl border border-border/60 hover:border-accent hover:bg-accent/10 flex items-center justify-center transition-all group",title:"Portfolio Website",children:p.jsx(Og,{className:"w-4 h-4 text-muted group-hover:text-accent transition-colors"})}),p.jsx("a",{href:"mailto:ahr16.abidhasanrafi@gmail.com",className:"w-9 h-9 rounded-full bg-surface/60 backdrop-blur-xl border border-border/60 hover:border-accent hover:bg-accent/10 flex items-center justify-center transition-all group",title:"Email",children:p.jsx(Wk,{className:"w-4 h-4 text-muted group-hover:text-accent transition-colors"})})]})]})]})})]}),p.jsxs("section",{className:"text-center py-10 bg-gradient-to-br from-surface/60 via-surface/40 to-surface/60 backdrop-blur-3xl border border-border/40 rounded-3xl shadow-2xl shadow-black/30",children:[p.jsx("h2",{className:"text-3xl font-serif font-medium mb-4",children:t({en:"Ready to Start Your Journey?",bn:"    ?"})}),p.jsx("p",{className:"text-muted mb-6 max-w-xl mx-auto",children:t({en:"Browse opportunities and take the first step towards your goals.",bn:"         "})}),p.jsxs(qe,{to:"/article",className:"inline-flex items-center gap-2 bg-accent hover:bg-accent-hover text-white px-8 py-3 rounded-lg font-medium transition-all duration-300 shadow-lg shadow-accent/20 hover:shadow-xl hover:shadow-accent/30",children:[t({en:"Explore Opportunities",bn:"  "}),p.jsx(Ud,{className:"w-5 h-5"})]})]})]})},gz=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,o]=T.useState(""),[l,u]=T.useState(""),[f,h]=T.useState(!1),[m,y]=T.useState(!1);T.useEffect(()=>{document.title=f?"Sign Up - The Scholars Page":"Login - The Scholars Page"},[f]);const{loginWithEmail:x,signupWithEmail:v,loginWithGoogle:w}=fi(),k=la(),E=fr(),{t:C}=jn(),O=async B=>{B.preventDefault(),u(""),y(!0);try{let U;if(f?U=await v(t,n,i):U=await x(t,n),U.success){const J=E.state?.from?.pathname||"/";k(J,{replace:!0})}else u(U.error)}catch{u("An unexpected error occurred")}finally{y(!1)}},j=async()=>{u(""),y(!0);try{const B=await w();if(B.success){const U=E.state?.from?.pathname||"/";k(U,{replace:!0})}else u(B.error)}catch{u("An unexpected error occurred")}finally{y(!1)}};return p.jsx("div",{className:"flex min-h-[80vh] items-center justify-center px-4",children:p.jsxs("div",{className:"w-full max-w-md p-8 border border-border/50 bg-surface/40 backdrop-blur-2xl rounded-2xl shadow-2xl shadow-black/30",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-serif text-foreground mb-2",children:C({en:"Scholar Access",bn:" "})}),p.jsx("p",{className:"text-sm text-muted",children:C(f?{en:"Create your account",bn:"   "}:{en:"Sign in to manage opportunities",bn:"     "})})]}),p.jsxs("form",{onSubmit:O,className:"space-y-6",children:[f&&p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium mb-2 block text-foreground",children:C({en:"Display Name",bn:" "})}),p.jsx(qt,{type:"text",value:i,onChange:B=>o(B.target.value),placeholder:C({en:"Dr. Scholar",bn:". "}),required:f})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium mb-2 block text-foreground",children:C({en:"Email",bn:""})}),p.jsx(qt,{type:"email",value:t,onChange:B=>e(B.target.value),placeholder:"scholar@example.com",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium mb-2 block text-foreground",children:C({en:"Password",bn:""})}),p.jsx(qt,{type:"password",value:n,onChange:B=>r(B.target.value),placeholder:"",required:!0})]}),l&&p.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-3 rounded-lg text-sm",children:l}),p.jsx(Ne,{type:"submit",className:"w-full",disabled:m,children:C(m?{en:"Please wait...",bn:" ..."}:f?{en:"Sign Up",bn:"  "}:{en:"Sign In",bn:" "})})]}),p.jsxs("div",{className:"mt-6",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-border/50"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"px-2 bg-surface/40 text-muted",children:C({en:"Or continue with",bn:"  "})})})]}),p.jsxs(Ne,{type:"button",onClick:j,disabled:m,className:"w-full mt-4 bg-white text-gray-800 hover:bg-gray-100 border border-gray-300",children:[p.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[p.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),p.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),p.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),p.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),C({en:"Google Sign In",bn:"  "})]})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{type:"button",onClick:()=>{h(!f),u("")},className:"text-sm text-primary hover:underline",children:C(f?{en:"Already have an account? Sign in",bn:"   ?   "}:{en:"Don't have an account? Sign up",bn:" ?   "})})})]})})},yz=()=>{const{user:t,updateProfile:e}=fi(),{posts:n}=Ro(),{t:r}=jn(),[i,o]=T.useState([]),[l,u]=T.useState(!1),[f,h]=T.useState({displayName:"",photoURL:""}),[m,y]=T.useState(!1),[x,v]=T.useState("");T.useEffect(()=>{document.title="My Profile - The Scholars Page"},[]),T.useEffect(()=>{if(t&&n){const E=t.uid||t.email,C=n.filter(O=>(O.upvotedBy||[]).includes(E));o(C),h({displayName:t.displayName||"",photoURL:t.photoURL||""})}},[t,n]);const w=()=>{l&&(h({displayName:t.displayName||"",photoURL:t.photoURL||""}),v("")),u(!l)},k=async()=>{y(!0),v("");const E={};if(f.displayName!==t.displayName&&(E.displayName=f.displayName),f.photoURL!==t.photoURL&&(E.photoURL=f.photoURL),Object.keys(E).length===0){v(r({en:"No changes to save",bn:"     "})),y(!1);return}const C=await e(E);C.success?(v(r({en:"Profile updated successfully!",bn:"   !"})),u(!1),setTimeout(()=>v(""),3e3)):v(C.error||r({en:"Failed to update profile",bn:"   "})),y(!1)};return t?p.jsxs("div",{className:"space-y-12 animate-in fade-in duration-700",children:[p.jsxs("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-8 shadow-2xl shadow-black/20",children:[p.jsxs("div",{className:"flex items-start justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("div",{className:"relative group",children:[t.photoURL&&!l?p.jsx("img",{src:t.photoURL,alt:t.displayName||"User",className:"w-20 h-20 rounded-full object-cover border-2 border-accent"}):p.jsx("div",{className:"w-20 h-20 rounded-full bg-accent flex items-center justify-center text-white font-bold text-3xl",children:(t.displayName||t.email||"U").charAt(0).toUpperCase()}),l&&p.jsx("div",{className:"absolute inset-0 rounded-full bg-black/50 flex items-center justify-center cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsx(e4,{className:"w-6 h-6 text-white"})})]}),p.jsx("div",{className:"flex-1",children:l?p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:r({en:"Display Name",bn:" "})}),p.jsx(qt,{value:f.displayName,onChange:E=>h({...f,displayName:E.target.value}),placeholder:r({en:"Enter your name",bn:"  "})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:r({en:"Photo URL",bn:" URL"})}),p.jsx(qt,{value:f.photoURL,onChange:E=>h({...f,photoURL:E.target.value}),placeholder:"https://example.com/photo.jpg"})]}),p.jsx("p",{className:"text-xs text-muted",children:t.email})]}):p.jsxs(p.Fragment,{children:[p.jsx("h1",{className:"text-3xl font-serif font-medium mb-2",children:t.displayName||r({en:"User",bn:""})}),p.jsx("p",{className:"text-muted",children:t.email})]})})]}),p.jsx("div",{className:"flex gap-2",children:l?p.jsxs(p.Fragment,{children:[p.jsxs(Ne,{variant:"outline",onClick:w,className:"flex items-center gap-2",children:[p.jsx(Tc,{className:"w-4 h-4"}),r({en:"Cancel",bn:""})]}),p.jsxs(Ne,{onClick:k,isLoading:m,className:"flex items-center gap-2",children:[p.jsx(Yk,{className:"w-4 h-4"}),r({en:"Save",bn:""})]})]}):p.jsxs(Ne,{variant:"outline",onClick:w,className:"flex items-center gap-2",children:[p.jsx(sc,{className:"w-4 h-4"}),r({en:"Edit Profile",bn:" "})]})})]}),x&&p.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm ${x.includes("success")||x.includes("")?"bg-success/10 text-success border border-success/20":"bg-warning/10 text-warning border border-warning/20"}`,children:x})]}),i.length>0&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3 border-b border-border pb-3",children:[p.jsx($l,{className:"w-5 h-5 text-accent"}),p.jsx("h2",{className:"text-2xl font-serif font-normal",children:r({en:"Favourite Opportunities",bn:" "})}),p.jsxs("span",{className:"text-sm text-muted",children:["(",i.length,")"]})]}),p.jsx("div",{className:"grid gap-6",children:i.map(E=>p.jsx("article",{className:"bg-surface/40 backdrop-blur-xl hover:bg-surface/60 border border-border/50 rounded-2xl p-6 transition-all duration-300 shadow-xl shadow-black/20 hover:shadow-2xl hover:shadow-accent/10 hover:border-accent/30",children:p.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-4",children:[p.jsxs("div",{className:"text-sm text-muted font-sans md:min-w-[160px] flex items-center gap-2",children:[p.jsx(QD,{className:"w-4 h-4"}),new Date(E.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"flex items-center gap-2 mb-2",children:E.category&&p.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 bg-accent/10 text-accent border border-accent/20 rounded-full text-xs font-medium uppercase",children:[p.jsx(ta,{className:"w-3 h-3"}),E.category]})}),p.jsx("h3",{className:"text-xl font-serif font-medium mb-2 hover:text-accent transition-colors",children:p.jsx(qe,{to:`/article/${E._id||E.id}`,children:E.title})}),p.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx($l,{className:"w-4 h-4"}),E.upvotes||0]}),p.jsx("span",{children:E.authorName})]}),p.jsxs(qe,{to:`/article/${E._id||E.id}`,className:"inline-flex items-center gap-2 mt-3 text-sm font-medium text-accent hover:text-accent-hover transition-colors",children:[r({en:"View Details",bn:" "}),p.jsx(co,{className:"w-4 h-4"})]})]})]})},E._id||E.id))})]}),i.length===0&&p.jsxs("div",{className:"text-center py-20 bg-surface/20 border border-border/30 rounded-2xl",children:[p.jsx($l,{className:"w-12 h-12 text-muted/50 mx-auto mb-4"}),p.jsx("p",{className:"text-muted italic",children:r({en:"You haven't upvoted any opportunities yet. Explore opportunities and upvote the ones you find interesting!",bn:"             !"})}),p.jsxs(qe,{to:"/article",className:"inline-flex items-center gap-2 mt-4 text-accent hover:text-accent-hover transition-colors",children:[r({en:"Browse Opportunities",bn:"  "}),p.jsx(co,{className:"w-4 h-4"})]})]})]}):p.jsxs("div",{className:"text-center py-20",children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:r({en:"Please login to view your profile",bn:"    "})}),p.jsx(qe,{to:"/login",className:"text-accent hover:text-accent-hover transition-colors",children:r({en:"Go to Login",bn:" "})})]})},bz=()=>{const t=la();return T.useEffect(()=>{document.title="404 - Page Not Found | The Scholars Page"},[]),p.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-gradient-to-br from-background via-background to-surface",children:p.jsxs("div",{className:"max-w-2xl w-full text-center",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 rounded-full bg-surface/40 backdrop-blur-xl border border-border/50 mb-6",children:p.jsx(Jk,{className:"w-16 h-16 text-accent/50"})}),p.jsx("h1",{className:"text-8xl font-bold text-accent mb-4 font-serif",children:"404"}),p.jsx("h2",{className:"text-3xl font-serif mb-2",children:"Page Not Found"}),p.jsx("p",{className:"text-lg text-text/70 mb-8",children:"Oops! The page you're looking for doesn't exist. It might have been moved or deleted."})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[p.jsxs(Ne,{onClick:()=>t(-1),variant:"secondary",className:"flex items-center gap-2 min-w-[160px]",children:[p.jsx(jy,{className:"w-5 h-5"}),"Go Back"]}),p.jsx(qe,{to:"/",children:p.jsxs(Ne,{className:"flex items-center gap-2 min-w-[160px]",children:[p.jsx(Fk,{className:"w-5 h-5"}),"Go Home"]})})]}),p.jsxs("div",{className:"mt-12 p-6 bg-surface/30 backdrop-blur-xl border border-border/50 rounded-2xl",children:[p.jsx("h3",{className:"text-lg font-medium mb-3",children:"Looking for something?"}),p.jsxs("div",{className:"flex flex-wrap gap-3 justify-center text-sm",children:[p.jsx(qe,{to:"/article",className:"text-accent hover:underline",children:"Browse Opportunities"}),p.jsx("span",{className:"text-text/30",children:""}),p.jsx(qe,{to:"/about",className:"text-accent hover:underline",children:"About Us"}),p.jsx("span",{className:"text-text/30",children:""}),p.jsx(qe,{to:"/profile",className:"text-accent hover:underline",children:"Your Profile"})]})]})]})})},xz=()=>{const{t}=jn();return T.useEffect(()=>{document.title="Terms of Service - The Scholars Page"},[]),p.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-accent/10 mb-4",children:p.jsx(y4,{className:"w-8 h-8 text-accent"})}),p.jsx("h1",{className:"text-4xl font-serif mb-4",children:t({en:"Terms of Service",bn:" "})}),p.jsx("p",{className:"text-muted",children:t({en:"Last updated: January 8, 2026",bn:" :  , "})})]}),p.jsxs("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-8 space-y-6",children:[p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"1. Acceptance of Terms"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"By accessing and using The Scholars Page, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these terms, please do not use our service."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"2. Use License"}),p.jsx("p",{className:"text-muted leading-relaxed mb-3",children:"Permission is granted to temporarily access the materials (information or software) on The Scholars Page for personal, non-commercial use only. This is the grant of a license, not a transfer of title, and under this license you may not:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4",children:[p.jsx("li",{children:"Modify or copy the materials"}),p.jsx("li",{children:"Use the materials for any commercial purpose"}),p.jsx("li",{children:"Attempt to decompile or reverse engineer any software contained on the website"}),p.jsx("li",{children:"Remove any copyright or other proprietary notations from the materials"})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"3. User Accounts"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"When you create an account with us, you must provide accurate, complete, and current information. Failure to do so constitutes a breach of the Terms. You are responsible for safeguarding the password and for all activities that occur under your account."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"4. Content"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"Our service allows you to post, link, store, share and otherwise make available certain information. You are responsible for the content that you post on or through the service, including its legality, reliability, and appropriateness."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"5. Intellectual Property"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"The service and its original content, features, and functionality are and will remain the exclusive property of The Scholars Page. The service is protected by copyright, trademark, and other laws."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"6. Disclaimer"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"The materials on The Scholars Page are provided on an 'as is' basis. We make no warranties, expressed or implied, and hereby disclaim and negate all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"7. Limitations"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"In no event shall The Scholars Page or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on our website."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"8. Changes to Terms"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"We reserve the right, at our sole discretion, to modify or replace these Terms at any time. We will provide notice of any significant changes by posting the new Terms on this page."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"9. Contact Us"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"If you have any questions about these Terms, please contact us through our contact information provided on the website."})]})]})]})},vz=()=>{const{t}=jn();return T.useEffect(()=>{document.title="Privacy Policy - The Scholars Page"},[]),p.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-accent/10 mb-4",children:p.jsx(_g,{className:"w-8 h-8 text-accent"})}),p.jsx("h1",{className:"text-4xl font-serif mb-4",children:t({en:"Privacy Policy",bn:" "})}),p.jsx("p",{className:"text-muted",children:t({en:"Last updated: January 8, 2026",bn:" :  , "})})]}),p.jsxs("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-8 space-y-6",children:[p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"1. Information We Collect"}),p.jsx("p",{className:"text-muted leading-relaxed mb-3",children:"We collect information that you provide directly to us, including:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4",children:[p.jsx("li",{children:"Name and email address when you create an account"}),p.jsx("li",{children:"Profile information you choose to add"}),p.jsx("li",{children:"Comments and interactions on posts"}),p.jsx("li",{children:"Communications with us"})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"2. How We Use Your Information"}),p.jsx("p",{className:"text-muted leading-relaxed mb-3",children:"We use the information we collect to:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4",children:[p.jsx("li",{children:"Provide, maintain, and improve our services"}),p.jsx("li",{children:"Send you technical notices and support messages"}),p.jsx("li",{children:"Respond to your comments and questions"}),p.jsx("li",{children:"Personalize your experience"}),p.jsx("li",{children:"Monitor and analyze trends and usage"})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"3. Information Sharing"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"We do not share your personal information with third parties except in the following circumstances:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4 mt-3",children:[p.jsx("li",{children:"With your consent"}),p.jsx("li",{children:"To comply with legal obligations"}),p.jsx("li",{children:"To protect our rights and prevent fraud"}),p.jsx("li",{children:"In connection with a business transfer or acquisition"})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"4. Data Security"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"We take reasonable measures to protect your personal information from unauthorized access, use, or disclosure. However, no internet transmission is ever completely secure, and we cannot guarantee absolute security."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"5. Firebase Authentication"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"We use Firebase Authentication for user account management. Your authentication data is stored and processed according to Google's privacy policy. We recommend reviewing Firebase's privacy practices."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"6. Cookies and Tracking"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"We use cookies and similar tracking technologies to track activity on our service and store certain information. You can instruct your browser to refuse all cookies or indicate when a cookie is being sent."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"7. Your Rights"}),p.jsx("p",{className:"text-muted leading-relaxed mb-3",children:"You have the right to:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4",children:[p.jsx("li",{children:"Access and receive a copy of your personal data"}),p.jsx("li",{children:"Correct or update your information"}),p.jsx("li",{children:"Delete your account and associated data"}),p.jsx("li",{children:"Object to processing of your data"})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"8. Children's Privacy"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"Our service is not directed to individuals under the age of 13. We do not knowingly collect personal information from children under 13. If you become aware that a child has provided us with personal information, please contact us."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"9. Changes to Privacy Policy"}),p.jsx("p",{className:"text-muted leading-relaxed",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date.'})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"10. Contact Us"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"If you have any questions about this Privacy Policy, please contact us through the information provided on our website."})]})]})]})},wz=()=>{const{t}=jn();return T.useEffect(()=>{document.title="Cookie Policy - The Scholars Page"},[]),p.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-accent/10 mb-4",children:p.jsx(u4,{className:"w-8 h-8 text-accent"})}),p.jsx("h1",{className:"text-4xl font-serif mb-4",children:t({en:"Cookie Policy",bn:" "})}),p.jsx("p",{className:"text-muted",children:t({en:"Last updated: January 8, 2026",bn:" :  , "})})]}),p.jsxs("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-8 space-y-6",children:[p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"1. What Are Cookies"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"Cookies are small text files that are placed on your computer or mobile device when you visit a website. They are widely used to make websites work more efficiently and provide information to website owners."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"2. How We Use Cookies"}),p.jsx("p",{className:"text-muted leading-relaxed mb-3",children:"The Scholars Page uses cookies for the following purposes:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Essential Cookies:"})," Required for the website to function properly, including authentication and security"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Preference Cookies:"})," Remember your settings and preferences (e.g., language selection)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Analytics Cookies:"})," Help us understand how visitors interact with our website"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Performance Cookies:"})," Improve website performance and user experience"]})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"3. Types of Cookies We Use"}),p.jsxs("div",{className:"space-y-4 mt-4",children:[p.jsxs("div",{className:"border-l-4 border-accent/50 pl-4",children:[p.jsx("h3",{className:"font-medium mb-2",children:"Session Cookies"}),p.jsx("p",{className:"text-muted text-sm",children:"Temporary cookies that expire when you close your browser. Used to maintain your session while browsing."})]}),p.jsxs("div",{className:"border-l-4 border-accent/50 pl-4",children:[p.jsx("h3",{className:"font-medium mb-2",children:"Persistent Cookies"}),p.jsx("p",{className:"text-muted text-sm",children:"Remain on your device for a set period or until you delete them. Used to remember your preferences."})]}),p.jsxs("div",{className:"border-l-4 border-accent/50 pl-4",children:[p.jsx("h3",{className:"font-medium mb-2",children:"Authentication Cookies"}),p.jsx("p",{className:"text-muted text-sm",children:"Firebase Authentication uses cookies to manage user sessions and keep you logged in."})]})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"4. Third-Party Cookies"}),p.jsx("p",{className:"text-muted leading-relaxed mb-3",children:"We may use third-party services that set cookies on our behalf:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Firebase:"})," For authentication and user management"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Analytics Services:"})," To understand website usage and improve our services"]})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"5. Managing Cookies"}),p.jsx("p",{className:"text-muted leading-relaxed mb-3",children:"You can control and manage cookies in various ways:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4",children:[p.jsx("li",{children:"Most browsers allow you to block or delete cookies through their settings"}),p.jsx("li",{children:"You can set your browser to notify you when cookies are being sent"}),p.jsx("li",{children:"You can opt out of third-party cookies through your browser preferences"})]}),p.jsxs("p",{className:"text-muted leading-relaxed mt-4",children:[p.jsx("strong",{children:"Please note:"})," Blocking or deleting cookies may affect your ability to use certain features of our website, including authentication and personalized settings."]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"6. Browser-Specific Instructions"}),p.jsx("p",{className:"text-muted leading-relaxed mb-3",children:"To manage cookies in your browser:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Chrome:"})," Settings  Privacy and Security  Cookies and other site data"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Firefox:"})," Options  Privacy & Security  Cookies and Site Data"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Safari:"})," Preferences  Privacy  Manage Website Data"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Edge:"})," Settings  Privacy, search, and services  Cookies"]})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"7. Updates to This Policy"}),p.jsx("p",{className:"text-muted leading-relaxed",children:'We may update this Cookie Policy from time to time to reflect changes in technology or legal requirements. We will post any changes on this page and update the "Last updated" date.'})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"8. Contact Us"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"If you have any questions about our use of cookies, please contact us through the information provided on our website."})]})]})]})},Sz=()=>{const{user:t,loading:e,logout:n}=fi();return e?p.jsx("div",{className:"flex h-screen items-center justify-center",children:"Loading..."}):t?p.jsxs("div",{className:"min-h-screen grid grid-cols-[240px_1fr] font-sans bg-background text-foreground",children:[p.jsxs("aside",{className:"border-r border-border/30 bg-surface/30 backdrop-blur-xl p-6 flex flex-col h-screen sticky top-0 shadow-2xl",children:[p.jsx("div",{className:"font-serif text-xl font-bold mb-8 px-2 text-accent",children:"TSP Admin"}),p.jsxs("nav",{className:"flex flex-col gap-2 flex-1",children:[p.jsx(qe,{to:"/admin",children:p.jsxs(Ne,{variant:"ghost",className:"w-full justify-start",children:[p.jsx(D4,{className:"mr-2 h-4 w-4"})," Dashboard"]})}),p.jsx(qe,{to:"/admin/new",children:p.jsxs(Ne,{variant:"ghost",className:"w-full justify-start",children:[p.jsx(eL,{className:"mr-2 h-4 w-4"})," New Post"]})})]}),p.jsxs(Ne,{variant:"outline",className:"mt-auto w-full",onClick:n,children:[p.jsx(Rg,{className:"mr-2 h-4 w-4"})," Logout"]})]}),p.jsx("main",{className:"p-8 overflow-y-auto",children:p.jsx("div",{className:"max-w-4xl mx-auto",children:p.jsx(VE,{})})})]}):p.jsx(HE,{to:"/login",replace:!0})},LN=T.createContext(),Ez=({children:t})=>{const{user:e}=fi(),[n,r]=T.useState(null),[i,o]=T.useState(!0);T.useEffect(()=>{(async()=>{if(!e||!e.email){r(null),o(!1);return}try{const x=await Er.checkAccess(e.email);x.success&&x.data.hasAccess?r(x.data.role):r(null)}catch(x){console.error("Error fetching user role:",x),r(null)}finally{o(!1)}})()},[e]);const l=y=>{if(!n)return!1;const x={admin:3,moderator:2,editor:1},v=x[n]||0,w=x[y]||0;return v>=w},u=()=>n==="admin",f=()=>n==="admin"||n==="moderator",h=()=>n==="admin"||n==="moderator"||n==="editor",m=()=>n==="admin";return p.jsx(LN.Provider,{value:{userRole:n,loading:i,hasPermission:l,canDelete:u,canEdit:f,canAdd:h,isAdmin:m},children:t})},kz=()=>{const t=T.useContext(LN);if(!t)throw new Error("useAdminRole must be used within AdminRoleProvider");return t},By=({isOpen:t,onClose:e,title:n,children:r,footer:i,closable:o=!0})=>{if(T.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const l=p.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[p.jsx("div",{className:"absolute inset-0 bg-black/70",style:{backdropFilter:"blur(12px)"},onClick:o?e:void 0}),p.jsxs("div",{className:"relative bg-surface border border-border/50 rounded-2xl shadow-2xl shadow-black/40 mx-4",style:{maxWidth:"28rem",width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column",zIndex:51},onClick:u=>u.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border/50 flex-shrink-0",children:[p.jsx("h3",{className:"text-lg font-semibold text-foreground",children:n}),o&&p.jsx("button",{onClick:e,className:"text-muted hover:text-foreground transition-all duration-200 hover:scale-110 hover:rotate-90 rounded-full p-1 hover:bg-surface-hover",children:p.jsx(Tc,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"p-6 text-foreground overflow-y-auto flex-1",children:r}),i&&p.jsx("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-border/50 bg-surface/50 flex-shrink-0",children:i})]})]});return KE.createPortal(l,document.body)},qw=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i,confirmText:o="Confirm",cancelText:l="Cancel",isDanger:u=!1,isLoading:f=!1})=>p.jsx(By,{isOpen:t,onClose:e,title:r,footer:p.jsxs(p.Fragment,{children:[p.jsx(Ne,{variant:"outline",onClick:e,disabled:f,className:"transition-all duration-200 hover:scale-105",children:l}),p.jsx(Ne,{onClick:()=>{n()},isLoading:f,disabled:f,className:`transition-all duration-200 hover:scale-105 ${u?"bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-600/30":""}`,children:o})]}),children:p.jsx("p",{className:"text-muted leading-relaxed",children:i})}),IN=({isOpen:t,onClose:e,title:n,message:r,type:i="info"})=>{const[o,l]=Ke.useState(10);T.useEffect(()=>{if(t){l(10);const h=setInterval(()=>{l(m=>m<=1?(clearInterval(h),e(),0):m-1)},1e3);return()=>clearInterval(h)}},[t,e]);const u={success:"text-success bg-success/10 border border-success/30 rounded-lg p-4",error:"text-red-500 bg-red-500/10 border border-red-500/30 rounded-lg p-4",info:"text-blue-500 bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",warning:"text-warning bg-warning/10 border border-warning/30 rounded-lg p-4"},f={success:"",error:"",info:"",warning:""};return p.jsx(By,{isOpen:t,onClose:e,title:n,footer:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsxs("span",{className:"text-sm text-muted",children:["Auto-closing in ",o,"s"]}),p.jsx(Ne,{onClick:e,className:"transition-all duration-200 hover:scale-105",children:"Okay"})]}),children:p.jsx("div",{className:u[i],children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("span",{className:"text-2xl flex-shrink-0",children:f[i]}),p.jsx("p",{className:"leading-relaxed",children:r})]})})})},Nz=({isOpen:t,title:e="Processing",message:n="Please wait..."})=>p.jsx(By,{isOpen:t,onClose:()=>{},title:e,closable:!1,footer:p.jsx(Ne,{isLoading:!0,variant:"outline",disabled:!0,className:"cursor-wait",children:"Working..."}),children:p.jsxs("div",{className:"flex items-center gap-3 text-muted",children:[p.jsx(Kk,{className:"w-5 h-5 animate-spin"}),p.jsx("p",{className:"leading-relaxed",children:n})]})}),Cz=()=>{const{posts:t,deletePost:e,loading:n,error:r,refreshPosts:i}=Ro(),{user:o}=fi(),{userRole:l,canDelete:u,canEdit:f,canAdd:h,isAdmin:m}=kz(),{t:y}=jn();T.useEffect(()=>{document.title="Admin Dashboard - The Scholars Page"},[]);const[x,v]=T.useState("posts"),[w,k]=T.useState({isOpen:!1,postId:null,postTitle:""}),[E,C]=T.useState(!1),[O,j]=T.useState({isOpen:!1,type:"info",title:"",message:""}),[B,U]=T.useState(1),[J]=T.useState(10),[H,V]=T.useState([]),[ne,le]=T.useState(!1),[ke,Se]=T.useState(!1),[ie,X]=T.useState(null),[K,R]=T.useState({name:"",email:"",role:"editor",isActive:!0}),[F,L]=T.useState(null),[oe,ve]=T.useState({isOpen:!1,adminId:null,adminName:""}),[M,G]=T.useState([]),[ee,te]=T.useState(!1),[pe,Ce]=T.useState(!1);Ke.useEffect(()=>{x==="admins"&&(ge(),Fe())},[x]);const ge=async()=>{try{le(!0);const W=await Er.getAll();W.success&&V(W.data)}catch(W){console.error("Error loading admins:",W),j({isOpen:!0,type:"error",title:"Error",message:"Failed to load admins: "+W.message})}finally{le(!1)}},Fe=async()=>{try{const W=await Er.getStats();W.success&&L(W.data)}catch(W){console.error("Error loading admin stats:",W)}},We=async()=>{try{if(!K.name||!K.email){j({isOpen:!0,type:"error",title:"Validation Error",message:"Name and email are required"});return}(await Er.create(K)).success&&(j({isOpen:!0,type:"success",title:"Success",message:"Admin added successfully"}),Se(!1),R({name:"",email:"",role:"editor",isActive:!0}),ge(),Fe())}catch(W){j({isOpen:!0,type:"error",title:"Error",message:W.message||"Failed to add role"})}},on=async()=>{try{if(!K.name||!K.email){j({isOpen:!0,type:"error",title:"Validation Error",message:"Name and email are required"});return}(await Er.update(ie._id,K)).success&&(j({isOpen:!0,type:"success",title:"Success",message:"Admin updated successfully"}),X(null),R({name:"",email:"",role:"editor",isActive:!0}),ge())}catch(W){j({isOpen:!0,type:"error",title:"Error",message:W.message||"Failed to update admin"})}},vn=async()=>{try{(await Er.delete(oe.adminId)).success&&(j({isOpen:!0,type:"success",title:"Success",message:"Admin removed successfully"}),ve({isOpen:!1,adminId:null,adminName:""}),ge(),Fe())}catch(W){j({isOpen:!0,type:"error",title:"Error",message:W.message||"Failed to delete admin"})}},Dn=W=>{X(W),R({name:W.name,email:W.email,role:W.role,isActive:W.isActive}),Se(!0)},da=()=>{Se(!1),X(null),R({name:"",email:"",role:"editor",isActive:!0})},tr=W=>{switch(W){case"admin":return"bg-purple-500/20 text-purple-500 border-purple-500/30";case"moderator":return"bg-blue-500/20 text-blue-500 border-blue-500/30";case"editor":return"bg-green-500/20 text-green-500 border-green-500/30";default:return"bg-muted/20 text-muted border-muted/30"}},hs=async()=>{try{Ce(!0);const W=await Er.getFirebaseUsers();W.success&&(G(W.data),te(!0))}catch(W){console.error("Error loading Firebase users:",W),j({isOpen:!0,type:"error",title:"Error",message:W.message||"Failed to load Firebase users. Make sure Firebase Admin SDK is configured in the backend."})}finally{Ce(!1)}},gi=async W=>{try{(await Er.create({name:W.displayName,email:W.email,role:"editor",isActive:!0})).success&&(j({isOpen:!0,type:"success",title:"Success",message:`${W.displayName} added as admin`}),ge(),Fe(),hs())}catch(Qe){j({isOpen:!0,type:"error",title:"Error",message:Qe.message||"Failed to add user as admin"})}},jo=W=>{k({isOpen:!0,postId:W._id||W.id,postTitle:W.title})},yi=async()=>{try{C(!0);const W=await e(w.postId);W.success?(k({isOpen:!1,postId:null,postTitle:""}),await i()):j({isOpen:!0,type:"error",title:"Error",message:"Failed to delete post: "+W.error})}finally{C(!1)}};if(n)return p.jsx("div",{className:"flex justify-center items-center py-20",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent"})});const pr=Array.isArray(t)?[...t].sort((W,Qe)=>new Date(Qe.createdAt)-new Date(W.createdAt)):[],nr=Math.ceil(pr.length/J),rr=B*J,fa=rr-J,bi=pr.slice(fa,rr),zt=W=>{U(W),window.scrollTo({top:0,behavior:"smooth"})},re=()=>{B>1&&(U(B-1),window.scrollTo({top:0,behavior:"smooth"}))},ye=()=>{B<nr&&(U(B+1),window.scrollTo({top:0,behavior:"smooth"}))};return r?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("p",{className:"text-red-500 mb-4",children:r}),p.jsx("p",{className:"text-muted mb-4",children:"Make sure the backend server is running!"}),p.jsx(Ne,{onClick:i,children:"Retry"})]}):p.jsxs("div",{className:"space-y-8 animate-in fade-in",children:[p.jsx(qw,{isOpen:w.isOpen,onClose:()=>k({isOpen:!1,postId:null,postTitle:""}),onConfirm:yi,title:"Delete Post",message:`Are you sure you want to delete "${w.postTitle}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",isDanger:!0,isLoading:E}),p.jsx(qw,{isOpen:oe.isOpen,onClose:()=>ve({isOpen:!1,adminId:null,adminName:""}),onConfirm:vn,title:"Remove Admin",message:`Are you sure you want to remove "${oe.adminName}" from admin whitelist?`,confirmText:"Remove",cancelText:"Cancel",isDanger:!0}),p.jsx(IN,{isOpen:O.isOpen,onClose:()=>j({isOpen:!1,type:"info",title:"",message:""}),title:O.title,message:O.message,type:O.type}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("h1",{className:"text-3xl font-serif",children:"Dashboard"}),l&&p.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${l==="admin"?"bg-purple-500/20 text-purple-500 border-purple-500/30":l==="moderator"?"bg-blue-500/20 text-blue-500 border-blue-500/30":"bg-green-500/20 text-green-500 border-green-500/30"}`,children:l.charAt(0).toUpperCase()+l.slice(1)})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(qe,{to:"/",children:p.jsxs(Ne,{variant:"outline",children:[p.jsx(Fk,{className:"w-4 h-4 mr-2"})," Go to Home"]})}),x==="posts"&&p.jsx(qe,{to:"/admin/new",children:p.jsxs(Ne,{children:[p.jsx(bw,{className:"w-4 h-4 mr-2"})," New Post"]})}),x==="admins"&&p.jsxs(p.Fragment,{children:[!ke&&p.jsxs(Ne,{onClick:()=>Se(!0),children:[p.jsx(bw,{className:"w-4 h-4 mr-2"})," Add Role"]}),p.jsxs(Ne,{variant:"outline",onClick:hs,isLoading:pe,children:[p.jsx(Hd,{className:"w-4 h-4 mr-2"})," View Users"]})]})]})]}),p.jsx("div",{className:"border-b border-border",children:p.jsxs("div",{className:"flex gap-6",children:[p.jsxs("button",{onClick:()=>v("posts"),className:`pb-3 px-1 font-medium transition-colors border-b-2 flex items-center gap-2 ${x==="posts"?"border-accent text-accent":"border-transparent text-muted hover:text-foreground"}`,children:[p.jsx(ta,{className:"w-4 h-4"}),"Posts Management"]}),m()&&p.jsxs("button",{onClick:()=>v("admins"),className:`pb-3 px-1 font-medium transition-colors border-b-2 flex items-center gap-2 ${x==="admins"?"border-accent text-accent":"border-transparent text-muted hover:text-foreground"}`,children:[p.jsx(_g,{className:"w-4 h-4"}),"Admin Whitelist"]})]})}),x==="posts"&&p.jsxs("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl shadow-2xl shadow-black/30 overflow-hidden",children:[p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left text-sm table-fixed",children:[p.jsx("thead",{className:"bg-surface/60 backdrop-blur-sm border-b border-border/50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 font-medium text-muted",style:{width:"32%"},children:"Title"}),p.jsx("th",{className:"p-4 font-medium text-muted",style:{width:"14%"},children:"Author"}),p.jsx("th",{className:"p-4 font-medium text-muted",style:{width:"16%"},children:"Tags"}),p.jsx("th",{className:"p-4 font-medium text-muted",style:{width:"10%"},children:"Stats"}),p.jsx("th",{className:"p-4 font-medium text-muted",style:{width:"10%"},children:"Date"}),p.jsx("th",{className:"p-4 font-medium text-muted",style:{width:"10%"},children:"Status"}),p.jsx("th",{className:"p-4 font-medium text-muted text-right",style:{width:"8%"},children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-border",children:bi.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"7",className:"p-8 text-center text-muted",children:"No posts found. Create one!"})}):bi.map(W=>p.jsxs("tr",{className:"hover:bg-surface-hover transition-colors",children:[p.jsx("td",{className:"p-4 font-medium",children:p.jsx("div",{className:"truncate",title:W.title,children:W.title})}),p.jsx("td",{className:"p-4",children:W.authorName}),p.jsx("td",{className:"p-4",children:W.tags&&W.tags.length>0?p.jsxs("div",{className:"flex flex-wrap gap-1",children:[W.tags.slice(0,2).map((Qe,en)=>p.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-accent/10 text-accent rounded text-xs",children:[p.jsx(ta,{className:"w-3 h-3"}),Qe]},en)),W.tags.length>2&&p.jsxs("span",{className:"text-xs text-muted",children:["+",W.tags.length-2]})]}):p.jsx("span",{className:"text-muted text-sm",children:"-"})}),p.jsx("td",{className:"p-4 text-sm",children:p.jsxs("div",{className:"flex flex-col gap-0.5",children:[p.jsxs("span",{className:"inline-flex items-center gap-1 text-muted",children:[W.views||0," views"]}),p.jsxs("span",{className:"inline-flex items-center gap-1 text-success",children:[p.jsx(Ud,{className:"w-3.5 h-3.5"}),W.upvotes||0]}),p.jsxs("span",{className:"inline-flex items-center gap-1 text-red-500",children:[p.jsx(AL,{className:"w-3.5 h-3.5"}),W.downvotes||0]}),p.jsxs("span",{className:"inline-flex items-center gap-1 text-blue-500",children:[p.jsx(J4,{className:"w-3.5 h-3.5"}),W.comments?.length||0]})]})}),p.jsx("td",{className:"p-4 tabular-nums",children:new Date(W.createdAt).toLocaleDateString()}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${W.isPublished?"bg-success/20 text-success border border-success/30":"bg-warning/20 text-warning border border-warning/30"}`,children:W.isPublished?"Published":"Draft"})}),p.jsx("td",{className:"p-4 text-right",children:p.jsxs("div",{className:"flex flex-col items-end gap-1",children:[p.jsx(qe,{to:`/article/${W._id||W.id}`,target:"_blank",children:p.jsx(Ne,{variant:"ghost",size:"icon",title:"View",children:p.jsx(h4,{className:"w-4 h-4 text-muted"})})}),f()&&p.jsx(qe,{to:`/admin/edit/${W._id||W.id}`,children:p.jsx(Ne,{variant:"ghost",size:"icon",title:"Edit",children:p.jsx(sc,{className:"w-4 h-4 text-blue-600"})})}),u()&&p.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>jo(W),title:"Delete",children:p.jsx(Bd,{className:"w-4 h-4 text-red-600"})})]})})]},W._id||W.id))})]})}),nr>1&&p.jsxs("div",{className:"mt-6 flex items-center justify-between bg-surface/40 backdrop-blur-xl border border-border/50 rounded-xl p-4",children:[p.jsxs("div",{className:"text-sm text-muted",children:["Showing ",fa+1," to ",Math.min(rr,pr.length)," of ",pr.length," posts"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ne,{onClick:re,disabled:B===1,variant:"outline",className:"px-3 py-1.5 text-sm",children:"Previous"}),p.jsx("div",{className:"flex gap-1",children:[...Array(nr)].map((W,Qe)=>{const en=Qe+1;return en===1||en===nr||en>=B-1&&en<=B+1?p.jsx("button",{onClick:()=>zt(en),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${B===en?"bg-accent text-white":"bg-surface hover:bg-surface-hover text-foreground"}`,children:en},en):en===B-2||en===B+2?p.jsx("span",{className:"px-2 text-muted",children:"..."},en):null})}),p.jsx(Ne,{onClick:ye,disabled:B===nr,variant:"outline",className:"px-3 py-1.5 text-sm",children:"Next"})]})]})]}),x==="admins"&&p.jsxs("div",{className:"space-y-6",children:[F&&p.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[p.jsx("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-xl p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Hd,{className:"w-8 h-8 text-accent"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted",children:"Total Admins"}),p.jsx("p",{className:"text-2xl font-bold",children:F.total})]})]})}),p.jsx("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-xl p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(yw,{className:"w-8 h-8 text-success"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted",children:"Active"}),p.jsx("p",{className:"text-2xl font-bold",children:F.active})]})]})}),p.jsx("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-xl p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(_g,{className:"w-8 h-8 text-purple-500"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted",children:"Admins"}),p.jsx("p",{className:"text-2xl font-bold",children:F.byRole?.admin||0})]})]})}),p.jsx("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-xl p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(LL,{className:"w-8 h-8 text-blue-500"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted",children:"Moderators"}),p.jsx("p",{className:"text-2xl font-bold",children:F.byRole?.moderator||0})]})]})})]}),ee&&p.jsxs("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-6 shadow-xl",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:"text-xl font-serif",children:"Users"}),p.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>te(!1),children:p.jsx(Tc,{className:"w-4 h-4"})})]}),p.jsx("p",{className:"text-sm text-muted mb-4",children:"Select users from your Firebase Authentication to add them to the admin whitelist."}),p.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:M.map(W=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/60 border border-border/30 rounded-lg hover:border-accent/30 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[W.photoURL?p.jsx("img",{src:W.photoURL,alt:W.displayName,className:"w-10 h-10 rounded-full"}):p.jsx("div",{className:"w-10 h-10 rounded-full bg-accent flex items-center justify-center text-white font-medium",children:W.displayName.charAt(0).toUpperCase()}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:W.displayName}),p.jsx("p",{className:"text-xs text-muted",children:W.email})]})]}),W.isAdmin?p.jsxs("span",{className:"text-xs text-success flex items-center gap-1",children:[p.jsx(yw,{className:"w-4 h-4"})," Added Role"]}):p.jsx(Ne,{size:"sm",onClick:()=>gi(W),children:"Add Role"})]},W.uid))})]}),ke&&p.jsxs("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-6 shadow-xl",children:[p.jsx("h3",{className:"text-xl font-serif mb-4",children:ie?"Edit Role":"Add New Role"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),p.jsx(qt,{value:K.name,onChange:W=>R({...K,name:W.target.value}),placeholder:"John Doe"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),p.jsx(qt,{type:"email",value:K.email,onChange:W=>R({...K,email:W.target.value}),placeholder:"john@example.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role"}),p.jsxs("select",{value:K.role,onChange:W=>R({...K,role:W.target.value}),className:"w-full pl-3 pr-12 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent appearance-none bg-no-repeat bg-[length:1.5em_1.5em] bg-[center_right_0.5rem]",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`},children:[p.jsx("option",{value:"editor",children:"Editor"}),p.jsx("option",{value:"moderator",children:"Moderator"}),p.jsx("option",{value:"admin",children:"Admin"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),p.jsxs("select",{value:K.isActive.toString(),onChange:W=>R({...K,isActive:W.target.value==="true"}),className:"w-full pl-3 pr-12 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent appearance-none bg-no-repeat bg-[length:1.5em_1.5em] bg-[center_right_0.5rem]",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`},children:[p.jsx("option",{value:"true",children:"Active"}),p.jsx("option",{value:"false",children:"Inactive"})]})]})]}),p.jsxs("div",{className:"flex gap-2 mt-4",children:[p.jsx(Ne,{onClick:ie?on:We,children:ie?"Update Role":"Add Role"}),p.jsx(Ne,{variant:"outline",onClick:da,children:"Cancel"})]})]}),p.jsx("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl shadow-2xl shadow-black/30 overflow-hidden",children:p.jsx("div",{className:"overflow-x-auto",children:ne?p.jsx("div",{className:"flex justify-center items-center py-20",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent"})}):p.jsxs("table",{className:"w-full text-left text-sm",children:[p.jsx("thead",{className:"bg-surface/60 backdrop-blur-sm border-b border-border/50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 font-medium text-muted",children:"Name"}),p.jsx("th",{className:"p-4 font-medium text-muted",children:"Email"}),p.jsx("th",{className:"p-4 font-medium text-muted",children:"Role"}),p.jsx("th",{className:"p-4 font-medium text-muted",children:"Status"}),p.jsx("th",{className:"p-4 font-medium text-muted",children:"Added On"}),p.jsx("th",{className:"p-4 font-medium text-muted text-right",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-border",children:H.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"6",className:"p-8 text-center text-muted",children:"No admins found. Add one to get started!"})}):H.map(W=>p.jsxs("tr",{className:"hover:bg-surface-hover transition-colors",children:[p.jsx("td",{className:"p-4 font-medium",children:W.name}),p.jsx("td",{className:"p-4 text-muted",children:W.email}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${tr(W.role)}`,children:W.role})}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${W.isActive?"bg-success/20 text-success border border-success/30":"bg-muted/20 text-muted border border-muted/30"}`,children:W.isActive?"Active":"Inactive"})}),p.jsx("td",{className:"p-4 tabular-nums text-muted",children:new Date(W.createdAt).toLocaleDateString()}),p.jsx("td",{className:"p-4 text-right",children:p.jsxs("div",{className:"flex justify-end gap-1",children:[p.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>Dn(W),title:"Edit",children:p.jsx(sc,{className:"w-4 h-4 text-blue-600"})}),p.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>ve({isOpen:!0,adminId:W._id,adminName:W.name}),title:"Delete",children:p.jsx(Bd,{className:"w-4 h-4 text-red-600"})})]})})]},W._id))})]})})})]})]})};var Um={exports:{}},Hm={};var Fw;function Tz(){if(Fw)return Hm;Fw=1;var t=yc();function e(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function u(y,x){var v=x(),w=r({inst:{value:v,getSnapshot:x}}),k=w[0].inst,E=w[1];return o(function(){k.value=v,k.getSnapshot=x,f(k)&&E({inst:k})},[y,v,x]),i(function(){return f(k)&&E({inst:k}),y(function(){f(k)&&E({inst:k})})},[y]),l(v),v}function f(y){var x=y.getSnapshot;y=y.value;try{var v=x();return!n(y,v)}catch{return!0}}function h(y,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return Hm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Hm}var Gw;function zN(){return Gw||(Gw=1,Um.exports=Tz()),Um.exports}var PN=zN();function $t(t){this.content=t}$t.prototype={constructor:$t,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new $t(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new $t(n)},addToStart:function(t,e){return new $t([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new $t(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new $t(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=$t.from(t),t.size?new $t(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=$t.from(t),t.size?new $t(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=$t.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};$t.from=function(t){if(t instanceof $t)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new $t(e)};function BN(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let l=0;i.text[l]==o.text[l];l++)n++;return n}if(i.content.size||o.content.size){let l=BN(i.content,o.content,n+1);if(l!=null)return l}n+=i.nodeSize}}function UN(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let l=t.child(--i),u=e.child(--o),f=l.nodeSize;if(l==u){n-=f,r-=f;continue}if(!l.sameMarkup(u))return{a:n,b:r};if(l.isText&&l.text!=u.text){let h=0,m=Math.min(l.text.length,u.text.length);for(;h<m&&l.text[l.text.length-h-1]==u.text[u.text.length-h-1];)h++,n--,r--;return{a:n,b:r}}if(l.content.size||u.content.size){let h=UN(l.content,u.content,n-1,r-1);if(h)return h}n-=f,r-=f}}class se{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let l=0,u=0;u<n;l++){let f=this.content[l],h=u+f.nodeSize;if(h>e&&r(f,i+u,o||null,l)!==!1&&f.content.size){let m=u+1;f.nodesBetween(Math.max(0,e-m),Math.min(f.content.size,n-m),r,i+m)}u=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",l=!0;return this.nodesBetween(e,n,(u,f)=>{let h=u.isText?u.text.slice(Math.max(e,f)-f,n-f):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&r&&(l?l=!1:o+=r),o+=h},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new se(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,l=0;l<n;o++){let u=this.content[o],f=l+u.nodeSize;f>e&&((l<e||f>n)&&(u.isText?u=u.cut(Math.max(0,e-l),Math.min(u.text.length,n-l)):u=u.cut(Math.max(0,e-l-1),Math.min(u.content.size,n-l-1))),r.push(u),i+=u.nodeSize),l=f}return new se(r,i)}cutByIndex(e,n){return e==n?se.empty:e==0&&n==this.content.length?this:new se(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new se(i,o)}addToStart(e){return new se([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new se(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return BN(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return UN(this,e,n,r)}findIndex(e){if(e==0)return sd(0,e);if(e==this.size)return sd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=e)return o==e?sd(n+1,o):sd(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return se.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new se(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return se.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new se(n||e,r)}static from(e){if(!e)return se.empty;if(e instanceof se)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new se([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}se.empty=new se([],0);const Vm={index:0,offset:0};function sd(t,e){return Vm.index=t,Vm.offset=e,Vm}function qd(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!qd(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!qd(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let it=class Pg{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&qd(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Pg.none;if(e instanceof Pg)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};it.none=[];class Fd extends Error{}class ce{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=VN(this.content,e+this.openStart,n);return r&&new ce(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ce(HN(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ce.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ce(se.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new ce(e,r,i)}}ce.empty=new ce(se.empty,0,0);function HN(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:l,offset:u}=t.findIndex(n);if(i==e||o.isText){if(u!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(HN(o.content,e-i-1,n-i-1)))}function VN(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),l=t.maybeChild(i);if(o==e||l.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let u=VN(l.content,e-o-1,n,l);return u&&t.replaceChild(i,l.copy(u))}function Az(t,e,n){if(n.openStart>t.depth)throw new Fd("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Fd("Inconsistent open depths");return $N(t,e,n,0)}function $N(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let l=$N(t,e,n,r+1);return o.copy(o.content.replaceChild(i,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,u=l.content;return Yi(l,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{let{start:l,end:u}=Mz(n,t);return Yi(o,FN(t,l,u,e,r))}else return Yi(o,Gd(t,e,r))}function qN(t,e){if(!e.type.compatibleContent(t.type))throw new Fd("Cannot join "+e.type.name+" onto "+t.type.name)}function Bg(t,e,n){let r=t.node(n);return qN(r,e.node(n)),r}function Wi(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function ql(t,e,n,r){let i=(e||t).node(n),o=0,l=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Wi(t.nodeAfter,r),o++));for(let u=o;u<l;u++)Wi(i.child(u),r);e&&e.depth==n&&e.textOffset&&Wi(e.nodeBefore,r)}function Yi(t,e){return t.type.checkContent(e),t.copy(e)}function FN(t,e,n,r,i){let o=t.depth>i&&Bg(t,e,i+1),l=r.depth>i&&Bg(n,r,i+1),u=[];return ql(null,t,i,u),o&&l&&e.index(i)==n.index(i)?(qN(o,l),Wi(Yi(o,FN(t,e,n,r,i+1)),u)):(o&&Wi(Yi(o,Gd(t,e,i+1)),u),ql(e,n,i,u),l&&Wi(Yi(l,Gd(n,r,i+1)),u)),ql(r,null,i,u),new se(u)}function Gd(t,e,n){let r=[];if(ql(null,t,n,r),t.depth>n){let i=Bg(t,e,n+1);Wi(Yi(i,Gd(t,e,n+1)),r)}return ql(e,null,n,r),new se(r)}function Mz(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(se.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class ac{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return it.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let u=r;r=i,i=u}let o=r.marks;for(var l=0;l<o.length;l++)o[l].type.spec.inclusive===!1&&(!i||!o[l].isInSet(i.marks))&&(o=o[l--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Kd(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let l=e;;){let{index:u,offset:f}=l.content.findIndex(o),h=o-f;if(r.push(l,u,i+f),!h||(l=l.child(u),l.isText))break;o=h-1,i+=f+1}return new ac(n,r,o)}static resolveCached(e,n){let r=Kw.get(e);if(r)for(let o=0;o<r.elts.length;o++){let l=r.elts[o];if(l.pos==n)return l}else Kw.set(e,r=new Oz);let i=r.elts[r.i]=ac.resolve(e,n);return r.i=(r.i+1)%Rz,i}}class Oz{constructor(){this.elts=[],this.i=0}}const Rz=12,Kw=new WeakMap;class Kd{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const _z=Object.create(null);class dr{constructor(e,n,r,i=it.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||se.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&qd(this.attrs,n||e.defaultAttrs||_z)&&it.sameSet(this.marks,r||it.none)}copy(e=null){return e==this.content?this:new dr(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new dr(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ce.empty;let i=this.resolve(e),o=this.resolve(n),l=r?0:i.sharedDepth(n),u=i.start(l),h=i.node(l).content.cut(i.pos-u,o.pos-u);return new ce(h,i.depth-l,o.depth-l)}replace(e,n,r){return Az(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return ac.resolveCached(this,e)}resolveNoCache(e){return ac.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),GN(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=se.empty,i=0,o=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,o),u=l&&l.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let f=i;f<o;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),l=o&&o.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=it.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!it.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=se.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}}dr.prototype.text=void 0;class Wd extends dr{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):GN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Wd(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Wd(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function GN(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ra{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new jz(e,n);if(r.next==null)return ra.empty;let i=KN(r);r.next&&r.err("Unexpected trailing text");let o=Uz(Bz(i));return Hz(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(l,u){let f=l.matchFragment(e,r);if(f&&(!n||f.validEnd))return se.from(u.map(h=>h.createAndFill()));for(let h=0;h<l.next.length;h++){let{type:m,next:y}=l.next[h];if(!(m.isText||m.hasRequiredAttrs())&&i.indexOf(y)==-1){i.push(y);let x=o(y,u.concat(m));if(x)return x}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let l=[];for(let u=i;u.type;u=u.via)l.push(u.type);return l.reverse()}for(let l=0;l<o.next.length;l++){let{type:u,next:f}=o.next[l];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!i.type||f.validEnd)&&(r.push({match:u.contentMatch,type:u,via:i}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)o+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return o}).join(`
`)}}ra.empty=new ra(!0);class jz{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function KN(t){let e=[];do e.push(Dz(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Dz(t){let e=[];do e.push(Lz(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Lz(t){let e=Pz(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Iz(t,e);else break;return e}function Ww(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Iz(t,e){let n=Ww(t),r=n;return t.eat(",")&&(t.next!="}"?r=Ww(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function zz(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let l=n[o];l.isInGroup(e)&&i.push(l)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Pz(t){if(t.eat("(")){let e=KN(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=zz(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Bz(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(l,u,f){let h={term:f,to:u};return e[l].push(h),h}function i(l,u){l.forEach(f=>f.to=u)}function o(l,u){if(l.type=="choice")return l.exprs.reduce((f,h)=>f.concat(o(h,u)),[]);if(l.type=="seq")for(let f=0;;f++){let h=o(l.exprs[f],u);if(f==l.exprs.length-1)return h;i(h,u=n())}else if(l.type=="star"){let f=n();return r(u,f),i(o(l.expr,f),f),[r(f)]}else if(l.type=="plus"){let f=n();return i(o(l.expr,u),f),i(o(l.expr,f),f),[r(f)]}else{if(l.type=="opt")return[r(u)].concat(o(l.expr,u));if(l.type=="range"){let f=u;for(let h=0;h<l.min;h++){let m=n();i(o(l.expr,f),m),f=m}if(l.max==-1)i(o(l.expr,f),f);else for(let h=l.min;h<l.max;h++){let m=n();r(f,m),i(o(l.expr,f),m),f=m}return[r(f)]}else{if(l.type=="name")return[r(u,void 0,l.value)];throw new Error("Unknown expr type")}}}}function WN(t,e){return e-t}function Yw(t,e){let n=[];return r(e),n.sort(WN);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let l=0;l<o.length;l++){let{term:u,to:f}=o[l];!u&&n.indexOf(f)==-1&&r(f)}}}function Uz(t){let e=Object.create(null);return n(Yw(t,0));function n(r){let i=[];r.forEach(l=>{t[l].forEach(({term:u,to:f})=>{if(!u)return;let h;for(let m=0;m<i.length;m++)i[m][0]==u&&(h=i[m][1]);Yw(t,f).forEach(m=>{h||i.push([u,h=[]]),h.indexOf(m)==-1&&h.push(m)})})});let o=e[r.join(",")]=new ra(r.indexOf(t.length-1)>-1);for(let l=0;l<i.length;l++){let u=i[l][1].sort(WN);o.next.push({type:i[l][0],next:e[u.join(",")]||n(u)})}return o}}function Hz(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,l=[];for(let u=0;u<i.next.length;u++){let{type:f,next:h}=i.next[u];l.push(f.name),o&&!(f.isText||f.hasRequiredAttrs())&&(o=!1),r.indexOf(h)==-1&&r.push(h)}o&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function YN(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function JN(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function XN(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function QN(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new $z(t,r,e[r]);return n}let Jw=class ZN{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=QN(e,r.attrs),this.defaultAttrs=YN(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ra.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:JN(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new dr(this,this.computeAttrs(e),se.from(n),it.setFrom(r))}createChecked(e=null,n,r){return n=se.from(n),this.checkContent(n),new dr(this,this.computeAttrs(e),n,it.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=se.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(se.empty,!0);return o?new dr(this,e,n.append(o),it.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){XN(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:it.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,l)=>r[o]=new ZN(o,n,l));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Vz(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class $z{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Vz(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Gf{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=QN(e,i.attrs),this.excluded=null;let o=YN(this.attrs);this.instance=o?new it(this,o):null}create(e=null){return!e&&this.instance?this.instance:new it(this,JN(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,l)=>r[o]=new Gf(o,i++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){XN(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class eC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=$t.from(e.nodes),n.marks=$t.from(e.marks||{}),this.nodes=Jw.compile(this.spec.nodes,this),this.marks=Gf.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],l=o.spec.content||"",u=o.spec.marks;if(o.contentMatch=r[l]||(r[l]=ra.parse(l,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=u=="_"?null:u?Xw(this,u.split(" ")):u==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],l=o.spec.excludes;o.excluded=l==null?[o]:l==""?[]:Xw(this,l.split(" "))}this.nodeFromJSON=i=>dr.fromJSON(this,i),this.markFromJSON=i=>it.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Jw){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Wd(r,r.defaultAttrs,e,it.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Xw(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],l=o;if(o)n.push(o);else for(let u in t.marks){let f=t.marks[u];(i=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(i)>-1)&&n.push(l=f)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function qz(t){return t.tag!=null}function Fz(t){return t.style!=null}class ni{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(qz(i))this.tags.push(i);else if(Fz(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new Zw(this,n,!1);return r.addAll(e,it.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Zw(this,n,!0);return r.addAll(e,it.none,n.from,n.to),ce.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(Wz(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let l=o.getAttrs(e);if(l===!1)continue;o.attrs=l||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let l=this.styles[o],u=l.style;if(!(u.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(l.getAttrs){let f=l.getAttrs(n);if(f===!1)continue;l.attrs=f||void 0}return l}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,l=0;for(;l<n.length;l++){let u=n[l];if((u.priority==null?50:u.priority)<o)break}n.splice(l,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(l=>{r(l=eS(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(l=>{r(l=eS(l)),l.node||l.ignore||l.mark||(l.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ni(e,ni.schemaRules(e)))}}const tC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Gz={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},nC={ol:!0,ul:!0},oc=1,Ug=2,Fl=4;function Qw(t,e,n){return e!=null?(e?oc:0)|(e==="full"?Ug:0):t&&t.whitespace=="pre"?oc|Ug:n&~Fl}class id{constructor(e,n,r,i,o,l){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=it.none,this.match=o||(l&Fl?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(se.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&oc)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=se.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(se.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!tC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Zw{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,l=Qw(null,n.preserveWhitespace,0)|(r?Fl:0);i?o=new id(i.type,i.attrs,it.none,!0,n.topMatch||i.type.contentMatch,l):r?o=new id(null,null,it.none,!0,null,l):o=new id(e.schema.topNodeType,null,it.none,!0,null,l),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,o=i.options&Ug?"full":this.localPreserveWS||(i.options&oc)>0,{schema:l}=this.parser;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(l.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(l.linebreakReplacement.create())){let u=r.split(/\r?\n|\r/);for(let f=0;f<u.length;f++)f&&this.insertNode(l.linebreakReplacement.create(),n,!0),u[f]&&this.insertNode(l.text(u[f]),n,!/\S/.test(u[f]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let u=i.content[i.content.length-1],f=e.previousSibling;(!u||f&&f.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(r=r.slice(1))}r&&this.insertNode(l.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),u;nC.hasOwnProperty(l)&&this.parser.normalizeLists&&Kz(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(f?f.ignore:Gz.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let h,m=this.needsBlock;if(tC.hasOwnProperty(l))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),h=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let y=f&&f.skip?n:this.readStyles(e,n);y&&this.addAll(e,y),h&&this.sync(o),this.needsBlock=m}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,f,h,f.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],l=r.getPropertyValue(o);if(l)for(let u=void 0;;){let f=this.parser.matchStyle(o,l,this,u);if(!f)break;if(f.ignore)return null;if(f.clearMark?n=n.filter(h=>!f.clearMark(h)):n=n.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)u=f;else break}}return n}addElementByRule(e,n,r,i){let o,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let f=this.enter(l,n.attrs||null,r,n.preserveWhitespace);f&&(o=!0,r=f)}else{let f=this.parser.schema.marks[n.mark];r=r.concat(f.create(n.attrs))}let u=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,r,!1));else{let f=e;typeof n.contentElement=="string"?f=e.querySelector(n.contentElement):typeof n.contentElement=="function"?f=n.contentElement(e):n.contentElement&&(f=n.contentElement),this.findAround(e,f,!0),this.addAll(f,r),this.findAround(e,f,!1)}o&&this.sync(u)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let l=r?e.childNodes[r]:e.firstChild,u=i==null?null:e.childNodes[i];l!=u;l=l.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(l,n);this.findAtPoint(e,o)}findPlace(e,n,r){let i,o;for(let l=this.open,u=0;l>=0;l--){let f=this.nodes[l],h=f.findWrapping(e);if(h&&(!i||i.length>h.length+u)&&(i=h,o=f,!h.length))break;if(f.solid){if(r)break;u+=2}}if(!i)return null;this.sync(o);for(let l=0;l<i.length;l++)n=this.enterInner(i[l],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let l=it.none;for(let u of i.concat(e.marks))(o.type?o.type.allowsMarkType(u.type):tS(u.type,e.type))&&(l=u.addToSet(l));return o.content.push(e.mark(l)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r,!1);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let u=Qw(e,o,l.options);l.options&Fl&&l.content.length==0&&(u|=Fl);let f=it.none;return r=r.filter(h=>(l.type?l.type.allowsMarkType(h.type):tS(h.type,e))?(f=h.addToSet(f),!1):!0),this.nodes.push(new id(e,n,f,i,null,u)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=oc)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),l=(u,f)=>{for(;u>=0;u--){let h=n[u];if(h==""){if(u==n.length-1||u==0)continue;for(;f>=o;f--)if(l(u-1,f))return!0;return!1}else{let m=f>0||f==0&&i?this.nodes[f].type:r&&f>=o?r.node(f-o).type:null;if(!m||m.name!=h&&!m.isInGroup(h))return!1;f--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function Kz(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&nC.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Wz(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function eS(t){let e={};for(let n in t)e[n]=t[n];return e}function tS(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],l=u=>{o.push(u);for(let f=0;f<u.edgeCount;f++){let{type:h,next:m}=u.edge(f);if(h==e||o.indexOf(m)<0&&l(m))return!0}};if(l(i.contentMatch))return!0}}class ca{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=$m(n).createDocumentFragment());let i=r,o=[];return e.forEach(l=>{if(o.length||l.marks.length){let u=0,f=0;for(;u<o.length&&f<l.marks.length;){let h=l.marks[f];if(!this.marks[h.type.name]){f++;continue}if(!h.eq(o[u][0])||h.type.spec.spanning===!1)break;u++,f++}for(;u<o.length;)i=o.pop()[1];for(;f<l.marks.length;){let h=l.marks[f++],m=this.serializeMark(h,l.isInline,n);m&&(o.push([h,i]),i.appendChild(m.dom),i=m.contentDOM||m.dom)}}i.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Cd($m(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Cd($m(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Cd(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ca(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=nS(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return nS(e.marks)}}function nS(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function $m(t){return t.document||window.document}const rS=new WeakMap;function Yz(t){let e=rS.get(t);return e===void 0&&rS.set(t,e=Jz(t)),e}function Jz(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Cd(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=Yz(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(n=i.slice(0,l),i=i.slice(l+1));let u,f=n?t.createElementNS(n,i):t.createElement(i),h=e[1],m=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){m=2;for(let y in h)if(h[y]!=null){let x=y.indexOf(" ");x>0?f.setAttributeNS(y.slice(0,x),y.slice(x+1),h[y]):y=="style"&&f.style?f.style.cssText=h[y]:f.setAttribute(y,h[y])}}for(let y=m;y<e.length;y++){let x=e[y];if(x===0){if(y<e.length-1||y>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:v,contentDOM:w}=Cd(t,x,n,r);if(f.appendChild(v),w){if(u)throw new RangeError("Multiple content holes");u=w}}}return{dom:f,contentDOM:u}}const rC=65535,sC=Math.pow(2,16);function Xz(t,e){return t+e*sC}function sS(t){return t&rC}function Qz(t){return(t-(t&rC))/sC}const iC=1,aC=2,Td=4,oC=8;class Hg{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&oC)>0}get deletedBefore(){return(this.delInfo&(iC|Td))>0}get deletedAfter(){return(this.delInfo&(aC|Td))>0}get deletedAcross(){return(this.delInfo&Td)>0}}class On{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&On.empty)return On.empty}recover(e){let n=0,r=sS(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Qz(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?i:0);if(f>e)break;let h=this.ranges[u+o],m=this.ranges[u+l],y=f+h;if(e<=y){let x=h?e==f?-1:e==y?1:n:n,v=f+i+(x<0?0:m);if(r)return v;let w=e==(n<0?f:y)?null:Xz(u/3,e-f),k=e==f?aC:e==y?iC:Td;return(n<0?e!=f:e!=y)&&(k|=oC),new Hg(v,k,w)}i+=m-h}return r?e+i:new Hg(e+i,0,null)}touches(e,n){let r=0,i=sS(n),o=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?r:0);if(f>e)break;let h=this.ranges[u+o],m=f+h;if(e<=m&&u==i*3)return!0;r+=this.ranges[u+l]-h}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let l=this.ranges[i],u=l-(this.inverted?o:0),f=l+(this.inverted?0:o),h=this.ranges[i+n],m=this.ranges[i+r];e(u,u+h,f,f+m),o+=m-h}}invert(){return new On(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?On.empty:new On(e<0?[0,-e,0]:[0,0,e])}}On.empty=new On([]);class lc{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new lc(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new lc;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let l=this._maps[o],u=l.mapResult(e,n);if(u.recover!=null){let f=this.getMirror(o);if(f!=null&&f>o&&f<this.to){o=f,e=this._maps[f].recover(u.recover);continue}}i|=u.delInfo,e=u.pos}return r?e:new Hg(e,i,null)}}const qm=Object.create(null);class Zt{getMap(){return On.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=qm[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in qm)throw new RangeError("Duplicate use of step JSON ID "+e);return qm[e]=n,n.prototype.jsonID=e,n}}class Ct{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ct(e,null)}static fail(e){return new Ct(null,e)}static fromReplace(e,n,r,i){try{return Ct.ok(e.replace(n,r,i))}catch(o){if(o instanceof Fd)return Ct.fail(o.message);throw o}}}function Uy(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Uy(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return se.fromArray(r)}class Xs extends Zt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new ce(Uy(n.content,(l,u)=>!l.isAtom||!u.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return Ct.fromReplace(e,this.from,this.to,o)}invert(){return new cr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Xs(n.pos,r.pos,this.mark)}merge(e){return e instanceof Xs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Xs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Xs(n.from,n.to,e.markFromJSON(n.mark))}}Zt.jsonID("addMark",Xs);class cr extends Zt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ce(Uy(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Ct.fromReplace(e,this.from,this.to,r)}invert(){return new Xs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new cr(n.pos,r.pos,this.mark)}merge(e){return e instanceof cr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new cr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new cr(n.from,n.to,e.markFromJSON(n.mark))}}Zt.jsonID("removeMark",cr);class Qs extends Zt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ct.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ct.fromReplace(e,this.pos,this.pos+1,new ce(se.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Qs(this.pos,n.marks[i]);return new Qs(this.pos,this.mark)}}return new sa(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Qs(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Qs(n.pos,e.markFromJSON(n.mark))}}Zt.jsonID("addNodeMark",Qs);class sa extends Zt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ct.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ct.fromReplace(e,this.pos,this.pos+1,new ce(se.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Qs(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new sa(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new sa(n.pos,e.markFromJSON(n.mark))}}Zt.jsonID("removeNodeMark",sa);class jt extends Zt{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Vg(e,this.from,this.to)?Ct.fail("Structure replace would overwrite content"):Ct.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new On([this.from,this.to-this.from,this.slice.size])}invert(e){return new jt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new jt(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof jt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ce.empty:new ce(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new jt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ce.empty:new ce(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new jt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new jt(n.from,n.to,ce.fromJSON(e,n.slice),!!n.structure)}}Zt.jsonID("replace",jt);class Lt extends Zt{constructor(e,n,r,i,o,l,u=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=l,this.structure=u}apply(e){if(this.structure&&(Vg(e,this.from,this.gapFrom)||Vg(e,this.gapTo,this.to)))return Ct.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ct.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Ct.fromReplace(e,this.from,this.to,r):Ct.fail("Content does not fit in gap")}getMap(){return new On([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Lt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Lt(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Lt(n.from,n.to,n.gapFrom,n.gapTo,ce.fromJSON(e,n.slice),n.insert,!!n.structure)}}Zt.jsonID("replaceAround",Lt);function Vg(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let l=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function Zz(t,e,n,r){let i=[],o=[],l,u;t.doc.nodesBetween(e,n,(f,h,m)=>{if(!f.isInline)return;let y=f.marks;if(!r.isInSet(y)&&m.type.allowsMarkType(r.type)){let x=Math.max(h,e),v=Math.min(h+f.nodeSize,n),w=r.addToSet(y);for(let k=0;k<y.length;k++)y[k].isInSet(w)||(l&&l.to==x&&l.mark.eq(y[k])?l.to=v:i.push(l=new cr(x,v,y[k])));u&&u.to==x?u.to=v:o.push(u=new Xs(x,v,r))}}),i.forEach(f=>t.step(f)),o.forEach(f=>t.step(f))}function e6(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(l,u)=>{if(!l.isInline)return;o++;let f=null;if(r instanceof Gf){let h=l.marks,m;for(;m=r.isInSet(h);)(f||(f=[])).push(m),h=m.removeFromSet(h)}else r?r.isInSet(l.marks)&&(f=[r]):f=l.marks;if(f&&f.length){let h=Math.min(u+l.nodeSize,n);for(let m=0;m<f.length;m++){let y=f[m],x;for(let v=0;v<i.length;v++){let w=i[v];w.step==o-1&&y.eq(i[v].style)&&(x=w)}x?(x.to=h,x.step=o):i.push({style:y,from:Math.max(u,e),to:h,step:o})}}}),i.forEach(l=>t.step(new cr(l.from,l.to,l.style)))}function Hy(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),l=[],u=e+1;for(let f=0;f<o.childCount;f++){let h=o.child(f),m=u+h.nodeSize,y=r.matchType(h.type);if(!y)l.push(new jt(u,m,ce.empty));else{r=y;for(let x=0;x<h.marks.length;x++)n.allowsMarkType(h.marks[x].type)||t.step(new cr(u,m,h.marks[x]));if(i&&h.isText&&n.whitespace!="pre"){let x,v=/\r?\n|\r/g,w;for(;x=v.exec(h.text);)w||(w=new ce(se.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),l.push(new jt(u+x.index,u+x.index+x[0].length,w))}}u=m}if(!r.validEnd){let f=r.fillBefore(se.empty,!0);t.replace(u,u,new ce(f,0,0))}for(let f=l.length-1;f>=0;f--)t.step(l[f])}function t6(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function _o(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,i=0,o=0;;--r){let l=t.$from.node(r),u=t.$from.index(r)+i,f=t.$to.indexAfter(r)-o;if(r<t.depth&&l.canReplace(u,f,n))return r;if(r==0||l.type.spec.isolating||!t6(l,u,f))break;u&&(i=1),f<l.childCount&&(o=1)}return null}function n6(t,e,n){let{$from:r,$to:i,depth:o}=e,l=r.before(o+1),u=i.after(o+1),f=l,h=u,m=se.empty,y=0;for(let w=o,k=!1;w>n;w--)k||r.index(w)>0?(k=!0,m=se.from(r.node(w).copy(m)),y++):f--;let x=se.empty,v=0;for(let w=o,k=!1;w>n;w--)k||i.after(w+1)<i.end(w)?(k=!0,x=se.from(i.node(w).copy(x)),v++):h++;t.step(new Lt(f,h,l,u,new ce(m.append(x),y,v),m.size-y,!0))}function Vy(t,e,n=null,r=t){let i=r6(t,e),o=i&&s6(r,e);return o?i.map(iS).concat({type:e,attrs:n}).concat(o.map(iS)):null}function iS(t){return{type:t,attrs:null}}function r6(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let l=o.length?o[0]:e;return n.canReplaceWith(r,i,l)?o:null}function s6(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),l=e.contentMatch.findWrapping(o.type);if(!l)return null;let f=(l.length?l[l.length-1]:e).contentMatch;for(let h=r;f&&h<i;h++)f=f.matchType(n.child(h).type);return!f||!f.validEnd?null:l}function i6(t,e,n){let r=se.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let u=n[l].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=se.from(n[l].type.create(n[l].attrs,r))}let i=e.start,o=e.end;t.step(new Lt(i,o,i,o,new ce(r,0,0),n.length,!0))}function a6(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(l,u)=>{let f=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,f)&&o6(t.doc,t.mapping.slice(o).map(u),r)){let h=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!w?h=!1:!v&&w&&(h=!0)}h===!1&&cC(t,l,u,o),Hy(t,t.mapping.slice(o).map(u,1),r,void 0,h===null);let m=t.mapping.slice(o),y=m.map(u,1),x=m.map(u+l.nodeSize,1);return t.step(new Lt(y,x,y+1,x-1,new ce(se.from(r.create(f,null,l.marks)),0,0),1,!0)),h===!0&&lC(t,l,u,o),!1}})}function lC(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let l,u=/\r?\n|\r/g;for(;l=u.exec(i.text);){let f=t.mapping.slice(r).map(n+1+o+l.index);t.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function cC(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let l=t.mapping.slice(r).map(n+1+o);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function o6(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function l6(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let l=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,l);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Lt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new ce(se.from(l),0,0),1,!0))}function ss(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,l=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let h=i.depth-1,m=n-2;h>o;h--,m--){let y=i.node(h),x=i.index(h);if(y.type.spec.isolating)return!1;let v=y.content.cutByIndex(x,y.childCount),w=r&&r[m+1];w&&(v=v.replaceChild(0,w.type.create(w.attrs)));let k=r&&r[m]||y;if(!y.canReplace(x+1,y.childCount)||!k.type.validContent(v))return!1}let u=i.indexAfter(o),f=r&&r[0];return i.node(o).canReplaceWith(u,u,f?f.type:i.node(o+1).type)}function c6(t,e,n=1,r){let i=t.doc.resolve(e),o=se.empty,l=se.empty;for(let u=i.depth,f=i.depth-n,h=n-1;u>f;u--,h--){o=se.from(i.node(u).copy(o));let m=r&&r[h];l=se.from(m?m.type.create(m.attrs,l):i.node(u).copy(l))}t.step(new jt(e,e,new ce(o.append(l),n,n),!0))}function hi(t,e){let n=t.resolve(e),r=n.index();return uC(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function u6(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),l=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function uC(t,e){return!!(t&&e&&!t.isLeaf&&u6(t,e))}function Kf(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,l,u=r.index(i);if(i==r.depth?(o=r.nodeBefore,l=r.nodeAfter):n>0?(o=r.node(i+1),u++,l=r.node(i).maybeChild(u)):(o=r.node(i).maybeChild(u-1),l=r.node(i+1)),o&&!o.isTextblock&&uC(o,l)&&r.node(i).canReplace(u,u+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function d6(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-n),l=o.node().type;if(i&&l.inlineContent){let m=l.whitespace=="pre",y=!!l.contentMatch.matchType(i);m&&!y?r=!1:!m&&y&&(r=!0)}let u=t.steps.length;if(r===!1){let m=t.doc.resolve(e+n);cC(t,m.node(),m.before(),u)}l.inlineContent&&Hy(t,e+n-1,l,o.node().contentMatchAt(o.index()),r==null);let f=t.mapping.slice(u),h=f.map(e-n);if(t.step(new jt(h,f.map(e+n,-1),ce.empty,!0)),r===!0){let m=t.doc.resolve(h);lC(t,m.node(),m.before(),t.steps.length)}return t}function f6(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function dC(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let l=r.depth;l>=0;l--){let u=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,f=r.index(l)+(u>0?1:0),h=r.node(l),m=!1;if(o==1)m=h.canReplace(f,f,i);else{let y=h.contentMatchAt(f).findWrapping(i.firstChild.type);m=y&&h.canReplaceWith(f,f,y[0])}if(m)return u==0?r.pos:u<0?r.before(l+1):r.after(l+1)}return null}function Wf(t,e,n=e,r=ce.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return fC(i,o,r)?new jt(e,n,r):new h6(i,o,r).fit()}function fC(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class h6{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=se.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=se.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,l=r.depth,u=i.depth;for(;l&&u&&o.childCount==1;)o=o.firstChild.content,l--,u--;let f=new ce(o,l,u);return e>-1?new Lt(r.pos,e,this.$to.pos,this.$to.end(),f,n):f.size||r.pos!=this.$to.pos?new jt(r.pos,i.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Fm(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let l=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:f,match:h}=this.frontier[u],m,y=null;if(n==1&&(l?h.matchType(l.type)||(y=h.fillBefore(se.from(l),!1)):o&&f.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:u,parent:o,inject:y};if(n==2&&l&&(m=h.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:u,parent:o,wrap:m};if(o&&h.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Fm(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ce(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Fm(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new ce(zl(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new ce(zl(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let k=0;k<o.length;k++)this.openFrontierNode(o[k]);let l=this.unplaced,u=r?r.content:l.content,f=l.openStart-e,h=0,m=[],{match:y,type:x}=this.frontier[n];if(i){for(let k=0;k<i.childCount;k++)m.push(i.child(k));y=y.matchFragment(i)}let v=u.size+e-(l.content.size-l.openEnd);for(;h<u.childCount;){let k=u.child(h),E=y.matchType(k.type);if(!E)break;h++,(h>1||f==0||k.content.size)&&(y=E,m.push(hC(k.mark(x.allowedMarks(k.marks)),h==1?f:0,h==u.childCount?v:-1)))}let w=h==u.childCount;w||(v=-1),this.placed=Pl(this.placed,n,se.from(m)),this.frontier[n].match=y,w&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,E=u;k<v;k++){let C=E.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),E=C.content}this.unplaced=w?e==0?ce.empty:new ce(zl(l.content,e-1,1),e-1,v<0?l.openEnd:e-1):new ce(zl(l.content,e,h),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Gm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=Gm(e,n,i,r,o);if(l){for(let u=n-1;u>=0;u--){let{match:f,type:h}=this.frontier[u],m=Gm(e,u,h,f,!0);if(!m||m.childCount)continue e}return{depth:n,fit:l,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Pl(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Pl(this.placed,this.depth,se.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(se.empty,!0);n.childCount&&(this.placed=Pl(this.placed,this.frontier.length,n))}}function zl(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(zl(t.firstChild.content,e-1,n)))}function Pl(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Pl(t.lastChild.content,e-1,n)))}function Fm(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function hC(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,hC(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(se.empty,!0)))),t.copy(r)}function Gm(t,e,n,r,i){let o=t.node(e),l=i?t.indexAfter(e):t.index(e);if(l==o.childCount&&!n.compatibleContent(o.type))return null;let u=r.fillBefore(o.content,!0,l);return u&&!p6(n,o.content,l)?u:null}function p6(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function m6(t){return t.spec.defining||t.spec.definingForContent}function g6(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(fC(i,o,r))return t.step(new jt(e,n,r));let l=mC(i,o);l[l.length-1]==0&&l.pop();let u=-(i.depth+1);l.unshift(u);for(let x=i.depth,v=i.pos-1;x>0;x--,v--){let w=i.node(x).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;l.indexOf(x)>-1?u=x:i.before(x)==v&&l.splice(1,0,-x)}let f=l.indexOf(u),h=[],m=r.openStart;for(let x=r.content,v=0;;v++){let w=x.firstChild;if(h.push(w),v==r.openStart)break;x=w.content}for(let x=m-1;x>=0;x--){let v=h[x],w=m6(v.type);if(w&&!v.sameMarkup(i.node(Math.abs(u)-1)))m=x;else if(w||!v.type.isTextblock)break}for(let x=r.openStart;x>=0;x--){let v=(x+m+1)%(r.openStart+1),w=h[v];if(w)for(let k=0;k<l.length;k++){let E=l[(k+f)%l.length],C=!0;E<0&&(C=!1,E=-E);let O=i.node(E-1),j=i.index(E-1);if(O.canReplaceWith(j,j,w.type,w.marks))return t.replace(i.before(E),C?o.after(E):n,new ce(pC(r.content,0,r.openStart,v),v,r.openEnd))}}let y=t.steps.length;for(let x=l.length-1;x>=0&&(t.replace(e,n,r),!(t.steps.length>y));x--){let v=l[x];v<0||(e=i.before(v),n=o.after(v))}}function pC(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(pC(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),l=o.fillBefore(t).append(t);t=l.append(o.matchFragment(l).fillBefore(se.empty,!0))}return t}function y6(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=f6(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new ce(se.from(r),0,0))}function b6(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=mC(r,i);for(let l=0;l<o.length;l++){let u=o[l],f=l==o.length-1;if(f&&u==0||r.node(u).type.contentMatch.validEnd)return t.delete(r.start(u),i.end(u));if(u>0&&(f||r.node(u-1).canReplace(r.index(u-1),i.indexAfter(u-1))))return t.delete(r.before(u),i.after(u))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&i.end(l)-n!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return t.delete(r.before(l),n);t.delete(e,n)}function mC(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class uo extends Zt{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ct.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Ct.fromReplace(e,this.pos,this.pos+1,new ce(se.from(i),0,n.isLeaf?0:1))}getMap(){return On.empty}invert(e){return new uo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new uo(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new uo(n.pos,n.attr,n.value)}}Zt.jsonID("attr",uo);class cc extends Zt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Ct.ok(r)}getMap(){return On.empty}invert(e){return new cc(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new cc(n.attr,n.value)}}Zt.jsonID("docAttr",cc);let yo=class extends Error{};yo=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};yo.prototype=Object.create(Error.prototype);yo.prototype.constructor=yo;yo.prototype.name="TransformError";class gC{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new lc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new yo(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ce.empty){let i=Wf(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new ce(se.from(r),0,0))}delete(e,n){return this.replace(e,n,ce.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return g6(this,e,n,r),this}replaceRangeWith(e,n,r){return y6(this,e,n,r),this}deleteRange(e,n){return b6(this,e,n),this}lift(e,n){return n6(this,e,n),this}join(e,n=1){return d6(this,e,n),this}wrap(e,n){return i6(this,e,n),this}setBlockType(e,n=e,r,i=null){return a6(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return l6(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new uo(e,n,r)),this}setDocAttribute(e,n){return this.step(new cc(e,n)),this}addNodeMark(e,n){return this.step(new Qs(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof it)n.isInSet(r.marks)&&this.step(new sa(e,n));else{let i=r.marks,o,l=[];for(;o=n.isInSet(i);)l.push(new sa(e,o)),i=o.removeFromSet(i);for(let u=l.length-1;u>=0;u--)this.step(l[u])}return this}split(e,n=1,r){return c6(this,e,n,r),this}addMark(e,n,r){return Zz(this,e,n,r),this}removeMark(e,n,r){return e6(this,e,n,r),this}clearIncompatible(e,n,r){return Hy(this,e,n,r),this}}const Km=Object.create(null);class De{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new x6(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ce.empty){let r=n.content.lastChild,i=null;for(let u=0;u<n.openEnd;u++)i=r,r=r.lastChild;let o=e.steps.length,l=this.ranges;for(let u=0;u<l.length;u++){let{$from:f,$to:h}=l[u],m=e.mapping.slice(o);e.replaceRange(m.map(f.pos),m.map(h.pos),u?ce.empty:n),u==0&&lS(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:l,$to:u}=i[o],f=e.mapping.slice(r),h=f.map(l.pos),m=f.map(u.pos);o?e.deleteRange(h,m):(e.replaceRangeWith(h,m,n),lS(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ae(e):eo(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let l=n<0?eo(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):eo(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Rn(e.node(0))}static atStart(e){return eo(e,e,0,0,1)||new Rn(e)}static atEnd(e){return eo(e,e,e.content.size,e.childCount,-1)||new Rn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Km[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Km)throw new RangeError("Duplicate use of selection JSON ID "+e);return Km[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ae.between(this.$anchor,this.$head).getBookmark()}}De.prototype.visible=!0;class x6{constructor(e,n){this.$from=e,this.$to=n}}let aS=!1;function oS(t){!aS&&!t.parent.inlineContent&&(aS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ae extends De{constructor(e,n=e){oS(e),oS(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return De.near(r);let i=e.resolve(n.map(this.anchor));return new Ae(i.parent.inlineContent?i:r,r)}replace(e,n=ce.empty){if(super.replace(e,n),n==ce.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ae&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Yf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ae(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=De.findFrom(n,r,!0)||De.findFrom(n,-r,!0);if(o)n=o.$head;else return De.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(De.findFrom(e,-r,!0)||De.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ae(e,n)}}De.jsonID("text",Ae);class Yf{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Yf(e.map(this.anchor),e.map(this.head))}resolve(e){return Ae.between(e.resolve(this.anchor),e.resolve(this.head))}}class we extends De{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?De.near(o):new we(o)}content(){return new ce(se.from(this.node),0,0)}eq(e){return e instanceof we&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new $y(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new we(e.resolve(n.anchor))}static create(e,n){return new we(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}we.prototype.visible=!1;De.jsonID("node",we);class $y{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Yf(r,r):new $y(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&we.isSelectable(r)?new we(n):De.near(n)}}class Rn extends De{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ce.empty){if(n==ce.empty){e.delete(0,e.doc.content.size);let r=De.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Rn(e)}map(e){return new Rn(e)}eq(e){return e instanceof Rn}getBookmark(){return v6}}De.jsonID("all",Rn);const v6={map(){return this},resolve(t){return new Rn(t)}};function eo(t,e,n,r,i,o=!1){if(e.inlineContent)return Ae.create(t,n);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let u=e.child(l);if(u.isAtom){if(!o&&we.isSelectable(u))return we.create(t,n-(i<0?u.nodeSize:0))}else{let f=eo(t,u,n+i,i<0?u.childCount:0,i,o);if(f)return f}n+=u.nodeSize*i}return null}function lS(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof jt||i instanceof Lt))return;let o=t.mapping.maps[r],l;o.forEach((u,f,h,m)=>{l==null&&(l=m)}),t.setSelection(De.near(t.doc.resolve(l),n))}const cS=1,ad=2,uS=4;class w6 extends gC{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|cS)&~ad,this.storedMarks=null,this}get selectionSet(){return(this.updated&cS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ad,this}ensureMarks(e){return it.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ad)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~ad,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||it.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let l=this.doc.resolve(n);o=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(De.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=uS,this}get scrolledIntoView(){return(this.updated&uS)>0}}function dS(t,e){return!e||!t?t:t.bind(e)}class Bl{constructor(e,n,r){this.name=e,this.init=dS(n.init,r),this.apply=dS(n.apply,r)}}const S6=[new Bl("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Bl("selection",{init(t,e){return t.selection||De.atStart(e.doc)},apply(t){return t.selection}}),new Bl("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Bl("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Wm{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=S6.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Bl(r.key,r.spec.state,r))})}}class so{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let l=0;l<this.config.plugins.length;l++){let u=this.config.plugins[l];if(u.spec.appendTransaction){let f=i?i[l].n:0,h=i?i[l].state:this,m=f<n.length&&u.spec.appendTransaction.call(u,f?n.slice(f):n,h,r);if(m&&r.filterTransaction(m,l)){if(m.setMeta("appendedTransaction",e),!i){i=[];for(let y=0;y<this.config.plugins.length;y++)i.push(y<l?{state:r,n:n.length}:{state:this,n:0})}n.push(m),r=r.applyInner(m),o=!0}i&&(i[l]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new so(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new w6(this)}static create(e){let n=new Wm(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new so(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Wm(this.schema,e.plugins),r=n.fields,i=new so(n);for(let o=0;o<r.length;o++){let l=r[o].name;i[l]=this.hasOwnProperty(l)?this[l]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Wm(e.schema,e.plugins),o=new so(i);return i.fields.forEach(l=>{if(l.name=="doc")o.doc=dr.fromJSON(e.schema,n.doc);else if(l.name=="selection")o.selection=De.fromJSON(o.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let f=r[u],h=f.spec.state;if(f.key==l.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){o[l.name]=h.fromJSON.call(f,e,n[u],o);return}}o[l.name]=l.init(e,o)}}),o}}function yC(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=yC(i,e,{})),n[r]=i}return n}class pt{constructor(e){this.spec=e,this.props={},e.props&&yC(e.props,this,this.props),this.key=e.key?e.key.key:bC("plugin")}getState(e){return e[this.key]}}const Ym=Object.create(null);function bC(t){return t in Ym?t+"$"+ ++Ym[t]:(Ym[t]=0,t+"$")}class Ot{constructor(e="key"){this.key=bC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const qy=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function xC(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const vC=(t,e,n)=>{let r=xC(t,n);if(!r)return!1;let i=Fy(r);if(!i){let l=r.blockRange(),u=l&&_o(l);return u==null?!1:(e&&e(t.tr.lift(l,u).scrollIntoView()),!0)}let o=i.nodeBefore;if(MC(t,i,e,-1))return!0;if(r.parent.content.size==0&&(bo(o,"end")||we.isSelectable(o)))for(let l=r.depth;;l--){let u=Wf(t.doc,r.before(l),r.after(l),ce.empty);if(u&&u.slice.size<u.to-u.from){if(e){let f=t.tr.step(u);f.setSelection(bo(o,"end")?De.findFrom(f.doc.resolve(f.mapping.map(i.pos,-1)),-1):we.create(f.doc,i.pos-o.nodeSize)),e(f.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},E6=(t,e,n)=>{let r=xC(t,n);if(!r)return!1;let i=Fy(r);return i?wC(t,i,e):!1},k6=(t,e,n)=>{let r=EC(t,n);if(!r)return!1;let i=Gy(r);return i?wC(t,i,e):!1};function wC(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let m=i.lastChild;if(!m)return!1;i=m}let l=e.nodeAfter,u=l,f=e.pos+1;for(;!u.isTextblock;f++){if(u.type.spec.isolating)return!1;let m=u.firstChild;if(!m)return!1;u=m}let h=Wf(t.doc,o,f,ce.empty);if(!h||h.from!=o||h instanceof jt&&h.slice.size>=f-o)return!1;if(n){let m=t.tr.step(h);m.setSelection(Ae.create(m.doc,o)),n(m.scrollIntoView())}return!0}function bo(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const SC=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=Fy(r)}let l=o&&o.nodeBefore;return!l||!we.isSelectable(l)?!1:(e&&e(t.tr.setSelection(we.create(t.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function Fy(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function EC(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const kC=(t,e,n)=>{let r=EC(t,n);if(!r)return!1;let i=Gy(r);if(!i)return!1;let o=i.nodeAfter;if(MC(t,i,e,1))return!0;if(r.parent.content.size==0&&(bo(o,"start")||we.isSelectable(o))){let l=Wf(t.doc,r.before(),r.after(),ce.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(bo(o,"start")?De.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):we.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},NC=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=Gy(r)}let l=o&&o.nodeAfter;return!l||!we.isSelectable(l)?!1:(e&&e(t.tr.setSelection(we.create(t.doc,o.pos)).scrollIntoView()),!0)};function Gy(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const N6=(t,e)=>{let n=t.selection,r=n instanceof we,i;if(r){if(n.node.isTextblock||!hi(t.doc,n.from))return!1;i=n.from}else if(i=Kf(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(we.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},C6=(t,e)=>{let n=t.selection,r;if(n instanceof we){if(n.node.isTextblock||!hi(t.doc,n.to))return!1;r=n.to}else if(r=Kf(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},T6=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&_o(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},CC=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Ky(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const A6=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),l=Ky(i.contentMatchAt(o));if(!l||!i.canReplaceWith(o,o,l))return!1;if(e){let u=n.after(),f=t.tr.replaceWith(u,u,l.createAndFill());f.setSelection(De.near(f.doc.resolve(u),1)),e(f.scrollIntoView())}return!0},TC=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Rn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=Ky(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,u=t.tr.insert(l,o.createAndFill());u.setSelection(Ae.create(u.doc,l+1)),e(u.scrollIntoView())}return!0},AC=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(ss(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&_o(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function M6(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof we&&e.selection.node.isBlock)return!r.parentOffset||!ss(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],l,u,f=!1,h=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){f=r.end(v)==r.pos+(r.depth-v),h=r.start(v)==r.pos-(r.depth-v),u=Ky(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),o.unshift(f&&u?{type:u}:null),l=v;break}else{if(v==1)return!1;o.unshift(null)}let m=e.tr;(e.selection instanceof Ae||e.selection instanceof Rn)&&m.deleteSelection();let y=m.mapping.map(r.pos),x=ss(m.doc,y,o.length,o);if(x||(o[0]=u?{type:u}:null,x=ss(m.doc,y,o.length,o)),!x)return!1;if(m.split(y,o.length,o),!f&&h&&r.node(l).type!=u){let v=m.mapping.map(r.before(l)),w=m.doc.resolve(v);u&&r.node(l-1).canReplaceWith(w.index(),w.index()+1,u)&&m.setNodeMarkup(m.mapping.map(r.before(l)),u)}return n&&n(m.scrollIntoView()),!0}}const O6=M6(),R6=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(we.create(t.doc,i))),!0)};function _6(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||hi(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function MC(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,l,u,f=i.type.spec.isolating||o.type.spec.isolating;if(!f&&_6(t,e,n))return!0;let h=!f&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(l=(u=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&u.matchType(l[0]||o.type).validEnd){if(n){let v=e.pos+o.nodeSize,w=se.empty;for(let C=l.length-1;C>=0;C--)w=se.from(l[C].create(null,w));w=se.from(i.copy(w));let k=t.tr.step(new Lt(e.pos-1,v,e.pos,v,new ce(w,1,0),l.length,!0)),E=k.doc.resolve(v+2*l.length);E.nodeAfter&&E.nodeAfter.type==i.type&&hi(k.doc,E.pos)&&k.join(E.pos),n(k.scrollIntoView())}return!0}let m=o.type.spec.isolating||r>0&&f?null:De.findFrom(e,1),y=m&&m.$from.blockRange(m.$to),x=y&&_o(y);if(x!=null&&x>=e.depth)return n&&n(t.tr.lift(y,x).scrollIntoView()),!0;if(h&&bo(o,"start",!0)&&bo(i,"end")){let v=i,w=[];for(;w.push(v),!v.isTextblock;)v=v.lastChild;let k=o,E=1;for(;!k.isTextblock;k=k.firstChild)E++;if(v.canReplace(v.childCount,v.childCount,k.content)){if(n){let C=se.empty;for(let j=w.length-1;j>=0;j--)C=se.from(w[j].copy(C));let O=t.tr.step(new Lt(e.pos-w.length,e.pos+o.nodeSize,e.pos+E,e.pos+o.nodeSize-E,new ce(C,w.length,0),0,!0));n(O.scrollIntoView())}return!0}}return!1}function OC(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(Ae.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const j6=OC(-1),D6=OC(1);function L6(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,l=i.blockRange(o),u=l&&Vy(l,t,e);return u?(r&&r(n.tr.wrap(l,u).scrollIntoView()),!0):!1}}function fS(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[o];n.doc.nodesBetween(l,u,(f,h)=>{if(i)return!1;if(!(!f.isTextblock||f.hasMarkup(t,e)))if(f.type==t)i=!0;else{let m=n.doc.resolve(h),y=m.index();i=m.parent.canReplaceWith(y,y+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:u},$to:{pos:f}}=n.selection.ranges[l];o.setBlockType(u,f,t,e)}r(o.scrollIntoView())}return!0}}function Wy(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}Wy(qy,vC,SC);Wy(qy,kC,NC);Wy(CC,TC,AC,O6);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function I6(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,l=i.blockRange(o);if(!l)return!1;let u=r?n.tr:null;return z6(u,l,t,e)?(r&&r(u.scrollIntoView()),!0):!1}}function z6(t,e,n,r=null){let i=!1,o=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=l.resolve(e.start-2);o=new Kd(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new Kd(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let u=Vy(o,n,r,e);return u?(t&&P6(t,e,u,i,n),!0):!1}function P6(t,e,n,r,i){let o=se.empty;for(let m=n.length-1;m>=0;m--)o=se.from(n[m].type.create(n[m].attrs,o));t.step(new Lt(e.start-(r?2:0),e.end,e.start,e.end,new ce(o,0,0),n.length,!0));let l=0;for(let m=0;m<n.length;m++)n[m].type==i&&(l=m+1);let u=n.length-l,f=e.start+n.length-(r?2:0),h=e.parent;for(let m=e.startIndex,y=e.endIndex,x=!0;m<y;m++,x=!1)!x&&ss(t.doc,f,u)&&(t.split(f,u),f+=2*u),f+=h.child(m).nodeSize;return t}function B6(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?U6(e,n,t,o):H6(e,n,o):!0:!1}}function U6(t,e,n,r){let i=t.tr,o=r.end,l=r.$to.end(r.depth);o<l&&(i.step(new Lt(o-1,l,o,l,new ce(se.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Kd(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const u=_o(r);if(u==null)return!1;i.lift(r,u);let f=i.doc.resolve(i.mapping.map(o,-1)-1);return hi(i.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&i.join(f.pos),e(i.scrollIntoView()),!0}function H6(t,e,n){let r=t.tr,i=n.parent;for(let v=n.end,w=n.endIndex-1,k=n.startIndex;w>k;w--)v-=i.child(w).nodeSize,r.delete(v-1,v+1);let o=r.doc.resolve(n.start),l=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,f=n.endIndex==i.childCount,h=o.node(-1),m=o.index(-1);if(!h.canReplace(m+(u?0:1),m+1,l.content.append(f?se.empty:se.from(i))))return!1;let y=o.pos,x=y+l.nodeSize;return r.step(new Lt(y-(u?1:0),x+(f?1:0),y+1,x-1,new ce((u?se.empty:se.from(i.copy(se.empty))).append(f?se.empty:se.from(i.copy(se.empty))),u?0:1,f?0:1),u?0:1)),e(r.scrollIntoView()),!0}function V6(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,h=>h.childCount>0&&h.firstChild.type==t);if(!o)return!1;let l=o.startIndex;if(l==0)return!1;let u=o.parent,f=u.child(l-1);if(f.type!=t)return!1;if(n){let h=f.lastChild&&f.lastChild.type==u.type,m=se.from(h?t.create():null),y=new ce(se.from(t.create(null,se.from(u.type.create(null,m)))),h?3:1,0),x=o.start,v=o.end;n(e.tr.step(new Lt(x-(h?3:1),v,x,v,y,1,!0)).scrollIntoView())}return!0}}const Ft=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},xo=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let $g=null;const Xr=function(t,e,n){let r=$g||($g=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},$6=function(){$g=null},ia=function(t,e,n,r){return n&&(hS(t,e,n,r,-1)||hS(t,e,n,r,1))},q6=/^(img|br|input|textarea|hr)$/i;function hS(t,e,n,r,i){for(var o;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Yn(t))){let l=t.parentNode;if(!l||l.nodeType!=1||_c(t)||q6.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ft(t)+(i<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(i<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((o=l.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else t=l,e=i<0?Yn(t):0}else return!1}}function Yn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function F6(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Yn(t)}else if(t.parentNode&&!_c(t))e=Ft(t),t=t.parentNode;else return null}}function G6(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!_c(t))e=Ft(t)+1,t=t.parentNode;else return null}}function K6(t,e,n){for(let r=e==0,i=e==Yn(t);r||i;){if(t==n)return!0;let o=Ft(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Yn(t)}}function _c(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Jf=function(t){return t.focusNode&&ia(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ui(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function W6(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Y6(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Yn(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Yn(r.startContainer),r.startOffset)}}}const Nr=typeof navigator<"u"?navigator:null,pS=typeof document<"u"?document:null,pi=Nr&&Nr.userAgent||"",qg=/Edge\/(\d+)/.exec(pi),RC=/MSIE \d/.exec(pi),Fg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pi),bn=!!(RC||Fg||qg),ri=RC?document.documentMode:Fg?+Fg[1]:qg?+qg[1]:0,Jn=!bn&&/gecko\/(\d+)/i.test(pi);Jn&&+(/Firefox\/(\d+)/.exec(pi)||[0,0])[1];const Gg=!bn&&/Chrome\/(\d+)/.exec(pi),Dt=!!Gg,_C=Gg?+Gg[1]:0,Qt=!bn&&!!Nr&&/Apple Computer/.test(Nr.vendor),vo=Qt&&(/Mobile\/\w+/.test(pi)||!!Nr&&Nr.maxTouchPoints>2),Kn=vo||(Nr?/Mac/.test(Nr.platform):!1),jC=Nr?/Win/.test(Nr.platform):!1,ts=/Android \d/.test(pi),jc=!!pS&&"webkitFontSmoothing"in pS.documentElement.style,J6=jc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function X6(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Kr(t,e){return typeof t=="number"?t:t[e]}function Q6(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function mS(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=xo(l);continue}let u=l,f=u==o.body,h=f?X6(o):Q6(u),m=0,y=0;if(e.top<h.top+Kr(r,"top")?y=-(h.top-e.top+Kr(i,"top")):e.bottom>h.bottom-Kr(r,"bottom")&&(y=e.bottom-e.top>h.bottom-h.top?e.top+Kr(i,"top")-h.top:e.bottom-h.bottom+Kr(i,"bottom")),e.left<h.left+Kr(r,"left")?m=-(h.left-e.left+Kr(i,"left")):e.right>h.right-Kr(r,"right")&&(m=e.right-h.right+Kr(i,"right")),m||y)if(f)o.defaultView.scrollBy(m,y);else{let v=u.scrollLeft,w=u.scrollTop;y&&(u.scrollTop+=y),m&&(u.scrollLeft+=m);let k=u.scrollLeft-v,E=u.scrollTop-w;e={left:e.left-k,top:e.top-E,right:e.right-k,bottom:e.bottom-E}}let x=f?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(x))break;l=x=="absolute"?l.offsetParent:xo(l)}}function Z6(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let u=t.root.elementFromPoint(o,l);if(!u||u==t.dom||!t.dom.contains(u))continue;let f=u.getBoundingClientRect();if(f.top>=n-20){r=u,i=f.top;break}}return{refDOM:r,refTop:i,stack:DC(t.dom)}}function DC(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=xo(r));return e}function eP({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;LC(n,r==0?0:r-e)}function LC(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Qa=null;function tP(t){if(t.setActive)return t.setActive();if(Qa)return t.focus(Qa);let e=DC(t);t.focus(Qa==null?{get preventScroll(){return Qa={preventScroll:!0},!0}}:void 0),Qa||(Qa=!1,LC(e,0))}function IC(t,e){let n,r=2e8,i,o=0,l=e.top,u=e.top,f,h;for(let m=t.firstChild,y=0;m;m=m.nextSibling,y++){let x;if(m.nodeType==1)x=m.getClientRects();else if(m.nodeType==3)x=Xr(m).getClientRects();else continue;for(let v=0;v<x.length;v++){let w=x[v];if(w.top<=l&&w.bottom>=u){l=Math.max(w.bottom,l),u=Math.min(w.top,u);let k=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(k<r){n=m,r=k,i=k&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,m.nodeType==1&&k&&(o=y+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!f&&w.left<=e.left&&w.right>=e.left&&(f=m,h={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(o=y+1)}}return!n&&f&&(n=f,i=h,r=0),n&&n.nodeType==3?nP(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:IC(n,i)}function nP(t,e){let n=t.nodeValue.length,r=document.createRange(),i;for(let o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);let l=Vs(r,1);if(l.top!=l.bottom&&Yy(e,l)){i={node:t,offset:o+(e.left>=(l.left+l.right)/2?1:0)};break}}return r.detach(),i||{node:t,offset:0}}function Yy(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function rP(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function sP(t,e,n){let{node:r,offset:i}=IC(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();o=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function iP(t,e,n,r){let i=-1;for(let o=e,l=!1;o!=t.dom;){let u=t.docView.nearestDesc(o,!0),f;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((f=u.dom.getBoundingClientRect()).width||f.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!l&&f.left>r.left||f.top>r.top?i=u.posBefore:(!l&&f.right<r.left||f.bottom<r.top)&&(i=u.posAfter),l=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?u.posBefore:u.posAfter;o=u.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function zC(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let l=t.childNodes[o];if(l.nodeType==1){let u=l.getClientRects();for(let f=0;f<u.length;f++){let h=u[f];if(Yy(e,h))return zC(l,e,h)}}if((o=(o+1)%r)==i)break}return t}function aP(t,e){let n=t.dom.ownerDocument,r,i=0,o=Y6(n,e.left,e.top);o&&({node:r,offset:i}=o);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),u;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let h=t.dom.getBoundingClientRect();if(!Yy(e,h)||(l=zC(t.dom,e,h),!l))return null}if(Qt)for(let h=l;r&&h;h=xo(h))h.draggable&&(r=void 0);if(l=rP(l,e),r){if(Jn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let m=r.childNodes[i],y;m.nodeName=="IMG"&&(y=m.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&i++}let h;jc&&i&&r.nodeType==1&&(h=r.childNodes[i-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(u=iP(t,r,i,e))}u==null&&(u=sP(t,l,e));let f=t.docView.nearestDesc(l,!0);return{pos:u,inside:f?f.posAtStart-f.border:-1}}function gS(t){return t.top<t.bottom||t.left<t.right}function Vs(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(gS(r))return r}return Array.prototype.find.call(n,gS)||t.getBoundingClientRect()}const oP=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function PC(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),l=jc||Jn;if(r.nodeType==3)if(l&&(oP.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let f=Vs(Xr(r,i,i),n);if(Jn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let h=Vs(Xr(r,i-1,i-1),-1);if(h.top==f.top){let m=Vs(Xr(r,i,i+1),-1);if(m.top!=f.top)return Rl(m,m.left<h.left)}}return f}else{let f=i,h=i,m=n<0?1:-1;return n<0&&!i?(h++,m=-1):n>=0&&i==r.nodeValue.length?(f--,m=1):n<0?f--:h++,Rl(Vs(Xr(r,f,h),m),m<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Yn(r))){let f=r.childNodes[i-1];if(f.nodeType==1)return Jm(f.getBoundingClientRect(),!1)}if(o==null&&i<Yn(r)){let f=r.childNodes[i];if(f.nodeType==1)return Jm(f.getBoundingClientRect(),!0)}return Jm(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Yn(r))){let f=r.childNodes[i-1],h=f.nodeType==3?Xr(f,Yn(f)-(l?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(h)return Rl(Vs(h,1),!1)}if(o==null&&i<Yn(r)){let f=r.childNodes[i];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let h=f?f.nodeType==3?Xr(f,0,l?0:1):f.nodeType==1?f:null:null;if(h)return Rl(Vs(h,-1),!0)}return Rl(Vs(r.nodeType==3?Xr(r):r,-n),n>=0)}function Rl(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Jm(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function BC(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function lP(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return BC(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(o,!0);if(!u)break;if(u.node.isBlock){o=u.contentDOM||u.dom;break}o=u.dom.parentNode}let l=PC(t,i.pos,1);for(let u=o.firstChild;u;u=u.nextSibling){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Xr(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<f.length;h++){let m=f[h];if(m.bottom>m.top+1&&(n=="up"?l.top-m.top>(m.bottom-l.top)*2:m.bottom-l.bottom>(l.bottom-m.top)*2))return!1}}return!0})}const cP=/[\u0590-\u08ac]/;function uP(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,l=i==r.parent.content.size,u=t.domSelection();return u?!cP.test(r.parent.textContent)||!u.modify?n=="left"||n=="backward"?o:l:BC(t,e,()=>{let{focusNode:f,focusOffset:h,anchorNode:m,anchorOffset:y}=t.domSelectionRange(),x=u.caretBidiLevel;u.modify("move",n,"character");let v=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:w,focusOffset:k}=t.domSelectionRange(),E=w&&!v.contains(w.nodeType==1?w:w.parentNode)||f==w&&h==k;try{u.collapse(m,y),f&&(f!=m||h!=y)&&u.extend&&u.extend(f,h)}catch{}return x!=null&&(u.caretBidiLevel=x),E}):r.pos==r.start()||r.pos==r.end()}let yS=null,bS=null,xS=!1;function dP(t,e,n){return yS==e&&bS==n?xS:(yS=e,bS=n,xS=n=="up"||n=="down"?lP(t,e,n):uP(t,e,n))}const Xn=0,vS=1,$i=2,Cr=3;class Dc{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Xn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,l;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(l)+l.size:this.posAtStart}else{let o,l;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Ft(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),l;if(o&&(!n||o.node))if(r&&(l=o.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)for(let l=0;l<i.children.length;l++){let u=i.children[l];if(u.size){i=u;break}}return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let l=this.children[r],u=o+l.size;if(u>e||l instanceof HC){i=e-o;break}o=u}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof UC&&o.side>=0;r--);if(n<=0){let o,l=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,l=!1);return o&&n&&l&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Ft(o.dom)+1:0}}else{let o,l=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,l=!1);return o&&l&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Ft(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let l=r,u=0;;u++){let f=this.children[u],h=l+f.size;if(i==-1&&e<=h){let m=l+f.border;if(e>=m&&n<=h-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,n,m);e=l;for(let y=u;y>0;y--){let x=this.children[y-1];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(1)){i=Ft(x.dom)+1;break}e-=x.size}i==-1&&(i=0)}if(i>-1&&(h>n||u==this.children.length-1)){n=h;for(let m=u+1;m<this.children.length;m++){let y=this.children[m];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){o=Ft(y.dom);break}n+=y.size}o==-1&&(o=this.contentDOM.childNodes.length);break}l=h}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),l=Math.max(e,n);for(let v=0,w=0;v<this.children.length;v++){let k=this.children[v],E=w+k.size;if(o>w&&l<E)return k.setSelection(e-w-k.border,n-w-k.border,r,i);w=E}let u=this.domFromPos(e,e?-1:1),f=n==e?u:this.domFromPos(n,n?-1:1),h=r.root.getSelection(),m=r.domSelectionRange(),y=!1;if((Jn||Qt)&&e==n){let{node:v,offset:w}=u;if(v.nodeType==3){if(y=!!(w&&v.nodeValue[w-1]==`
`),y&&w==v.nodeValue.length)for(let k=v,E;k;k=k.parentNode){if(E=k.nextSibling){E.nodeName=="BR"&&(u=f={node:E.parentNode,offset:Ft(E)+1});break}let C=k.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{let k=v.childNodes[w-1];y=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(Jn&&m.focusNode&&m.focusNode!=f.node&&m.focusNode.nodeType==1){let v=m.focusNode.childNodes[m.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||y&&Qt)&&ia(u.node,u.offset,m.anchorNode,m.anchorOffset)&&ia(f.node,f.offset,m.focusNode,m.focusOffset))return;let x=!1;if((h.extend||e==n)&&!(y&&Jn)){h.collapse(u.node,u.offset);try{e!=n&&h.extend(f.node,f.offset),x=!0}catch{}}if(!x){if(e>n){let w=u;u=f,f=w}let v=document.createRange();v.setEnd(f.node,f.offset),v.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],l=r+o.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let u=r+o.border,f=l-o.border;if(e>=u&&n<=f){this.dirty=e==r||n==l?$i:vS,e==u&&n==f&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Cr:o.markDirty(e-u,n-u);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?$i:Cr}r=l}this.dirty=$i}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?$i:vS;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class UC extends Dc{constructor(e,n,r,i){let o,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(l.nodeType!=1){let u=document.createElement("span");u.appendChild(l),l=u}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Xn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class fP extends Dc{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class aa extends Dc{constructor(e,n,r,i,o){super(e,[],r,i),this.mark=n,this.spec=o}static create(e,n,r,i){let o=i.nodeViews[n.type.name],l=o&&o(n,i,r);return(!l||!l.dom)&&(l=ca.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new aa(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Cr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Cr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Xn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Xn}}slice(e,n,r){let i=aa.create(this.parent,this.mark,!0,r),o=this.children,l=this.size;n<l&&(o=Wg(o,n,l,r)),e>0&&(o=Wg(o,0,e,r));for(let u=0;u<o.length;u++)o[u].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class si extends Dc{constructor(e,n,r,i,o,l,u,f,h){super(e,[],o,l),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=u}static create(e,n,r,i,o,l){let u=o.nodeViews[n.type.name],f,h=u&&u(n,o,()=>{if(!f)return l;if(f.parent)return f.parent.posBeforeChild(f)},r,i),m=h&&h.dom,y=h&&h.contentDOM;if(n.isText){if(!m)m=document.createTextNode(n.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:y}=ca.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!y&&!n.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),n.type.spec.draggable&&(m.draggable=!0));let x=m;return m=qC(m,r,n),h?f=new hP(e,n,r,i,m,y||null,x,h,o,l+1):n.isText?new Xf(e,n,r,i,m,x,o):new si(e,n,r,i,m,y||null,x,o,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>se.empty)}return e}matchesNode(e,n,r){return this.dirty==Xn&&e.eq(this.node)&&Yd(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,l=o&&o.pos>-1?o:null,u=o&&o.pos<0,f=new mP(this,l&&l.node,e);bP(this.node,this.innerDeco,(h,m,y)=>{h.spec.marks?f.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!y&&f.syncToMarks(m==this.node.childCount?it.none:this.node.child(m).marks,r,e),f.placeWidget(h,e,i)},(h,m,y,x)=>{f.syncToMarks(h.marks,r,e);let v;f.findNodeMatch(h,m,y,x)||u&&e.state.selection.from>i&&e.state.selection.to<i+h.nodeSize&&(v=f.findIndexWithChild(o.node))>-1&&f.updateNodeAt(h,m,y,v,e)||f.updateNextNode(h,m,y,e,x,i)||f.addNode(h,m,y,e,i),i+=h.nodeSize}),f.syncToMarks([],r,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==$i)&&(l&&this.protectLocalComposition(e,l),VC(this.contentDOM,this.children,e),vo&&xP(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ae)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let l=o.nodeValue,u=vP(this.node.content,l,r-n,i-n);return u<0?null:{node:o,pos:u,text:l}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let l=new fP(this,o,n,i);e.input.compositionNodes.push(l),this.children=Wg(this.children,r,r+i.length,e,l)}update(e,n,r,i){return this.dirty==Cr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Xn}updateOuterDeco(e){if(Yd(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=$C(this.dom,this.nodeDOM,Kg(this.outerDeco,this.node,n),Kg(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function wS(t,e,n,r,i){qC(r,e,t);let o=new si(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Xf extends si{constructor(e,n,r,i,o,l,u){super(e,n,r,i,o,null,l,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Cr||this.dirty!=Xn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Xn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Xn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Xf(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Cr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class HC extends Dc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Xn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class hP extends si{constructor(e,n,r,i,o,l,u,f,h,m){super(e,n,r,i,o,l,u,h,m),this.spec=f}update(e,n,r,i){if(this.dirty==Cr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function VC(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let l=e[o],u=l.dom;if(u.parentNode==t){for(;u!=r;)r=SS(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(u,r);if(l instanceof aa){let f=r?r.previousSibling:t.lastChild;VC(l.contentDOM,l.children,n),r=f?f.nextSibling:t.firstChild}}for(;r;)r=SS(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Gl=function(t){t&&(this.nodeName=t)};Gl.prototype=Object.create(null);const qi=[new Gl];function Kg(t,e,n){if(t.length==0)return qi;let r=n?qi[0]:new Gl,i=[r];for(let o=0;o<t.length;o++){let l=t[o].type.attrs;if(l){l.nodeName&&i.push(r=new Gl(l.nodeName));for(let u in l){let f=l[u];f!=null&&(n&&i.length==1&&i.push(r=new Gl(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+f:u=="style"?r.style=(r.style?r.style+";":"")+f:u!="nodeName"&&(r[u]=f))}}}return i}function $C(t,e,n,r){if(n==qi&&r==qi)return e;let i=e;for(let o=0;o<r.length;o++){let l=r[o],u=n[o];if(o){let f;u&&u.nodeName==l.nodeName&&i!=t&&(f=i.parentNode)&&f.nodeName.toLowerCase()==l.nodeName||(f=document.createElement(l.nodeName),f.pmIsDeco=!0,f.appendChild(i),u=qi[0]),i=f}pP(i,u||qi[0],l)}return i}function pP(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function qC(t,e,n){return $C(t,t,qi,Kg(e,n,t.nodeType!=1))}function Yd(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function SS(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class mP{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=gP(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,l=Math.min(o,e.length);for(;i<l&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Xn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let h=this.top.children[f];if(h.matchesMark(e[o])&&!this.isLocked(h.dom)){u=f;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let f=aa.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))o=this.top.children.indexOf(l,this.index);else for(let u=this.index,f=Math.min(this.top.children.length,u+5);u<f;u++){let h=this.top.children[u];if(h.matchesNode(e,n,r)&&!this.preMatch.matched.has(h)){o=u;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let l=this.top.children[i];return l.dirty==Cr&&l.dom==l.contentDOM&&(l.dirty=$i),l.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,l){for(let u=this.index;u<this.top.children.length;u++){let f=this.top.children[u];if(f instanceof si){let h=this.preMatch.matched.get(f);if(h!=null&&h!=o)return!1;let m=f.dom,y,x=this.isLocked(m)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=Cr&&Yd(n,f.outerDeco));if(!x&&f.update(e,n,r,i))return this.destroyBetween(this.index,u),f.dom!=m&&(this.changed=!0),this.index++,!0;if(!x&&(y=this.recreateWrapper(f,e,n,r,i,l)))return this.destroyBetween(this.index,u),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=$i,y.updateChildren(i,l+1),y.dirty=Xn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Yd(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let u=si.create(this.top,n,r,i,o,l);if(u.contentDOM){u.children=e.children,e.children=[];for(let f of u.children)f.parent=u}return e.destroy(),u}addNode(e,n,r,i,o){let l=si.create(this.top,e,n,r,i,o);l.contentDOM&&l.updateChildren(i,o+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new UC(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof aa;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Xf)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Qt||Dt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new HC(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function gP(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,l=[];e:for(;i>0;){let u;for(;;)if(r){let h=n.children[r-1];if(h instanceof aa)n=h,r=h.children.length;else{u=h,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let f=u.node;if(f){if(f!=t.child(i-1))break;--i,o.set(u,i),l.push(u)}}return{index:i,matched:o,matches:l.reverse()}}function yP(t,e){return t.type.side-e.type.side}function bP(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let h=0;h<t.childCount;h++){let m=t.child(h);r(m,i,e.forChild(o,m),h),o+=m.nodeSize}return}let l=0,u=[],f=null;for(let h=0;;){let m,y;for(;l<i.length&&i[l].to==o;){let E=i[l++];E.widget&&(m?(y||(y=[m])).push(E):m=E)}if(m)if(y){y.sort(yP);for(let E=0;E<y.length;E++)n(y[E],h,!!f)}else n(m,h,!!f);let x,v;if(f)v=-1,x=f,f=null;else if(h<t.childCount)v=h,x=t.child(h++);else break;for(let E=0;E<u.length;E++)u[E].to<=o&&u.splice(E--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)u.push(i[l++]);let w=o+x.nodeSize;if(x.isText){let E=w;l<i.length&&i[l].from<E&&(E=i[l].from);for(let C=0;C<u.length;C++)u[C].to<E&&(E=u[C].to);E<w&&(f=x.cut(E-o),x=x.cut(0,E-o),w=E,v=-1)}else for(;l<i.length&&i[l].to<w;)l++;let k=x.isInline&&!x.isLeaf?u.filter(E=>!E.inline):u.slice();r(x,k,e.forChild(o,x),v),o=w}}function xP(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function vP(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let l=t.child(i++),u=o;if(o+=l.nodeSize,!l.isText)continue;let f=l.text;for(;i<t.childCount;){let h=t.child(i++);if(o+=h.nodeSize,!h.isText)break;f+=h.text}if(o>=n){if(o>=r&&f.slice(r-e.length-u,r-u)==e)return r-e.length;let h=u<r?f.lastIndexOf(e,r-u-1):-1;if(h>=0&&h+e.length+u>=n)return u+h;if(n==r&&f.length>=r+e.length-u&&f.slice(r-u,r-u+e.length)==e)return r}}return-1}function Wg(t,e,n,r,i){let o=[];for(let l=0,u=0;l<t.length;l++){let f=t[l],h=u,m=u+=f.size;h>=n||m<=e?o.push(f):(h<e&&o.push(f.slice(0,e-h,r)),i&&(o.push(i),i=void 0),m>n&&o.push(f.slice(n-h,f.size,r)))}return o}function Jy(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let u=r.resolve(l),f,h;if(Jf(n)){for(f=l;i&&!i.node;)i=i.parent;let y=i.node;if(i&&y.isAtom&&we.isSelectable(y)&&i.parent&&!(y.isInline&&K6(n.focusNode,n.focusOffset,i.dom))){let x=i.posBefore;h=new we(l==x?u:r.resolve(x))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let y=l,x=l;for(let v=0;v<n.rangeCount;v++){let w=n.getRangeAt(v);y=Math.min(y,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),x=Math.max(x,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(y<0)return null;[f,l]=x==t.state.selection.anchor?[x,y]:[y,x],u=r.resolve(l)}else f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(f<0)return null}let m=r.resolve(f);if(!h){let y=e=="pointer"||t.state.selection.head<u.pos&&!o?1:-1;h=Xy(t,m,u,y)}return h}function FC(t){return t.editable?t.hasFocus():KC(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function is(t,e=!1){let n=t.state.selection;if(GC(t,n),!!FC(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Dt){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&ia(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)SP(t);else{let{anchor:r,head:i}=n,o,l;ES&&!(n instanceof Ae)&&(n.$from.parent.inlineContent||(o=kS(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=kS(t,n.to))),t.docView.setSelection(r,i,t,e),ES&&(o&&NS(o),l&&NS(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&wP(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const ES=Qt||Dt&&_C<63;function kS(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Qt&&i&&i.contentEditable=="false")return Xm(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Xm(i);if(o)return Xm(o)}}function Xm(t){return t.contentEditable="true",Qt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function NS(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function wP(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!FC(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function SP(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Ft(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&bn&&ri<=11&&(n.disabled=!0,n.disabled=!1)}function GC(t,e){if(e instanceof we){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(CS(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else CS(t)}function CS(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Xy(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ae.between(e,n,r)}function TS(t){return t.editable&&!t.hasFocus()?!1:KC(t)}function KC(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function EP(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return ia(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Yg(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&De.findFrom(o,e)}function $s(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function AS(t,e,n){let r=t.state.selection;if(r instanceof Ae)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let l=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return $s(t,new Ae(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Yg(t.state,e);return i&&i instanceof we?$s(t,i):!1}else if(!(Kn&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!o||o.isText)return!1;let u=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(l=t.docView.descAt(u))&&!l.contentDOM?we.isSelectable(o)?$s(t,new we(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):jc?$s(t,new Ae(t.state.doc.resolve(e<0?u:u+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof we&&r.node.isInline)return $s(t,new Ae(e>0?r.$to:r.$from));{let i=Yg(t.state,e);return i?$s(t,i):!1}}}function Jd(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Kl(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Za(t,e){return e<0?kP(t):NP(t)}function kP(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,l=!1;for(Jn&&n.nodeType==1&&r<Jd(n)&&Kl(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let u=n.childNodes[r-1];if(Kl(u,-1))i=n,o=--r;else if(u.nodeType==3)n=u,r=n.nodeValue.length;else break}}else{if(WC(n))break;{let u=n.previousSibling;for(;u&&Kl(u,-1);)i=n.parentNode,o=Ft(u),u=u.previousSibling;if(u)n=u,r=Jd(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?Jg(t,n,r):i&&Jg(t,i,o)}function NP(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Jd(n),o,l;for(;;)if(r<i){if(n.nodeType!=1)break;let u=n.childNodes[r];if(Kl(u,1))o=n,l=++r;else break}else{if(WC(n))break;{let u=n.nextSibling;for(;u&&Kl(u,1);)o=u.parentNode,l=Ft(u)+1,u=u.nextSibling;if(u)n=u,r=0,i=Jd(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&Jg(t,o,l)}function WC(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function CP(t,e){for(;t&&e==t.childNodes.length&&!_c(t);)e=Ft(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function TP(t,e){for(;t&&!e&&!_c(t);)e=Ft(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Jg(t,e,n){if(e.nodeType!=3){let o,l;(l=CP(e,n))?(e=l,n=0):(o=TP(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Jf(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&is(t)},50)}function MS(t,e){let n=t.state.doc.resolve(e);if(!(Dt||jC)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function OS(t,e,n){let r=t.state.selection;if(r instanceof Ae&&!r.empty||n.indexOf("s")>-1||Kn&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=Yg(t.state,e);if(l&&l instanceof we)return $s(t,l)}if(!i.parent.inlineContent){let l=e<0?i:o,u=r instanceof Rn?De.near(l,e):De.findFrom(l,e);return u?$s(t,u):!1}return!1}function RS(t,e){if(!(t.state.selection instanceof Ae))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let l=t.state.tr;return e<0?l.delete(n.pos-o.nodeSize,n.pos):l.delete(n.pos,n.pos+o.nodeSize),t.dispatch(l),!0}return!1}function _S(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function AP(t){if(!Qt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;_S(t,r,"true"),setTimeout(()=>_S(t,r,"false"),20)}return!1}function MP(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function OP(t,e){let n=e.keyCode,r=MP(e);if(n==8||Kn&&n==72&&r=="c")return RS(t,-1)||Za(t,-1);if(n==46&&!e.shiftKey||Kn&&n==68&&r=="c")return RS(t,1)||Za(t,1);if(n==13||n==27)return!0;if(n==37||Kn&&n==66&&r=="c"){let i=n==37?MS(t,t.state.selection.from)=="ltr"?-1:1:-1;return AS(t,i,r)||Za(t,i)}else if(n==39||Kn&&n==70&&r=="c"){let i=n==39?MS(t,t.state.selection.from)=="ltr"?1:-1:1;return AS(t,i,r)||Za(t,i)}else{if(n==38||Kn&&n==80&&r=="c")return OS(t,-1,r)||Za(t,-1);if(n==40||Kn&&n==78&&r=="c")return AP(t)||OS(t,1,r)||Za(t,1);if(r==(Kn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Qy(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let l=t.someProp("clipboardSerializer")||ca.fromSchema(t.state.schema),u=eT(),f=u.createElement("div");f.appendChild(l.serializeFragment(r,{document:u}));let h=f.firstChild,m,y=0;for(;h&&h.nodeType==1&&(m=ZC[h.nodeName.toLowerCase()]);){for(let v=m.length-1;v>=0;v--){let w=u.createElement(m[v]);for(;f.firstChild;)w.appendChild(f.firstChild);f.appendChild(w),y++}h=f.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${i} ${o}${y?` -${y}`:""} ${JSON.stringify(n)}`);let x=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:x,slice:e}}function YC(t,e,n,r,i){let o=i.parent.type.spec.code,l,u;if(!n&&!e)return null;let f=!!e&&(r||o||!n);if(f){if(t.someProp("transformPastedText",x=>{e=x(e,o||r,t)}),o)return u=new ce(se.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",x=>{u=x(u,t,!0)}),u;let y=t.someProp("clipboardTextParser",x=>x(e,i,r,t));if(y)u=y;else{let x=i.marks(),{schema:v}=t.state,w=ca.fromSchema(v);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(k=>{let E=l.appendChild(document.createElement("p"));k&&E.appendChild(w.serializeNode(v.text(k,x)))})}}else t.someProp("transformPastedHTML",y=>{n=y(n,t)}),l=DP(n),jc&&LP(l);let h=l&&l.querySelector("[data-pm-slice]"),m=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let y=+m[3];y>0;y--){let x=l.firstChild;for(;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;l=x}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||ni.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(f||m),context:i,ruleFromNode(x){return x.nodeName=="BR"&&!x.nextSibling&&x.parentNode&&!RP.test(x.parentNode.nodeName)?{ignore:!0}:null}})),m)u=IP(jS(u,+m[1],+m[2]),m[4]);else if(u=ce.maxOpen(_P(u.content,i),!0),u.openStart||u.openEnd){let y=0,x=0;for(let v=u.content.firstChild;y<u.openStart&&!v.type.spec.isolating;y++,v=v.firstChild);for(let v=u.content.lastChild;x<u.openEnd&&!v.type.spec.isolating;x++,v=v.lastChild);u=jS(u,y,x)}return t.someProp("transformPasted",y=>{u=y(u,t,f)}),u}const RP=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function _P(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,l=[];if(t.forEach(u=>{if(!l)return;let f=i.findWrapping(u.type),h;if(!f)return l=null;if(h=l.length&&o.length&&XC(f,o,u,l[l.length-1],0))l[l.length-1]=h;else{l.length&&(l[l.length-1]=QC(l[l.length-1],o.length));let m=JC(u,f);l.push(m),i=i.matchType(m.type),o=f}}),l)return se.from(l)}return t}function JC(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,se.from(t));return t}function XC(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=XC(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(se.from(JC(n,t,i+1))))}}function QC(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,QC(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(se.empty,!0);return t.copy(n.append(r))}function Xg(t,e,n,r,i,o){let l=e<0?t.firstChild:t.lastChild,u=l.content;return t.childCount>1&&(o=0),i<r-1&&(u=Xg(u,e,n,r,i+1,o)),i>=n&&(u=e<0?l.contentMatchAt(0).fillBefore(u,o<=i).append(u):u.append(l.contentMatchAt(l.childCount).fillBefore(se.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(u))}function jS(t,e,n){return e<t.openStart&&(t=new ce(Xg(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ce(Xg(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const ZC={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let DS=null;function eT(){return DS||(DS=document.implementation.createHTMLDocument("title"))}let Qm=null;function jP(t){let e=window.trustedTypes;return e?(Qm||(Qm=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Qm.createHTML(t)):t}function DP(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=eT().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&ZC[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=jP(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function LP(t){let e=t.querySelectorAll(Dt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function IP(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:l}=t;for(let u=r.length-2;u>=0;u-=2){let f=n.nodes[r[u]];if(!f||f.hasRequiredAttrs())break;i=se.from(f.create(r[u+1],i)),o++,l++}return new ce(i,o,l)}const sn={},an={},zP={touchstart:!0,touchmove:!0};class PP{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function BP(t){for(let e in sn){let n=sn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{HP(t,r)&&!Zy(t,r)&&(t.editable||!(r.type in an))&&n(t,r)},zP[e]?{passive:!0}:void 0)}Qt&&t.dom.addEventListener("input",()=>null),Qg(t)}function Zs(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function UP(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Qg(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Zy(t,r))})}function Zy(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function HP(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function VP(t,e){!Zy(t,e)&&sn[e.type]&&(t.editable||!(e.type in an))&&sn[e.type](t,e)}an.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!nT(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ts&&Dt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),vo&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Ui(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||OP(t,n)?n.preventDefault():Zs(t,"key")};an.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};an.keypress=(t,e)=>{let n=e;if(nT(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Kn&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ae)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",l=>l(t,r.$from.pos,r.$to.pos,i,o))&&t.dispatch(o()),n.preventDefault()}};function Qf(t){return{left:t.clientX,top:t.clientY}}function $P(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function eb(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let l=o.depth+1;l>0;l--)if(t.someProp(e,u=>l>o.depth?u(t,n,o.nodeAfter,o.before(l),i,!0):u(t,n,o.node(l),o.before(l),i,!1)))return!0;return!1}function fo(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function qP(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&we.isSelectable(r)?(fo(t,new we(n)),!0):!1}function FP(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof we&&(r=n.node);let o=t.state.doc.resolve(e);for(let l=o.depth+1;l>0;l--){let u=l>o.depth?o.nodeAfter:o.node(l);if(we.isSelectable(u)){r&&n.$from.depth>0&&l>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(l);break}}return i!=null?(fo(t,we.create(t.state.doc,i)),!0):!1}function GP(t,e,n,r,i){return eb(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?FP(t,n):qP(t,n))}function KP(t,e,n,r){return eb(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function WP(t,e,n,r){return eb(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||YP(t,n,r)}function YP(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(fo(t,Ae.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o),u=i.before(o);if(l.inlineContent)fo(t,Ae.create(r,u+1,u+1+l.content.size));else if(we.isSelectable(l))fo(t,we.create(r,u));else continue;return!0}}function tb(t){return Xd(t)}const tT=Kn?"metaKey":"ctrlKey";sn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=tb(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&$P(n,t.input.lastClick)&&!n[tT]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let l=t.posAtCoords(Qf(n));l&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new JP(t,l,n,!!r)):(o=="doubleClick"?KP:WP)(t,l.pos,l.inside,n)?n.preventDefault():Zs(t,"pointer"))};class JP{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[tT],this.allowDefault=r.shiftKey;let o,l;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),l=n.inside;else{let m=e.state.doc.resolve(n.pos);o=m.parent,l=m.depth?m.before():0}const u=i?null:r.target,f=u?e.docView.nearestDesc(u,!0):null;this.target=f&&f.nodeDOM.nodeType==1?f.nodeDOM:null;let{selection:h}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||h instanceof we&&h.from<=l&&h.to>l)&&(this.mightDrag={node:o,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Jn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Zs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>is(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Qf(e))),this.updateAllowDefault(e),this.allowDefault||!n?Zs(this.view,"pointer"):GP(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Qt&&this.mightDrag&&!this.mightDrag.node.isAtom||Dt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(fo(this.view,De.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Zs(this.view,"pointer")}move(e){this.updateAllowDefault(e),Zs(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}sn.touchstart=t=>{t.input.lastTouch=Date.now(),tb(t),Zs(t,"pointer")};sn.touchmove=t=>{t.input.lastTouch=Date.now(),Zs(t,"pointer")};sn.contextmenu=t=>tb(t);function nT(t,e){return t.composing?!0:Qt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const XP=ts?5e3:-1;an.compositionstart=an.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ae&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Dt&&jC&&QP(t)))t.markCursor=t.state.storedMarks||n.marks(),Xd(t,!0),t.markCursor=null;else if(Xd(t,!e.selection.empty),Jn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let l=o<0?i.lastChild:i.childNodes[o-1];if(!l)break;if(l.nodeType==3){let u=t.domSelection();u&&u.collapse(l,l.nodeValue.length);break}else i=l,o=-1}}t.input.composing=!0}rT(t,XP)};function QP(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}an.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,rT(t,20))};function rT(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Xd(t),e))}function sT(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=eB());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function ZP(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=F6(e.focusNode,e.focusOffset),r=G6(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return r}}return n||r}function eB(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Xd(t,e=!1){if(!(ts&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),sT(t),e||t.docView&&t.docView.dirty){let n=Jy(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function tB(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const uc=bn&&ri<15||vo&&J6<604;sn.copy=an.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=uc?null:n.clipboardData,l=r.content(),{dom:u,text:f}=Qy(t,l);o?(n.preventDefault(),o.clearData(),o.setData("text/html",u.innerHTML),o.setData("text/plain",f)):tB(t,u),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function nB(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function rB(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?dc(t,r.value,null,i,e):dc(t,r.textContent,r.innerHTML,i,e)},50)}function dc(t,e,n,r,i){let o=YC(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",f=>f(t,i,o||ce.empty)))return!0;if(!o)return!1;let l=nB(o),u=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(o);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function iT(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}an.paste=(t,e)=>{let n=e;if(t.composing&&!ts)return;let r=uc?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&dc(t,iT(r),r.getData("text/html"),i,n)?n.preventDefault():rB(t,n)};class aT{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const sB=Kn?"altKey":"ctrlKey";function oT(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[sB]}sn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Qf(n)),l;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof we?i.to-1:i.to))){if(r&&r.mightDrag)l=we.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let y=t.docView.nearestDesc(n.target,!0);y&&y.node.type.spec.draggable&&y!=t.docView&&(l=we.create(t.state.doc,y.posBefore))}}let u=(l||t.state.selection).content(),{dom:f,text:h,slice:m}=Qy(t,u);(!n.dataTransfer.files.length||!Dt||_C>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(uc?"Text":"text/html",f.innerHTML),n.dataTransfer.effectAllowed="copyMove",uc||n.dataTransfer.setData("text/plain",h),t.dragging=new aT(m,oT(t,n),l)};sn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};an.dragover=an.dragenter=(t,e)=>e.preventDefault();an.drop=(t,e)=>{try{iB(t,e,t.dragging)}finally{t.dragging=null}};function iB(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(Qf(e));if(!r)return;let i=t.state.doc.resolve(r.pos),o=n&&n.slice;o?t.someProp("transformPasted",v=>{o=v(o,t,!1)}):o=YC(t,iT(e.dataTransfer),uc?null:e.dataTransfer.getData("text/html"),!1,i);let l=!!(n&&oT(t,e));if(t.someProp("handleDrop",v=>v(t,e,o||ce.empty,l))){e.preventDefault();return}if(!o)return;e.preventDefault();let u=o?dC(t.state.doc,i.pos,o):i.pos;u==null&&(u=i.pos);let f=t.state.tr;if(l){let{node:v}=n;v?v.replace(f):f.deleteSelection()}let h=f.mapping.map(u),m=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,y=f.doc;if(m?f.replaceRangeWith(h,h,o.content.firstChild):f.replaceRange(h,h,o),f.doc.eq(y))return;let x=f.doc.resolve(h);if(m&&we.isSelectable(o.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(o.content.firstChild))f.setSelection(new we(x));else{let v=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((w,k,E,C)=>v=C),f.setSelection(Xy(t,x,f.doc.resolve(v)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))}sn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&is(t)},20))};sn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};sn.beforeinput=(t,e)=>{if(Dt&&ts&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Ui(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in an)sn[t]=an[t];function fc(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Qd{constructor(e,n){this.toDOM=e,this.spec=n||Ji,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new nn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Qd&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&fc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class ii{constructor(e,n){this.attrs=e,this.spec=n||Ji}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=l?null:new nn(o,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof ii&&fc(this.attrs,e.attrs)&&fc(this.spec,e.spec)}static is(e){return e.type instanceof ii}destroy(){}}class nb{constructor(e,n){this.attrs=e,this.spec=n||Ji}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let l=e.mapResult(n.to+i,-1);return l.deleted||l.pos<=o.pos?null:new nn(o.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof nb&&fc(this.attrs,e.attrs)&&fc(this.spec,e.spec)}destroy(){}}class nn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new nn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new nn(e,e,new Qd(n,r))}static inline(e,n,r,i){return new nn(e,n,new ii(r,i))}static node(e,n,r,i){return new nn(e,n,new nb(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof ii}get widget(){return this.type instanceof Qd}}const to=[],Ji={};class ft{constructor(e,n){this.local=e.length?e:to,this.children=n.length?n:to}static create(e,n){return n.length?Zd(n,e,0,Ji):Yt}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let l=0;l<this.local.length;l++){let u=this.local[l];u.from<=n&&u.to>=e&&(!o||o(u.spec))&&r.push(u.copy(u.from+i,u.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let u=this.children[l]+1;this.children[l+2].findInner(e-u,n-u,r,i+u,o)}}map(e,n,r){return this==Yt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Ji)}mapInner(e,n,r,i,o){let l;for(let u=0;u<this.local.length;u++){let f=this.local[u].map(e,r,i);f&&f.type.valid(n,f)?(l||(l=[])).push(f):o.onRemove&&o.onRemove(this.local[u].spec)}return this.children.length?aB(this.children,l||[],e,n,r,i,o):l?new ft(l.sort(Xi),to):Yt}add(e,n){return n.length?this==Yt?ft.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((u,f)=>{let h=f+r,m;if(m=cT(n,u,h)){for(i||(i=this.children.slice());o<i.length&&i[o]<f;)o+=3;i[o]==f?i[o+2]=i[o+2].addInner(u,m,h+1):i.splice(o,0,f,f+u.nodeSize,Zd(m,u,h+1,Ji)),o+=3}});let l=lT(o?uT(n):n,-r);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||l.splice(u--,1);return new ft(l.length?this.local.concat(l).sort(Xi):this.local,i||this.children)}remove(e){return e.length==0||this==Yt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let l,u=r[o]+n,f=r[o+1]+n;for(let m=0,y;m<e.length;m++)(y=e[m])&&y.from>u&&y.to<f&&(e[m]=null,(l||(l=[])).push(y));if(!l)continue;r==this.children&&(r=this.children.slice());let h=r[o+2].removeInner(l,u+1);h!=Yt?r[o+2]=h:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,l;o<e.length;o++)if(l=e[o])for(let u=0;u<i.length;u++)i[u].eq(l,n)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new ft(i,r):Yt}forChild(e,n){if(this==Yt)return this;if(n.isLeaf)return ft.empty;let r,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let o=e+1,l=o+n.content.size;for(let u=0;u<this.local.length;u++){let f=this.local[u];if(f.from<l&&f.to>o&&f.type instanceof ii){let h=Math.max(o,f.from)-o,m=Math.min(l,f.to)-o;h<m&&(i||(i=[])).push(f.copy(h,m))}}if(i){let u=new ft(i.sort(Xi),to);return r?new Ys([u,r]):u}return r||Yt}eq(e){if(this==e)return!0;if(!(e instanceof ft)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return rb(this.localsInner(e))}localsInner(e){if(this==Yt)return to;if(e.inlineContent||!this.local.some(ii.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof ii||n.push(this.local[r]);return n}forEachSet(e){e(this)}}ft.empty=new ft([],[]);ft.removeOverlap=rb;const Yt=ft.empty;class Ys{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Ji));return Ys.from(r)}forChild(e,n){if(n.isLeaf)return ft.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=Yt&&(o instanceof Ys?r=r.concat(o.members):r.push(o))}return Ys.from(r)}eq(e){if(!(e instanceof Ys)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let l=0;l<o.length;l++)n.push(o[l])}}return n?rb(r?n:n.sort(Xi)):to}static from(e){switch(e.length){case 0:return Yt;case 1:return e[0];default:return new Ys(e.every(n=>n instanceof ft)?e:e.reduce((n,r)=>n.concat(r instanceof ft?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function aB(t,e,n,r,i,o,l){let u=t.slice();for(let h=0,m=o;h<n.maps.length;h++){let y=0;n.maps[h].forEach((x,v,w,k)=>{let E=k-w-(v-x);for(let C=0;C<u.length;C+=3){let O=u[C+1];if(O<0||x>O+m-y)continue;let j=u[C]+m-y;v>=j?u[C+1]=x<=j?-2:-1:x>=m&&E&&(u[C]+=E,u[C+1]+=E)}y+=E}),m=n.maps[h].map(m,-1)}let f=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){f=!0,u[h+1]=-1;continue}let m=n.map(t[h]+o),y=m-i;if(y<0||y>=r.content.size){f=!0;continue}let x=n.map(t[h+1]+o,-1),v=x-i,{index:w,offset:k}=r.content.findIndex(y),E=r.maybeChild(w);if(E&&k==y&&k+E.nodeSize==v){let C=u[h+2].mapInner(n,E,m+1,t[h]+o+1,l);C!=Yt?(u[h]=y,u[h+1]=v,u[h+2]=C):(u[h+1]=-2,f=!0)}else f=!0}if(f){let h=oB(u,t,e,n,i,o,l),m=Zd(h,r,0,l);e=m.local;for(let y=0;y<u.length;y+=3)u[y+1]<0&&(u.splice(y,3),y-=3);for(let y=0,x=0;y<m.children.length;y+=3){let v=m.children[y];for(;x<u.length&&u[x]<v;)x+=3;u.splice(x,0,m.children[y],m.children[y+1],m.children[y+2])}}return new ft(e.sort(Xi),u)}function lT(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new nn(i.from+e,i.to+e,i.type))}return n}function oB(t,e,n,r,i,o,l){function u(f,h){for(let m=0;m<f.local.length;m++){let y=f.local[m].map(r,i,h);y?n.push(y):l.onRemove&&l.onRemove(f.local[m].spec)}for(let m=0;m<f.children.length;m+=3)u(f.children[m+2],f.children[m]+h+1)}for(let f=0;f<t.length;f+=3)t[f+1]==-1&&u(t[f+2],e[f]+o+1);return n}function cT(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,l;o<t.length;o++)(l=t[o])&&l.from>n&&l.to<r&&((i||(i=[])).push(l),t[o]=null);return i}function uT(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Zd(t,e,n,r){let i=[],o=!1;e.forEach((u,f)=>{let h=cT(t,u,f+n);if(h){o=!0;let m=Zd(h,u,n+f+1,r);m!=Yt&&i.push(f,f+u.nodeSize,m)}});let l=lT(o?uT(t):t,-n).sort(Xi);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||(r.onRemove&&r.onRemove(l[u].spec),l.splice(u--,1));return l.length||i.length?new ft(l,i):Yt}function Xi(t,e){return t.from-e.from||t.to-e.to}function rb(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),LS(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),LS(e,i,r.copy(o.from,r.to)));break}}}return e}function LS(t,e,n){for(;e<t.length&&Xi(n,t[e])>0;)e++;t.splice(e,0,n)}function Zm(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Yt&&e.push(r)}),t.cursorWrapper&&e.push(ft.create(t.state.doc,[t.cursorWrapper.deco])),Ys.from(e)}const lB={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},cB=bn&&ri<=11;class uB{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class dB{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new uB,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);bn&&ri<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),cB&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,lB)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(TS(this.view)){if(this.suppressingSelectionUpdates)return is(this.view);if(bn&&ri<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ia(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=xo(o))n.add(o);for(let o=e.anchorNode;o;o=xo(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&TS(e)&&!this.ignoreSelectionChange(r),o=-1,l=-1,u=!1,f=[];if(e.editable)for(let m=0;m<n.length;m++){let y=this.registerMutation(n[m],f);y&&(o=o<0?y.from:Math.min(y.from,o),l=l<0?y.to:Math.max(y.to,l),y.typeOver&&(u=!0))}if(Jn&&f.length){let m=f.filter(y=>y.nodeName=="BR");if(m.length==2){let[y,x]=m;y.parentNode&&y.parentNode.parentNode==x.parentNode?x.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let x of m){let v=x.parentNode;v&&v.nodeName=="LI"&&(!y||pB(e,y)!=v)&&x.remove()}}}else if((Dt||Qt)&&f.some(m=>m.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let m of f)if(m.nodeName=="BR"&&m.parentNode){let y=m.nextSibling;y&&y.nodeType==1&&y.contentEditable=="false"&&m.parentNode.removeChild(m)}}let h=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Jf(r)&&(h=Jy(e))&&h.eq(De.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,is(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,l),fB(e)),this.handleDOMChange(o,l,u,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||is(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let y=e.addedNodes[m];n.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(bn&&ri<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:y,nextSibling:x}=e.addedNodes[m];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(i=y),(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(o=x)}let l=i&&i.parentNode==e.target?Ft(i)+1:0,u=r.localPosFromDOM(e.target,l,-1),f=o&&o.parentNode==e.target?Ft(o):e.target.childNodes.length,h=r.localPosFromDOM(e.target,f,1);return{from:u,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let IS=new WeakMap,zS=!1;function fB(t){if(!IS.has(t)&&(IS.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Jn,zS)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),zS=!0}}function PS(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return ia(l.node,l.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function hB(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return PS(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?PS(t,n):null}function pB(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function mB(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:l,to:u}=t.docView.parseRange(e,n),f=t.domSelectionRange(),h,m=f.anchorNode;if(m&&t.dom.contains(m.nodeType==1?m:m.parentNode)&&(h=[{node:m,offset:f.anchorOffset}],Jf(f)||h.push({node:f.focusNode,offset:f.focusOffset})),Dt&&t.input.lastKeyCode===8)for(let E=o;E>i;E--){let C=r.childNodes[E-1],O=C.pmViewDesc;if(C.nodeName=="BR"&&!O){o=E;break}if(!O||O.size)break}let y=t.state.doc,x=t.someProp("domParser")||ni.fromSchema(t.state.schema),v=y.resolve(l),w=null,k=x.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:i,to:o,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:gB,context:v});if(h&&h[0].pos!=null){let E=h[0].pos,C=h[1]&&h[1].pos;C==null&&(C=E),w={anchor:E+l,head:C+l}}return{doc:k,sel:w,from:l,to:u}}function gB(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Qt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Qt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const yB=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function bB(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let H=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,V=Jy(t,H);if(V&&!t.state.selection.eq(V)){if(Dt&&ts&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",le=>le(t,Ui(13,"Enter"))))return;let ne=t.state.tr.setSelection(V);H=="pointer"?ne.setMeta("pointer",!0):H=="key"&&ne.scrollIntoView(),o&&ne.setMeta("composition",o),t.dispatch(ne)}return}let l=t.state.doc.resolve(e),u=l.sharedDepth(n);e=l.before(u+1),n=t.state.doc.resolve(n).after(u+1);let f=t.state.selection,h=mB(t,e,n),m=t.state.doc,y=m.slice(h.from,h.to),x,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(x=t.state.selection.to,v="end"):(x=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let w=wB(y.content,h.doc.content,h.from,x,v);if(w&&t.input.domChangeCount++,(vo&&t.input.lastIOSEnter>Date.now()-225||ts)&&i.some(H=>H.nodeType==1&&!yB.test(H.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",H=>H(t,Ui(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(r&&f instanceof Ae&&!f.empty&&f.$head.sameParent(f.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))w={start:f.from,endA:f.to,endB:f.to};else{if(h.sel){let H=BS(t,t.state.doc,h.sel);if(H&&!H.eq(t.state.selection)){let V=t.state.tr.setSelection(H);o&&V.setMeta("composition",o),t.dispatch(V)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof Ae&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),bn&&ri<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>h.from&&h.doc.textBetween(w.start-h.from-1,w.start-h.from+1)==" "&&(w.start--,w.endA--,w.endB--);let k=h.doc.resolveNoCache(w.start-h.from),E=h.doc.resolveNoCache(w.endB-h.from),C=m.resolve(w.start),O=k.sameParent(E)&&k.parent.inlineContent&&C.end()>=w.endA;if((vo&&t.input.lastIOSEnter>Date.now()-225&&(!O||i.some(H=>H.nodeName=="DIV"||H.nodeName=="P"))||!O&&k.pos<h.doc.content.size&&(!k.sameParent(E)||!k.parent.inlineContent)&&k.pos<E.pos&&!/\S/.test(h.doc.textBetween(k.pos,E.pos,"","")))&&t.someProp("handleKeyDown",H=>H(t,Ui(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&vB(m,w.start,w.endA,k,E)&&t.someProp("handleKeyDown",H=>H(t,Ui(8,"Backspace")))){ts&&Dt&&t.domObserver.suppressSelectionUpdates();return}Dt&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),ts&&!O&&k.start()!=E.start()&&E.parentOffset==0&&k.depth==E.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==w.endA&&(w.endB-=2,E=h.doc.resolveNoCache(w.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(H){return H(t,Ui(13,"Enter"))})},20));let j=w.start,B=w.endA,U=H=>{let V=H||t.state.tr.replace(j,B,h.doc.slice(w.start-h.from,w.endB-h.from));if(h.sel){let ne=BS(t,V.doc,h.sel);ne&&!(Dt&&t.composing&&ne.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(ne.head==j||ne.head==V.mapping.map(B)-1)||bn&&ne.empty&&ne.head==j)&&V.setSelection(ne)}return o&&V.setMeta("composition",o),V.scrollIntoView()},J;if(O)if(k.pos==E.pos){bn&&ri<=11&&k.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>is(t),20));let H=U(t.state.tr.delete(j,B)),V=m.resolve(w.start).marksAcross(m.resolve(w.endA));V&&H.ensureMarks(V),t.dispatch(H)}else if(w.endA==w.endB&&(J=xB(k.parent.content.cut(k.parentOffset,E.parentOffset),C.parent.content.cut(C.parentOffset,w.endA-C.start())))){let H=U(t.state.tr);J.type=="add"?H.addMark(j,B,J.mark):H.removeMark(j,B,J.mark),t.dispatch(H)}else if(k.parent.child(k.index()).isText&&k.index()==E.index()-(E.textOffset?0:1)){let H=k.parent.textBetween(k.parentOffset,E.parentOffset),V=()=>U(t.state.tr.insertText(H,j,B));t.someProp("handleTextInput",ne=>ne(t,j,B,H,V))||t.dispatch(V())}else t.dispatch(U());else t.dispatch(U())}function BS(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Xy(t,e.resolve(n.anchor),e.resolve(n.head))}function xB(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,l,u,f;for(let m=0;m<r.length;m++)i=r[m].removeFromSet(i);for(let m=0;m<n.length;m++)o=n[m].removeFromSet(o);if(i.length==1&&o.length==0)u=i[0],l="add",f=m=>m.mark(u.addToSet(m.marks));else if(i.length==0&&o.length==1)u=o[0],l="remove",f=m=>m.mark(u.removeFromSet(m.marks));else return null;let h=[];for(let m=0;m<e.childCount;m++)h.push(f(e.child(m)));if(se.from(h).eq(t))return{mark:u,type:l}}function vB(t,e,n,r,i){if(n-e<=i.pos-r.pos||eg(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let u=o.nodeAfter;return u!=null&&n==e+u.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let l=t.resolve(eg(o,!0,!0));return!l.parent.isTextblock||l.pos>n||eg(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function eg(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function wB(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:l,b:u}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let f=Math.max(0,o-Math.min(l,u));r-=l+f-o}if(l<o&&t.size<e.size){let f=r<=o&&r>=l?o-r:0;o-=f,o&&o<e.size&&US(e.textBetween(o-1,o+1))&&(o+=f?1:-1),u=o+(u-l),l=o}else if(u<o){let f=r<=o&&r>=u?o-r:0;o-=f,o&&o<t.size&&US(t.textBetween(o-1,o+1))&&(o+=f?1:-1),l=o+(l-u),u=o}return{start:o,endA:l,endB:u}}function US(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class dT{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new PP,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(FS),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=$S(this),VS(this),this.nodeViews=qS(this),this.docView=wS(this.state.doc,HS(this),Zm(this),this.dom,this),this.domObserver=new dB(this,(r,i,o,l)=>bB(this,r,i,o,l)),this.domObserver.start(),BP(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Qg(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(FS),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,l=!1;e.storedMarks&&this.composing&&(sT(this),l=!0),this.state=e;let u=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=qS(this);EB(v,this.nodeViews)&&(this.nodeViews=v,o=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&Qg(this),this.editable=$S(this),VS(this);let f=Zm(this),h=HS(this),m=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",y=o||!this.docView.matchesNode(e.doc,h,f);(y||!e.selection.eq(i.selection))&&(l=!0);let x=m=="preserve"&&l&&this.dom.style.overflowAnchor==null&&Z6(this);if(l){this.domObserver.stop();let v=y&&(bn||Dt)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&SB(i.selection,e.selection);if(y){let w=Dt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=ZP(this)),(o||!this.docView.update(e.doc,h,f,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=wS(e.doc,h,f,this.dom,this)),w&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&EP(this))?is(this,v):(GC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():x&&eP(x)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof we){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&mS(this,n.getBoundingClientRect(),e)}else mS(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new aT(e.slice,e.move,i<0?void 0:we.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let u=this.directPlugins[l].props[e];if(u!=null&&(i=n?n(u):u))return i}let o=this.state.plugins;if(o)for(let l=0;l<o.length;l++){let u=o[l].props[e];if(u!=null&&(i=n?n(u):u))return i}}hasFocus(){if(bn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&tP(this.dom),is(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return aP(this,e)}coordsAtPos(e,n=1){return PC(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return dP(this,n||this.state,e)}pasteHTML(e,n){return dc(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return dc(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Qy(this,e)}destroy(){this.docView&&(UP(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Zm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,$6())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return VP(this,e)}domSelectionRange(){let e=this.domSelection();return e?Qt&&this.root.nodeType===11&&W6(this.dom.ownerDocument)==this.dom&&hB(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}dT.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function HS(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[nn.node(0,t.state.doc.content.size,e)]}function VS(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:nn.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function $S(t){return!t.someProp("editable",e=>e(t.state)===!1)}function SB(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function qS(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function EB(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function FS(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ai={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ef={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},kB=typeof navigator<"u"&&/Mac/.test(navigator.platform),NB=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Gt=0;Gt<10;Gt++)ai[48+Gt]=ai[96+Gt]=String(Gt);for(var Gt=1;Gt<=24;Gt++)ai[Gt+111]="F"+Gt;for(var Gt=65;Gt<=90;Gt++)ai[Gt]=String.fromCharCode(Gt+32),ef[Gt]=String.fromCharCode(Gt);for(var tg in ai)ef.hasOwnProperty(tg)||(ef[tg]=ai[tg]);function CB(t){var e=kB&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||NB&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?ef:ai)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const TB=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),AB=typeof navigator<"u"&&/Win/.test(navigator.platform);function MB(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,l;for(let u=0;u<e.length-1;u++){let f=e[u];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))TB?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),l&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function OB(t){let e=Object.create(null);for(let n in t)e[MB(n)]=t[n];return e}function ng(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function RB(t){return new pt({props:{handleKeyDown:fT(t)}})}function fT(t){let e=OB(t);return function(n,r){let i=CB(r),o,l=e[ng(i,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let u=e[ng(i,r,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(AB&&r.ctrlKey&&r.altKey)&&(o=ai[r.keyCode])&&o!=i){let u=e[ng(o,r)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}var _B=Object.defineProperty,sb=(t,e)=>{for(var n in e)_B(t,n,{get:e[n],enumerable:!0})};function Zf(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}var eh=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([l,u])=>[l,(...h)=>{const m=u(...h)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,l=[],u=!!t,f=t||i.tr,h=()=>(!u&&e&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(f),l.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(n).map(([y,x])=>[y,(...w)=>{const k=this.buildProps(f,e),E=x(...w)(k);return l.push(E),m}])),run:h};return m}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([u,f])=>[u,(...h)=>f(...h)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,l={tr:t,editor:r,view:o,state:Zf({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([u,f])=>[u,(...h)=>f(...h)(l)]))}};return l}},hT={};sb(hT,{blur:()=>jB,clearContent:()=>DB,clearNodes:()=>LB,command:()=>IB,createParagraphNear:()=>zB,cut:()=>PB,deleteCurrentNode:()=>BB,deleteNode:()=>UB,deleteRange:()=>HB,deleteSelection:()=>VB,enter:()=>$B,exitCode:()=>qB,extendMarkRange:()=>FB,first:()=>GB,focus:()=>WB,forEach:()=>YB,insertContent:()=>JB,insertContentAt:()=>ZB,joinBackward:()=>nU,joinDown:()=>tU,joinForward:()=>rU,joinItemBackward:()=>sU,joinItemForward:()=>iU,joinTextblockBackward:()=>aU,joinTextblockForward:()=>oU,joinUp:()=>eU,keyboardShortcut:()=>cU,lift:()=>uU,liftEmptyBlock:()=>dU,liftListItem:()=>fU,newlineInCode:()=>hU,resetAttributes:()=>pU,scrollIntoView:()=>mU,selectAll:()=>gU,selectNodeBackward:()=>yU,selectNodeForward:()=>bU,selectParentNode:()=>xU,selectTextblockEnd:()=>vU,selectTextblockStart:()=>wU,setContent:()=>SU,setMark:()=>VU,setMeta:()=>$U,setNode:()=>qU,setNodeSelection:()=>FU,setTextDirection:()=>GU,setTextSelection:()=>KU,sinkListItem:()=>WU,splitBlock:()=>YU,splitListItem:()=>JU,toggleList:()=>XU,toggleMark:()=>QU,toggleNode:()=>ZU,toggleWrap:()=>e8,undoInputRule:()=>t8,unsetAllMarks:()=>n8,unsetMark:()=>r8,unsetTextDirection:()=>s8,updateAttributes:()=>i8,wrapIn:()=>a8,wrapInList:()=>o8});var jB=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),DB=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),LB=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:l})=>{t.doc.nodesBetween(o.pos,l.pos,(u,f)=>{if(u.type.isText)return;const{doc:h,mapping:m}=e,y=h.resolve(m.map(f)),x=h.resolve(m.map(f+u.nodeSize)),v=y.blockRange(x);if(!v)return;const w=_o(v);if(u.type.isTextblock){const{defaultType:k}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(v.start,k)}(w||w===0)&&e.lift(v,w)})}),!0},IB=t=>e=>t(e),zB=()=>({state:t,dispatch:e})=>TC(t,e),PB=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,o.content),r.setSelection(new Ae(r.doc.resolve(Math.max(l-1,0)))),!0},BB=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const u=i.before(o),f=i.after(o);t.delete(u,f).scrollIntoView()}return!0}return!1};function Tt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var UB=t=>({tr:e,state:n,dispatch:r})=>{const i=Tt(t,n.schema),o=e.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===i){if(r){const f=o.before(l),h=o.after(l);e.delete(f,h).scrollIntoView()}return!0}return!1},HB=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},VB=()=>({state:t,dispatch:e})=>qy(t,e),$B=()=>({commands:t})=>t.keyboardShortcut("Enter"),qB=()=>({state:t,dispatch:e})=>A6(t,e);function ib(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function tf(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:ib(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function pT(t,e,n={}){return t.find(r=>r.type===e&&tf(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function GS(t,e,n={}){return!!pT(t,e,n)}function ab(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(m=>m.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(m=>m.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!pT([...i.node.marks],e,n)))return;let l=i.index,u=t.start()+i.offset,f=l+1,h=u+i.node.nodeSize;for(;l>0&&GS([...t.parent.child(l-1).marks],e,n);)l-=1,u-=t.parent.child(l).nodeSize;for(;f<t.parent.childCount&&GS([...t.parent.child(f).marks],e,n);)h+=t.parent.child(f).nodeSize,f+=1;return{from:u,to:h}}function ds(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var FB=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=ds(t,r.schema),{doc:l,selection:u}=n,{$from:f,from:h,to:m}=u;if(i){const y=ab(f,o,e);if(y&&y.from<=h&&y.to>=m){const x=Ae.create(l,y.from,y.to);n.setSelection(x)}}return!0},GB=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function mT(t){return t instanceof Ae}function Fi(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function gT(t,e=null){if(!e)return null;const n=De.atStart(t),r=De.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?Ae.create(t,Fi(0,i,o),Fi(t.content.size,i,o)):Ae.create(t,Fi(e,i,o),Fi(e,i,o))}function KS(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function nf(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function KB(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var WB=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const l=()=>{(nf()||KS())&&r.dom.focus(),KB()&&!nf()&&!KS()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!mT(n.state.selection))return l(),!0;const u=gT(i.doc,t)||n.state.selection,f=n.state.selection.eq(u);return o&&(f||i.setSelection(u),f&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},YB=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),JB=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),yT=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&yT(r)}return t};function od(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return yT(n)}function hc(t,e,n){if(t instanceof dr||t instanceof se)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return se.fromArray(t.map(u=>e.nodeFromJSON(u)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),hc("",e,n)}if(i){if(n.errorOnInvalidContent){let l=!1,u="";const f=new eC({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(l=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?ni.fromSchema(f).parseSlice(od(t),n.parseOptions):ni.fromSchema(f).parse(od(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const o=ni.fromSchema(e);return n.slice?o.parseSlice(od(t),n.parseOptions).content:o.parse(od(t),n.parseOptions)}return hc("",e,n)}function XB(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof jt||i instanceof Lt))return;const o=t.mapping.maps[r];let l=0;o.forEach((u,f,h,m)=>{l===0&&(l=m)}),t.setSelection(De.near(t.doc.resolve(l),n))}var QB=t=>!("type"in t),ZB=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{var l;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;const f=E=>{o.emit("contentError",{editor:o,error:E,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{hc(e,o.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(E){f(E)}try{u=hc(e,o.schema,{parseOptions:h,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:o.options.enableContentCheck})}catch(E){return f(E),!1}let{from:m,to:y}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},x=!0,v=!0;if((QB(u)?u:[u]).forEach(E=>{E.check(),x=x?E.isText&&E.marks.length===0:!1,v=v?E.isBlock:!1}),m===y&&v){const{parent:E}=r.doc.resolve(m);E.isTextblock&&!E.type.spec.code&&!E.childCount&&(m-=1,y+=1)}let k;if(x){if(Array.isArray(e))k=e.map(E=>E.text||"").join("");else if(e instanceof se){let E="";e.forEach(C=>{C.text&&(E+=C.text)}),k=E}else typeof e=="object"&&e&&e.text?k=e.text:k=e;r.insertText(k,m,y)}else{k=u;const E=r.doc.resolve(m),C=E.node(),O=E.parentOffset===0,j=C.isText||C.isTextblock,B=C.content.size>0;O&&j&&B&&(m=Math.max(0,m-1)),r.replaceWith(m,y,k)}n.updateSelection&&XB(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:m,text:k}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:m,text:k})}return!0},eU=()=>({state:t,dispatch:e})=>N6(t,e),tU=()=>({state:t,dispatch:e})=>C6(t,e),nU=()=>({state:t,dispatch:e})=>vC(t,e),rU=()=>({state:t,dispatch:e})=>kC(t,e),sU=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Kf(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},iU=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Kf(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},aU=()=>({state:t,dispatch:e})=>E6(t,e),oU=()=>({state:t,dispatch:e})=>k6(t,e);function bT(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function lU(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,l;for(let u=0;u<e.length-1;u+=1){const f=e[u];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))nf()||bT()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var cU=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=lU(t).split(/-(?!$)/),l=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,u))});return f?.steps.forEach(h=>{const m=h.map(r.mapping);m&&i&&r.maybeStep(m)}),!0};function oi(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,l=e?Tt(e,t.schema):null,u=[];t.doc.nodesBetween(r,i,(y,x)=>{if(y.isText)return;const v=Math.max(r,x),w=Math.min(i,x+y.nodeSize);u.push({node:y,from:v,to:w})});const f=i-r,h=u.filter(y=>l?l.name===y.node.type.name:!0).filter(y=>tf(y.node.attrs,n,{strict:!1}));return o?!!h.length:h.reduce((y,x)=>y+x.to-x.from,0)>=f}var uU=(t,e={})=>({state:n,dispatch:r})=>{const i=Tt(t,n.schema);return oi(n,i,e)?T6(n,r):!1},dU=()=>({state:t,dispatch:e})=>AC(t,e),fU=t=>({state:e,dispatch:n})=>{const r=Tt(t,e.schema);return B6(r)(e,n)},hU=()=>({state:t,dispatch:e})=>CC(t,e);function th(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function WS(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var pU=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,l=null;const u=th(typeof t=="string"?t:t.name,r.schema);if(!u)return!1;u==="node"&&(o=Tt(t,r.schema)),u==="mark"&&(l=ds(t,r.schema));let f=!1;return n.selection.ranges.forEach(h=>{r.doc.nodesBetween(h.$from.pos,h.$to.pos,(m,y)=>{o&&o===m.type&&(f=!0,i&&n.setNodeMarkup(y,void 0,WS(m.attrs,e))),l&&m.marks.length&&m.marks.forEach(x=>{l===x.type&&(f=!0,i&&n.addMark(y,y+m.nodeSize,l.create(WS(x.attrs,e))))})})}),f},mU=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),gU=()=>({tr:t,dispatch:e})=>{if(e){const n=new Rn(t.doc);t.setSelection(n)}return!0},yU=()=>({state:t,dispatch:e})=>SC(t,e),bU=()=>({state:t,dispatch:e})=>NC(t,e),xU=()=>({state:t,dispatch:e})=>R6(t,e),vU=()=>({state:t,dispatch:e})=>D6(t,e),wU=()=>({state:t,dispatch:e})=>j6(t,e);function Zg(t,e,n={},r={}){return hc(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var SU=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:o,dispatch:l,commands:u})=>{const{doc:f}=o;if(r.preserveWhitespace!=="full"){const h=Zg(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return l&&o.replaceWith(0,f.content.size,h).setMeta("preventUpdate",!n),!0}return l&&o.setMeta("preventUpdate",!n),u.insertContentAt({from:0,to:f.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function xT(t,e){const n=ds(e,t.schema),{from:r,to:i,empty:o}=t.selection,l=[];o?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,f=>{l.push(...f.marks)});const u=l.find(f=>f.type.name===n.name);return u?{...u.attrs}:{}}function vT(t,e){const n=new gC(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function EU(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function kU(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function NU(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function nh(t){return e=>NU(e.$from,t)}function be(t,e,n){return t.config[e]===void 0&&t.parent?be(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?be(t.parent,e,n):null}):t.config[e]}function ob(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=be(e,"addExtensions",n);return r?[e,...ob(r())]:e}).flat(10)}function lb(t,e){const n=ca.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function wT(t){return typeof t=="function"}function Xe(t,e=void 0,...n){return wT(t)?e?t.bind(e)(...n):t(...n):t}function CU(t={}){return Object.keys(t).length===0&&t.constructor===Object}function wo(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function ST(t){const e=[],{nodeExtensions:n,markExtensions:r}=wo(t),i=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const u={name:l.name,options:l.options,storage:l.storage,extensions:i},f=be(l,"addGlobalAttributes",u);if(!f)return;f().forEach(m=>{m.types.forEach(y=>{Object.entries(m.attributes).forEach(([x,v])=>{e.push({type:y,name:x,attribute:{...o,...v}})})})})}),i.forEach(l=>{const u={name:l.name,options:l.options,storage:l.storage},f=be(l,"addAttributes",u);if(!f)return;const h=f();Object.entries(h).forEach(([m,y])=>{const x={...o,...y};typeof x?.default=="function"&&(x.default=x.default()),x?.isRequired&&x?.default===void 0&&delete x.default,e.push({type:l.name,name:m,attribute:x})})}),e}function ht(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const u=o?String(o).split(" "):[],f=r[i]?r[i].split(" "):[],h=u.filter(m=>!f.includes(m));r[i]=[...f,...h].join(" ")}else if(i==="style"){const u=o?o.split(";").map(m=>m.trim()).filter(Boolean):[],f=r[i]?r[i].split(";").map(m=>m.trim()).filter(Boolean):[],h=new Map;f.forEach(m=>{const[y,x]=m.split(":").map(v=>v.trim());h.set(y,x)}),u.forEach(m=>{const[y,x]=m.split(":").map(v=>v.trim());h.set(y,x)}),r[i]=Array.from(h.entries()).map(([m,y])=>`${m}: ${y}`).join("; ")}else r[i]=o}),r},{})}function pc(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>ht(n,r),{})}function TU(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function YS(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,l)=>{const u=l.attribute.parseHTML?l.attribute.parseHTML(n):TU(n.getAttribute(l.name));return u==null?o:{...o,[l.name]:u}},{});return{...r,...i}}}}function JS(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&CU(n)?!1:n!=null))}function XS(t){var e,n;const r={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(r.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function AU(t,e){var n;const r=ST(t),{nodeExtensions:i,markExtensions:o}=wo(t),l=(n=i.find(h=>be(h,"topNode")))==null?void 0:n.name,u=Object.fromEntries(i.map(h=>{const m=r.filter(C=>C.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},x=t.reduce((C,O)=>{const j=be(O,"extendNodeSchema",y);return{...C,...j?j(h):{}}},{}),v=JS({...x,content:Xe(be(h,"content",y)),marks:Xe(be(h,"marks",y)),group:Xe(be(h,"group",y)),inline:Xe(be(h,"inline",y)),atom:Xe(be(h,"atom",y)),selectable:Xe(be(h,"selectable",y)),draggable:Xe(be(h,"draggable",y)),code:Xe(be(h,"code",y)),whitespace:Xe(be(h,"whitespace",y)),linebreakReplacement:Xe(be(h,"linebreakReplacement",y)),defining:Xe(be(h,"defining",y)),isolating:Xe(be(h,"isolating",y)),attrs:Object.fromEntries(m.map(XS))}),w=Xe(be(h,"parseHTML",y));w&&(v.parseDOM=w.map(C=>YS(C,m)));const k=be(h,"renderHTML",y);k&&(v.toDOM=C=>k({node:C,HTMLAttributes:pc(C,m)}));const E=be(h,"renderText",y);return E&&(v.toText=E),[h.name,v]})),f=Object.fromEntries(o.map(h=>{const m=r.filter(E=>E.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},x=t.reduce((E,C)=>{const O=be(C,"extendMarkSchema",y);return{...E,...O?O(h):{}}},{}),v=JS({...x,inclusive:Xe(be(h,"inclusive",y)),excludes:Xe(be(h,"excludes",y)),group:Xe(be(h,"group",y)),spanning:Xe(be(h,"spanning",y)),code:Xe(be(h,"code",y)),attrs:Object.fromEntries(m.map(XS))}),w=Xe(be(h,"parseHTML",y));w&&(v.parseDOM=w.map(E=>YS(E,m)));const k=be(h,"renderHTML",y);return k&&(v.toDOM=E=>k({mark:E,HTMLAttributes:pc(E,m)})),[h.name,v]}));return new eC({topNode:l,nodes:u,marks:f})}function MU(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function rf(t){return t.sort((n,r)=>{const i=be(n,"priority")||100,o=be(r,"priority")||100;return i>o?-1:i<o?1:0})}function ET(t){const e=rf(ob(t)),n=MU(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function kT(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:l={}}=n||{};let u="";return t.nodesBetween(r,i,(f,h,m,y)=>{var x;f.isBlock&&h>r&&(u+=o);const v=l?.[f.type.name];if(v)return m&&(u+=v({node:f,pos:h,parent:m,index:y,range:e})),!1;f.isText&&(u+=(x=f?.text)==null?void 0:x.slice(Math.max(r,h)-h,i-h))}),u}function OU(t,e){const n={from:0,to:t.content.size};return kT(t,n,e)}function NT(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function RU(t,e){const n=Tt(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,u=>{o.push(u)});const l=o.reverse().find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function CT(t,e){const n=th(typeof e=="string"?e:e.name,t.schema);return n==="node"?RU(t,e):n==="mark"?xT(t,e):{}}function _U(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function jU(t){const e=_U(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,l)=>l!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function TT(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,o)=>{const l=[];if(i.ranges.length)i.forEach((u,f)=>{l.push({from:u,to:f})});else{const{from:u,to:f}=n[o];if(u===void 0||f===void 0)return;l.push({from:u,to:f})}l.forEach(({from:u,to:f})=>{const h=e.slice(o).map(u,-1),m=e.slice(o).map(f),y=e.invert().map(h,-1),x=e.invert().map(m);r.push({oldRange:{from:y,to:x},newRange:{from:h,to:m}})})}),jU(r)}function cb(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t),l=ab(o,i.type);l&&r.push({mark:i,...l})}):n.nodesBetween(t,e,(i,o)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(l=>({from:o,to:o+i.nodeSize,mark:l})))}),r}var DU=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let o=r,l=null;for(;o>0&&l===null;){const u=i.node(o);u?.type.name===e?l=u:o-=1}return[l,o]};function ld(t,e){return e.nodes[t]||e.marks[t]||null}function Ad(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}var LU=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,l,u)=>{var f,h;const m=((h=(f=i.type.spec).toText)==null?void 0:h.call(f,{node:i,pos:o,parent:l,index:u}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?m:m.slice(0,Math.max(0,r-o))}),n};function ey(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?ds(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(y=>o?o.name===y.type.name:!0).find(y=>tf(y.attrs,n,{strict:!1}));let l=0;const u=[];if(i.forEach(({$from:y,$to:x})=>{const v=y.pos,w=x.pos;t.doc.nodesBetween(v,w,(k,E)=>{if(!k.isText&&!k.marks.length)return;const C=Math.max(v,E),O=Math.min(w,E+k.nodeSize),j=O-C;l+=j,u.push(...k.marks.map(B=>({mark:B,from:C,to:O})))})}),l===0)return!1;const f=u.filter(y=>o?o.name===y.mark.type.name:!0).filter(y=>tf(y.mark.attrs,n,{strict:!1})).reduce((y,x)=>y+x.to-x.from,0),h=u.filter(y=>o?y.mark.type!==o&&y.mark.type.excludes(o):!0).reduce((y,x)=>y+x.to-x.from,0);return(f>0?f+h:f)>=l}function IU(t,e,n={}){if(!e)return oi(t,null,n)||ey(t,null,n);const r=th(e,t.schema);return r==="node"?oi(t,e,n):r==="mark"?ey(t,e,n):!1}var zU=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const o=nh(u=>u.type.name===e)(t.selection);if(!o)return!1;const l=t.doc.resolve(o.pos+1);return i.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},PU=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function QS(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function ZS(t,e){const{nodeExtensions:n}=wo(e),r=n.find(l=>l.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Xe(be(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function rh(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(o=>{i!==!1&&(rh(o,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function AT(t){return t instanceof we}var MT=class OT{constructor(e){this.position=e}static fromJSON(e){return new OT(e.position)}toJSON(){return{position:this.position}}};function BU(t,e){const n=e.mapping.mapResult(t.position);return{position:new MT(n.pos),mapResult:n}}function UU(t){return new MT(t)}function HU(t,e,n){var r;const{selection:i}=e;let o=null;if(mT(i)&&(o=i.$cursor),o){const u=(r=t.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(u)||!u.some(h=>h.type.excludes(n)))}const{ranges:l}=i;return l.some(({$from:u,$to:f})=>{let h=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,f.pos,(m,y,x)=>{if(h)return!1;if(m.isInline){const v=!x||x.type.allowsMarkType(n),w=!!n.isInSet(m.marks)||!m.marks.some(k=>k.type.excludes(n));h=v&&w}return!h}),h})}var VU=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:l,ranges:u}=o,f=ds(t,r.schema);if(i)if(l){const h=xT(r,f);n.addStoredMark(f.create({...h,...e}))}else u.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;r.doc.nodesBetween(m,y,(x,v)=>{const w=Math.max(v,m),k=Math.min(v+x.nodeSize,y);x.marks.find(C=>C.type===f)?x.marks.forEach(C=>{f===C.type&&n.addMark(w,k,f.create({...C.attrs,...e}))}):n.addMark(w,k,f.create(e))})});return HU(r,n,f)},$U=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),qU=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=Tt(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:u})=>fS(o,{...l,...e})(n)?!0:u.clearNodes()).command(({state:u})=>fS(o,{...l,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},FU=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Fi(t,0,r.content.size),o=we.create(r,i);e.setSelection(o)}return!0},GU=(t,e)=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=r;let l,u;return typeof e=="number"?(l=e,u=e):e&&"from"in e&&"to"in e?(l=e.from,u=e.to):(l=o.from,u=o.to),i&&n.doc.nodesBetween(l,u,(f,h)=>{f.isText||n.setNodeMarkup(h,void 0,{...f.attrs,dir:t})}),!0},KU=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,l=Ae.atStart(r).from,u=Ae.atEnd(r).to,f=Fi(i,l,u),h=Fi(o,l,u),m=Ae.create(r,f,h);e.setSelection(m)}return!0},WU=t=>({state:e,dispatch:n})=>{const r=Tt(t,e.schema);return V6(r)(e,n)};function eE(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var YU=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:l}=e,{$from:u,$to:f}=o,h=i.extensionManager.attributes,m=Ad(h,u.node().type.name,u.node().attrs);if(o instanceof we&&o.node.isBlock)return!u.parentOffset||!ss(l,u.pos)?!1:(r&&(t&&eE(n,i.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const y=f.parentOffset===f.parent.content.size,x=u.depth===0?void 0:EU(u.node(-1).contentMatchAt(u.indexAfter(-1)));let v=y&&x?[{type:x,attrs:m}]:void 0,w=ss(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!w&&ss(e.doc,e.mapping.map(u.pos),1,x?[{type:x}]:void 0)&&(w=!0,v=x?[{type:x,attrs:m}]:void 0),r){if(w&&(o instanceof Ae&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),x&&!y&&!u.parentOffset&&u.parent.type!==x)){const k=e.mapping.map(u.before()),E=e.doc.resolve(k);u.node(-1).canReplaceWith(E.index(),E.index()+1,x)&&e.setNodeMarkup(e.mapping.map(u.before()),x)}t&&eE(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return w},JU=(t,e={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var l;const u=Tt(t,r.schema),{$from:f,$to:h}=r.selection,m=r.selection.node;if(m&&m.isBlock||f.depth<2||!f.sameParent(h))return!1;const y=f.node(-1);if(y.type!==u)return!1;const x=o.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==u||f.index(-2)!==f.node(-2).childCount-1)return!1;if(i){let C=se.empty;const O=f.index(-1)?1:f.index(-2)?2:3;for(let V=f.depth-O;V>=f.depth-3;V-=1)C=se.from(f.node(V).copy(C));const j=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,B={...Ad(x,f.node().type.name,f.node().attrs),...e},U=((l=u.contentMatch.defaultType)==null?void 0:l.createAndFill(B))||void 0;C=C.append(se.from(u.createAndFill(null,U)||void 0));const J=f.before(f.depth-(O-1));n.replace(J,f.after(-j),new ce(C,4-O,0));let H=-1;n.doc.nodesBetween(J,n.doc.content.size,(V,ne)=>{if(H>-1)return!1;V.isTextblock&&V.content.size===0&&(H=ne+1)}),H>-1&&n.setSelection(Ae.near(n.doc.resolve(H))),n.scrollIntoView()}return!0}const v=h.pos===f.end()?y.contentMatchAt(0).defaultType:null,w={...Ad(x,y.type.name,y.attrs),...e},k={...Ad(x,f.node().type.name,f.node().attrs),...e};n.delete(f.pos,h.pos);const E=v?[{type:u,attrs:w},{type:v,attrs:k}]:[{type:u,attrs:w}];if(!ss(n.doc,f.pos,2))return!1;if(i){const{selection:C,storedMarks:O}=r,{splittableMarks:j}=o.extensionManager,B=O||C.$to.parentOffset&&C.$from.marks();if(n.split(f.pos,2,E).scrollIntoView(),!B||!i)return!0;const U=B.filter(J=>j.includes(J.type.name));n.ensureMarks(U)}return!0},rg=(t,e)=>{const n=nh(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&hi(t.doc,n.pos)&&t.join(n.pos),!0},sg=(t,e)=>{const n=nh(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&hi(t.doc,r)&&t.join(r),!0},XU=(t,e,n,r={})=>({editor:i,tr:o,state:l,dispatch:u,chain:f,commands:h,can:m})=>{const{extensions:y,splittableMarks:x}=i.extensionManager,v=Tt(t,l.schema),w=Tt(e,l.schema),{selection:k,storedMarks:E}=l,{$from:C,$to:O}=k,j=C.blockRange(O),B=E||k.$to.parentOffset&&k.$from.marks();if(!j)return!1;const U=nh(J=>ZS(J.type.name,y))(k);if(j.depth>=1&&U&&j.depth-U.depth<=1){if(U.node.type===v)return h.liftListItem(w);if(ZS(U.node.type.name,y)&&v.validContent(U.node.content)&&u)return f().command(()=>(o.setNodeMarkup(U.pos,v),!0)).command(()=>rg(o,v)).command(()=>sg(o,v)).run()}return!n||!B||!u?f().command(()=>m().wrapInList(v,r)?!0:h.clearNodes()).wrapInList(v,r).command(()=>rg(o,v)).command(()=>sg(o,v)).run():f().command(()=>{const J=m().wrapInList(v,r),H=B.filter(V=>x.includes(V.type.name));return o.ensureMarks(H),J?!0:h.clearNodes()}).wrapInList(v,r).command(()=>rg(o,v)).command(()=>sg(o,v)).run()},QU=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,l=ds(t,r.schema);return ey(r,l,e)?i.unsetMark(l,{extendEmptyMarkRange:o}):i.setMark(l,e)},ZU=(t,e,n={})=>({state:r,commands:i})=>{const o=Tt(t,r.schema),l=Tt(e,r.schema),u=oi(r,o,n);let f;return r.selection.$anchor.sameParent(r.selection.$head)&&(f=r.selection.$anchor.parent.attrs),u?i.setNode(l,f):i.setNode(o,{...f,...n})},e8=(t,e={})=>({state:n,commands:r})=>{const i=Tt(t,n.schema);return oi(n,i,e)?r.lift(i):r.wrapIn(i,e)},t8=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const l=t.tr,u=o.transform;for(let f=u.steps.length-1;f>=0;f-=1)l.step(u.steps[f].invert(u.docs[f]));if(o.text){const f=l.doc.resolve(o.from).marks();l.replaceWith(o.from,o.to,t.schema.text(o.text,f))}else l.delete(o.from,o.to)}return!0}}return!1},n8=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},r8=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:l=!1}=e,{selection:u}=n,f=ds(t,r.schema),{$from:h,empty:m,ranges:y}=u;if(!i)return!0;if(m&&l){let{from:x,to:v}=u;const w=(o=h.marks().find(E=>E.type===f))==null?void 0:o.attrs,k=ab(h,f,w);k&&(x=k.from,v=k.to),n.removeMark(x,v,f)}else y.forEach(x=>{n.removeMark(x.$from.pos,x.$to.pos,f)});return n.removeStoredMark(f),!0},s8=t=>({tr:e,state:n,dispatch:r})=>{const{selection:i}=n;let o,l;return typeof t=="number"?(o=t,l=t):t&&"from"in t&&"to"in t?(o=t.from,l=t.to):(o=i.from,l=i.to),r&&e.doc.nodesBetween(o,l,(u,f)=>{if(u.isText)return;const h={...u.attrs};delete h.dir,e.setNodeMarkup(f,void 0,h)}),!0},i8=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,l=null;const u=th(typeof t=="string"?t:t.name,r.schema);if(!u)return!1;u==="node"&&(o=Tt(t,r.schema)),u==="mark"&&(l=ds(t,r.schema));let f=!1;return n.selection.ranges.forEach(h=>{const m=h.$from.pos,y=h.$to.pos;let x,v,w,k;n.selection.empty?r.doc.nodesBetween(m,y,(E,C)=>{o&&o===E.type&&(f=!0,w=Math.max(C,m),k=Math.min(C+E.nodeSize,y),x=C,v=E)}):r.doc.nodesBetween(m,y,(E,C)=>{C<m&&o&&o===E.type&&(f=!0,w=Math.max(C,m),k=Math.min(C+E.nodeSize,y),x=C,v=E),C>=m&&C<=y&&(o&&o===E.type&&(f=!0,i&&n.setNodeMarkup(C,void 0,{...E.attrs,...e})),l&&E.marks.length&&E.marks.forEach(O=>{if(l===O.type&&(f=!0,i)){const j=Math.max(C,m),B=Math.min(C+E.nodeSize,y);n.addMark(j,B,l.create({...O.attrs,...e}))}}))}),v&&(x!==void 0&&i&&n.setNodeMarkup(x,void 0,{...v.attrs,...e}),l&&v.marks.length&&v.marks.forEach(E=>{l===E.type&&i&&n.addMark(w,k,l.create({...E.attrs,...e}))}))}),f},a8=(t,e={})=>({state:n,dispatch:r})=>{const i=Tt(t,n.schema);return L6(i,e)(n,r)},o8=(t,e={})=>({state:n,dispatch:r})=>{const i=Tt(t,n.schema);return I6(i,e)(n,r)},l8=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},sh=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},c8=(t,e)=>{if(ib(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function cd(t){var e;const{editor:n,from:r,to:i,text:o,rules:l,plugin:u}=t,{view:f}=n;if(f.composing)return!1;const h=f.state.doc.resolve(r);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(x=>x.type.spec.code))return!1;let m=!1;const y=LU(h)+o;return l.forEach(x=>{if(m)return;const v=c8(y,x.find);if(!v)return;const w=f.state.tr,k=Zf({state:f.state,transaction:w}),E={from:r-(v[0].length-o.length),to:i},{commands:C,chain:O,can:j}=new eh({editor:n,state:k});x.handler({state:k,range:E,match:v,commands:C,chain:O,can:j})===null||!w.steps.length||(x.undoable&&w.setMeta(u,{transform:w,from:r,to:i,text:o}),f.dispatch(w),m=!0)}),m}function u8(t){const{editor:e,rules:n}=t,r=new pt({state:{init(){return null},apply(i,o,l){const u=i.getMeta(r);if(u)return u;const f=i.getMeta("applyInputRules");return f&&setTimeout(()=>{let{text:m}=f;typeof m=="string"?m=m:m=lb(se.from(m),l.schema);const{from:y}=f,x=y+m.length;cd({editor:e,from:y,to:x,text:m,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,l,u){return cd({editor:e,from:o,to:l,text:u,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&cd({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:l}=i.state.selection;return l?cd({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function d8(t){return Object.prototype.toString.call(t).slice(8,-1)}function ud(t){return d8(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function RT(t,e){const n={...t};return ud(t)&&ud(e)&&Object.keys(e).forEach(r=>{ud(e[r])&&ud(t[r])?n[r]=RT(t[r],e[r]):n[r]=e[r]}),n}var ub=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Xe(be(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Xe(be(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>RT(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},fs=class _T extends ub{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new _T(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(h=>h?.type.name===n.name))return!1;const f=l.find(h=>h?.type.name===n.name);return f&&r.removeStoredMark(f),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function f8(t){return typeof t=="number"}var h8=class{constructor(t){this.find=t.find,this.handler=t.handler}},p8=(t,e,n)=>{if(ib(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function m8(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:l,dropEvent:u}=t,{commands:f,chain:h,can:m}=new eh({editor:e,state:n}),y=[];return n.doc.nodesBetween(r,i,(v,w)=>{var k,E,C,O,j;if((E=(k=v.type)==null?void 0:k.spec)!=null&&E.code||!(v.isText||v.isTextblock||v.isInline))return;const B=(j=(O=(C=v.content)==null?void 0:C.size)!=null?O:v.nodeSize)!=null?j:0,U=Math.max(r,w),J=Math.min(i,w+B);if(U>=J)return;const H=v.isText?v.text||"":v.textBetween(U-w,J-w,void 0,"");p8(H,o.find,l).forEach(ne=>{if(ne.index===void 0)return;const le=U+ne.index+1,ke=le+ne[0].length,Se={from:n.tr.mapping.map(le),to:n.tr.mapping.map(ke)},ie=o.handler({state:n,range:Se,match:ne,commands:f,chain:h,can:m,pasteEvent:l,dropEvent:u});y.push(ie)})}),y.every(v=>v!==null)}var dd=null,g8=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function y8(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const f=({state:m,from:y,to:x,rule:v,pasteEvt:w})=>{const k=m.tr,E=Zf({state:m,transaction:k});if(!(!m8({editor:e,state:E,from:Math.max(y-1,0),to:x.b-1,rule:v,pasteEvent:w,dropEvent:u})||!k.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,k}};return n.map(m=>new pt({view(y){const x=w=>{var k;r=(k=y.dom.parentElement)!=null&&k.contains(w.target)?y.dom.parentElement:null,r&&(dd=e)},v=()=>{dd&&(dd=null)};return window.addEventListener("dragstart",x),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",x),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(y,x)=>{if(o=r===y.dom.parentElement,u=x,!o){const v=dd;v?.isEditable&&setTimeout(()=>{const w=v.state.selection;w&&v.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(y,x)=>{var v;const w=(v=x.clipboardData)==null?void 0:v.getData("text/html");return l=x,i=!!w?.includes("data-pm-slice"),!1}}},appendTransaction:(y,x,v)=>{const w=y[0],k=w.getMeta("uiEvent")==="paste"&&!i,E=w.getMeta("uiEvent")==="drop"&&!o,C=w.getMeta("applyPasteRules"),O=!!C;if(!k&&!E&&!O)return;if(O){let{text:U}=C;typeof U=="string"?U=U:U=lb(se.from(U),v.schema);const{from:J}=C,H=J+U.length,V=g8(U);return f({rule:m,state:v,from:J,to:{b:H},pasteEvt:V})}const j=x.doc.content.findDiffStart(v.doc.content),B=x.doc.content.findDiffEnd(v.doc.content);if(!(!f8(j)||!B||j===B.b))return f({rule:m,state:v,from:j,to:B,pasteEvt:l})}}))}var ih=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=ET(t),this.schema=AU(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:ld(e.name,this.schema)},r=be(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return rf([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:ld(r.name,this.schema)},o=[],l=be(r,"addKeyboardShortcuts",i);let u={};if(r.type==="mark"&&be(r,"exitable",i)&&(u.ArrowRight=()=>fs.handleExit({editor:t,mark:r})),l){const x=Object.fromEntries(Object.entries(l()).map(([v,w])=>[v,()=>w({editor:t})]));u={...u,...x}}const f=RB(u);o.push(f);const h=be(r,"addInputRules",i);if(QS(r,t.options.enableInputRules)&&h){const x=h();if(x&&x.length){const v=u8({editor:t,rules:x}),w=Array.isArray(v)?v:[v];o.push(...w)}}const m=be(r,"addPasteRules",i);if(QS(r,t.options.enablePasteRules)&&m){const x=m();if(x&&x.length){const v=y8({editor:t,rules:x});o.push(...v)}}const y=be(r,"addProseMirrorPlugins",i);if(y){const x=y();o.push(...x)}return o})}get attributes(){return ST(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=wo(this.extensions);return Object.fromEntries(e.filter(n=>!!be(n,"addNodeView")).map(n=>{const r=this.attributes.filter(f=>f.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Tt(n.name,this.schema)},o=be(n,"addNodeView",i);if(!o)return[];const l=o();if(!l)return[];const u=(f,h,m,y,x)=>{const v=pc(f,r);return l({node:f,view:h,getPos:m,decorations:y,innerDecorations:x,editor:t,extension:n,HTMLAttributes:v})};return[n.name,u]}))}dispatchTransaction(t){const{editor:e}=this;return rf([...this.extensions].reverse()).reduceRight((r,i)=>{const o={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:e,type:ld(i.name,this.schema)},l=be(i,"dispatchTransaction",o);return l?u=>{l.call(o,{transaction:u,next:r})}:r},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=wo(this.extensions);return Object.fromEntries(e.filter(n=>!!be(n,"addMarkView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ds(n.name,this.schema)},o=be(n,"addMarkView",i);if(!o)return[];const l=(u,f,h)=>{const m=pc(u,r);return o()({mark:u,view:f,inline:h,editor:t,extension:n,HTMLAttributes:m,updateAttributes:y=>{_8(u,t,y)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:ld(e.name,this.schema)};e.type==="mark"&&((n=Xe(be(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=be(e,"onBeforeCreate",r),o=be(e,"onCreate",r),l=be(e,"onUpdate",r),u=be(e,"onSelectionUpdate",r),f=be(e,"onTransaction",r),h=be(e,"onFocus",r),m=be(e,"onBlur",r),y=be(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),l&&this.editor.on("update",l),u&&this.editor.on("selectionUpdate",u),f&&this.editor.on("transaction",f),h&&this.editor.on("focus",h),m&&this.editor.on("blur",m),y&&this.editor.on("destroy",y)})}};ih.resolve=ET;ih.sort=rf;ih.flatten=ob;var b8={};sb(b8,{ClipboardTextSerializer:()=>DT,Commands:()=>LT,Delete:()=>IT,Drop:()=>zT,Editable:()=>PT,FocusEvents:()=>UT,Keymap:()=>HT,Paste:()=>VT,Tabindex:()=>$T,TextDirection:()=>qT,focusEventsPluginKey:()=>BT});var nt=class jT extends ub{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new jT(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},DT=nt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new pt({key:new Ot("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,l=Math.min(...o.map(m=>m.$from.pos)),u=Math.max(...o.map(m=>m.$to.pos)),f=NT(n);return kT(r,{from:l,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),LT=nt.create({name:"commands",addCommands(){return{...hT}}}),IT=nt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const o=()=>{var l,u,f,h;if((h=(f=(u=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:u.filterTransaction)==null?void 0:f.call(u,t))!=null?h:t.getMeta("y-sync$"))return;const m=vT(t.before,[t,...e]);TT(m).forEach(v=>{m.mapping.mapResult(v.oldRange.from).deletedAfter&&m.mapping.mapResult(v.oldRange.to).deletedBefore&&m.before.nodesBetween(v.oldRange.from,v.oldRange.to,(w,k)=>{const E=k+w.nodeSize-2,C=v.oldRange.from<=k&&E<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:k,to:E,newFrom:m.mapping.map(k),newTo:m.mapping.map(E),deletedRange:v.oldRange,newRange:v.newRange,partial:!C,editor:this.editor,transaction:t,combinedTransform:m})})});const x=m.mapping;m.steps.forEach((v,w)=>{var k,E;if(v instanceof cr){const C=x.slice(w).map(v.from,-1),O=x.slice(w).map(v.to),j=x.invert().map(C,-1),B=x.invert().map(O),U=(k=m.doc.nodeAt(C-1))==null?void 0:k.marks.some(H=>H.eq(v.mark)),J=(E=m.doc.nodeAt(O))==null?void 0:E.marks.some(H=>H.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:j,to:B},newRange:{from:C,to:O},partial:!!(J||U),editor:this.editor,transaction:t,combinedTransform:m})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(o,0):o()}}),zT=nt.create({name:"drop",addProseMirrorPlugins(){return[new pt({key:new Ot("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),PT=nt.create({name:"editable",addProseMirrorPlugins(){return[new pt({key:new Ot("editable"),props:{editable:()=>this.editor.options.editable}})]}}),BT=new Ot("focusEvents"),UT=nt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new pt({key:BT,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),HT=nt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:u})=>{const{selection:f,doc:h}=u,{empty:m,$anchor:y}=f,{pos:x,parent:v}=y,w=y.parent.isTextblock&&x>0?u.doc.resolve(x-1):y,k=w.parent.type.spec.isolating,E=y.pos-y.parentOffset,C=k&&w.parent.childCount===1?E===y.pos:De.atStart(h).from===x;return!m||!v.type.isTextblock||v.textContent.length||!C||C&&y.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return nf()||bT()?o:i},addProseMirrorPlugins(){return[new pt({key:new Ot("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(k=>k.getMeta("composition")))return;const r=t.some(k=>k.docChanged)&&!e.doc.eq(n.doc),i=t.some(k=>k.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:l,to:u}=e.selection,f=De.atStart(e.doc).from,h=De.atEnd(e.doc).to;if(o||!(l===f&&u===h)||!rh(n.doc))return;const x=n.tr,v=Zf({state:n,transaction:x}),{commands:w}=new eh({editor:this.editor,state:v});if(w.clearNodes(),!!x.steps.length)return x}})]}}),VT=nt.create({name:"paste",addProseMirrorPlugins(){return[new pt({key:new Ot("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),$T=nt.create({name:"tabindex",addProseMirrorPlugins(){return[new pt({key:new Ot("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),qT=nt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=wo(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new pt({key:new Ot("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),x8=class no{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new no(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new no(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new no(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,l=this.pos+r+(o?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(l);if(!i&&u.depth<=this.depth)return;const f=new no(u,this.editor,i,i?n:null);i&&(f.actualDepth=this.depth+1),e.push(new no(u,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const o=i.node.attrs,l=Object.keys(n);for(let u=0;u<l.length;u+=1){const f=l[u];if(o[f]!==n[f])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===e&&o.every(f=>n[f]===l.node.attrs[f])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},v8=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function w8(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var S8=class extends l8{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:BU,createMappablePosition:UU},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:o,moved:l})=>this.options.onDrop(i,o,l)),this.on("paste",({event:i,slice:o})=>this.options.onPaste(i,o)),this.on("delete",this.options.onDelete);const n=this.createDoc(),r=gT(n,this.options.autofocus);this.editorState=so.create({doc:n,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=w8(v8,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,n)=>{if(this.editorView)return this.editorView[n];if(n==="state")return this.editorState;if(n in e)return Reflect.get(e,n);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${n}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,n){const r=wT(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(o=>{const l=typeof o=="string"?`${o}$`:o.key;r=r.filter(u=>!u.key.startsWith(l))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[PT,DT.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:n.blockSeparator}),LT,UT,HT,$T,zT,VT,IT,qT.configure({direction:this.options.textDirection})].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o?.type));this.extensionManager=new ih(i,this)}createCommandManager(){this.commandManager=new eh({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=Zg(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(n){if(!(n instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(n.message))throw n;this.emit("contentError",{editor:this,error:n,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),e=Zg(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){const{editorProps:n,enableExtensionDispatchTransaction:r}=this.options,i=n.dispatchTransaction||this.dispatchTransaction.bind(this),o=r?this.extensionManager.dispatchTransaction(i):i;this.editorView=new dT(e,{...n,attributes:{role:"textbox",...n?.attributes},dispatchTransaction:o,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const l=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(l),this.prependClass(),this.injectCSS();const u=this.view.dom;u.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(m=>{var y;return(y=this.capturedTransaction)==null?void 0:y.step(m)});return}const{state:n,transactions:r}=this.state.applyTransaction(e),i=!this.state.selection.eq(n.selection),o=r.includes(e),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),!o)return;this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:r.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const u=r.findLast(m=>m.getMeta("focus")||m.getMeta("blur")),f=u?.getMeta("focus"),h=u?.getMeta("blur");f&&this.emit("focus",{editor:this,event:f.event,transaction:u}),h&&this.emit("blur",{editor:this,event:h.event,transaction:u}),!(e.getMeta("preventUpdate")||!r.some(m=>m.docChanged)||l.doc.eq(n.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:r.slice(1)})}getAttributes(e){return CT(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return IU(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return lb(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return OU(this.state.doc,{blockSeparator:n,textSerializers:{...NT(this.schema),...r}})}get isEmpty(){return rh(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,n;return(n=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?n:!0}$node(e,n){var r;return((r=this.$doc)==null?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new x8(n,this)}get $doc(){return this.$pos(0)}};function oa(t){return new sh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Xe(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,l=r[r.length-1],u=r[0];if(l){const f=u.search(/\S/),h=n.from+u.indexOf(l),m=h+l.length;if(cb(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(k=>k===t.type&&k!==v.mark.type)).filter(v=>v.to>h).length)return null;m<n.to&&o.delete(m,n.to),h>n.from&&o.delete(n.from+f,h);const x=n.from+f+l.length;o.addMark(n.from+f,x,t.type.create(i||{})),o.removeStoredMark(t.type)}},undoable:t.undoable})}function FT(t){return new sh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Xe(t.getAttributes,void 0,r)||{},{tr:o}=e,l=n.from;let u=n.to;const f=t.type.create(i);if(r[1]){const h=r[0].lastIndexOf(r[1]);let m=l+h;m>u?m=u:u=m+r[1].length;const y=r[0][r[0].length-1];o.insertText(y,l+r[0].length-1),o.replaceWith(m,u,f)}else if(r[0]){const h=t.type.isInline?l:l-1;o.insert(h,t.type.create(i)).delete(o.mapping.map(l),o.mapping.map(u))}o.scrollIntoView()},undoable:t.undoable})}function ty(t){return new sh({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=Xe(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)},undoable:t.undoable})}function So(t){return new sh({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=Xe(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),f=l.doc.resolve(n.from).blockRange(),h=f&&Vy(f,t.type,o);if(!h)return null;if(l.wrap(f,h),t.keepMarks&&t.editor){const{selection:y,storedMarks:x}=e,{splittableMarks:v}=t.editor.extensionManager,w=x||y.$to.parentOffset&&y.$from.marks();if(w){const k=w.filter(E=>v.includes(E.type.name));l.ensureMarks(k)}}if(t.keepAttributes){const y=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(y,o).run()}const m=l.doc.resolve(n.from-1).nodeBefore;m&&m.type===t.type&&hi(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,m))&&l.join(n.from-1)},undoable:t.undoable})}var E8=t=>"touches"in t,k8=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=u=>{if(!this.isResizing||!this.activeHandle)return;const f=u.clientX-this.startX,h=u.clientY-this.startY;this.handleResize(f,h)},this.handleTouchMove=u=>{if(!this.isResizing||!this.activeHandle)return;const f=u.touches[0];if(!f)return;const h=f.clientX-this.startX,m=f.clientY-this.startY;this.handleResize(h,m)},this.handleMouseUp=()=>{if(!this.isResizing)return;const u=this.element.offsetWidth,f=this.element.offsetHeight;this.onCommit(u,f),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,r,i,o,l;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(r=t?.options)!=null&&r.directions&&(this.directions=t.options.directions),(i=t.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(o=t.options)!=null&&o.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(l=t.options)!=null&&l.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),r=e.includes("bottom"),i=e.includes("left"),o=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),i&&(t.style.left="0"),o&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,E8(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:i}=this.calculateNewDimensions(this.activeHandle,t,e),o=this.applyConstraints(r,i,n);this.element.style.width=`${o.width}px`,this.element.style.height=`${o.height}px`,this.onResize&&this.onResize(o.width,o.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,i=this.startHeight;const o=t.includes("right"),l=t.includes("left"),u=t.includes("bottom"),f=t.includes("top");return o?r=this.startWidth+e:l&&(r=this.startWidth-e),u?i=this.startHeight+n:f&&(i=this.startHeight-n),(t==="right"||t==="left")&&(r=this.startWidth+(o?e:-e)),(t==="top"||t==="bottom")&&(i=this.startHeight+(u?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,i,t):{width:r,height:i}}applyConstraints(t,e,n){var r,i,o,l;if(!n){let h=Math.max(this.minSize.width,t),m=Math.max(this.minSize.height,e);return(r=this.maxSize)!=null&&r.width&&(h=Math.min(this.maxSize.width,h)),(i=this.maxSize)!=null&&i.height&&(m=Math.min(this.maxSize.height,m)),{width:h,height:m}}let u=t,f=e;return u<this.minSize.width&&(u=this.minSize.width,f=u/this.aspectRatio),f<this.minSize.height&&(f=this.minSize.height,u=f*this.aspectRatio),(o=this.maxSize)!=null&&o.width&&u>this.maxSize.width&&(u=this.maxSize.width,f=u/this.aspectRatio),(l=this.maxSize)!=null&&l.height&&f>this.maxSize.height&&(f=this.maxSize.height,u=f*this.aspectRatio),{width:u,height:f}}applyAspectRatio(t,e,n){const r=n==="left"||n==="right",i=n==="top"||n==="bottom";return r?{width:t,height:t/this.aspectRatio}:i?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function N8(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof we){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let i=r.depth;for(;i>=0;){const o=r.index(i);if(r.node(i).contentMatchAt(o).matchType(e))return!0;i-=1}return!1}var C8={};sb(C8,{createAtomBlockMarkdownSpec:()=>T8,createBlockMarkdownSpec:()=>A8,createInlineMarkdownSpec:()=>R8,parseAttributes:()=>db,parseIndentedBlocks:()=>ny,renderNestedMarkdownContent:()=>hb,serializeAttributes:()=>fb});function db(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,h=>(n.push(h),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const h=i.map(m=>m.trim().slice(1));e.class=h.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const l=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(l)).forEach(([,h,m])=>{var y;const x=parseInt(((y=m.match(/__QUOTED_(\d+)__/))==null?void 0:y[1])||"0",10),v=n[x];v&&(e[h]=v.slice(1,-1))});const f=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return f&&f.split(/\s+/).filter(Boolean).forEach(m=>{m.match(/^[a-zA-Z][\w-]*$/)&&(e[m]=!0)}),e}function fb(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function T8(t){const{nodeName:e,name:n,parseAttributes:r=db,serializeAttributes:i=fb,defaultAttributes:o={},requiredAttributes:l=[],allowedAttributes:u}=t,f=n||e,h=m=>{if(!u)return m;const y={};return u.forEach(x=>{x in m&&(y[x]=m[x])}),y};return{parseMarkdown:(m,y)=>{const x={...o,...m.attributes};return y.createNode(e,x,[])},markdownTokenizer:{name:e,level:"block",start(m){var y;const x=new RegExp(`^:::${f}(?:\\s|$)`,"m"),v=(y=m.match(x))==null?void 0:y.index;return v!==void 0?v:-1},tokenize(m,y,x){const v=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),w=m.match(v);if(!w)return;const k=w[1]||"",E=r(k);if(!l.find(O=>!(O in E)))return{type:e,raw:w[0],attributes:E}}},renderMarkdown:m=>{const y=h(m.attrs||{}),x=i(y),v=x?` {${x}}`:"";return`:::${f}${v} :::`}}}function A8(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=db,serializeAttributes:o=fb,defaultAttributes:l={},content:u="block",allowedAttributes:f}=t,h=n||e,m=y=>{if(!f)return y;const x={};return f.forEach(v=>{v in y&&(x[v]=y[v])}),x};return{parseMarkdown:(y,x)=>{let v;if(r){const k=r(y);v=typeof k=="string"?[{type:"text",text:k}]:k}else u==="block"?v=x.parseChildren(y.tokens||[]):v=x.parseInline(y.tokens||[]);const w={...l,...y.attributes};return x.createNode(e,w,v)},markdownTokenizer:{name:e,level:"block",start(y){var x;const v=new RegExp(`^:::${h}`,"m"),w=(x=y.match(v))==null?void 0:x.index;return w!==void 0?w:-1},tokenize(y,x,v){var w;const k=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),E=y.match(k);if(!E)return;const[C,O=""]=E,j=i(O);let B=1;const U=C.length;let J="";const H=/^:::([\w-]*)(\s.*)?/gm,V=y.slice(U);for(H.lastIndex=0;;){const ne=H.exec(V);if(ne===null)break;const le=ne.index,ke=ne[1];if(!((w=ne[2])!=null&&w.endsWith(":::"))){if(ke)B+=1;else if(B-=1,B===0){const Se=V.slice(0,le);J=Se.trim();const ie=y.slice(0,U+le+ne[0].length);let X=[];if(J)if(u==="block")for(X=v.blockTokens(Se),X.forEach(K=>{K.text&&(!K.tokens||K.tokens.length===0)&&(K.tokens=v.inlineTokens(K.text))});X.length>0;){const K=X[X.length-1];if(K.type==="paragraph"&&(!K.text||K.text.trim()===""))X.pop();else break}else X=v.inlineTokens(J);return{type:e,raw:ie,attributes:j,content:J,tokens:X}}}}}},renderMarkdown:(y,x)=>{const v=m(y.attrs||{}),w=o(v),k=w?` {${w}}`:"",E=x.renderChildren(y.content||[],`

`);return`:::${h}${k}

${E}

:::`}}}function M8(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,o,l]=r;e[i]=o||l,r=n.exec(t)}return e}function O8(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function R8(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=M8,serializeAttributes:o=O8,defaultAttributes:l={},selfClosing:u=!1,allowedAttributes:f}=t,h=n||e,m=x=>{if(!f)return x;const v={};return f.forEach(w=>{const k=typeof w=="string"?w:w.name,E=typeof w=="string"?void 0:w.skipIfDefault;if(k in x){const C=x[k];if(E!==void 0&&C===E)return;v[k]=C}}),v},y=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(x,v)=>{const w={...l,...x.attributes};if(u)return v.createNode(e,w);const k=r?r(x):x.content||"";return k?v.createNode(e,w,[v.createTextNode(k)]):v.createNode(e,w,[])},markdownTokenizer:{name:e,level:"inline",start(x){const v=u?new RegExp(`\\[${y}\\s*[^\\]]*\\]`):new RegExp(`\\[${y}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${y}\\]`),w=x.match(v),k=w?.index;return k!==void 0?k:-1},tokenize(x,v,w){const k=u?new RegExp(`^\\[${y}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${y}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${y}\\]`),E=x.match(k);if(!E)return;let C="",O="";if(u){const[,B]=E;O=B}else{const[,B,U]=E;O=B,C=U||""}const j=i(O.trim());return{type:e,raw:E[0],content:C.trim(),attributes:j}}},renderMarkdown:x=>{let v="";r?v=r(x):x.content&&x.content.length>0&&(v=x.content.filter(C=>C.type==="text").map(C=>C.text).join(""));const w=m(x.attrs||{}),k=o(w),E=k?` ${k}`:"";return u?`[${h}${E}]`:`[${h}${E}]${v}[/${h}]`}}}function ny(t,e,n){var r,i,o,l;const u=t.split(`
`),f=[];let h="",m=0;const y=e.baseIndentSize||2;for(;m<u.length;){const x=u[m],v=x.match(e.itemPattern);if(!v){if(f.length>0)break;if(x.trim()===""){m+=1,h=`${h}${x}
`;continue}else return}const w=e.extractItemData(v),{indentLevel:k,mainContent:E}=w;h=`${h}${x}
`;const C=[E];for(m+=1;m<u.length;){const U=u[m];if(U.trim()===""){const H=u.slice(m+1).findIndex(le=>le.trim()!=="");if(H===-1)break;if((((i=(r=u[m+1+H].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>k){C.push(U),h=`${h}${U}
`,m+=1;continue}else break}if((((l=(o=U.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:l.length)||0)>k)C.push(U),h=`${h}${U}
`,m+=1;else break}let O;const j=C.slice(1);if(j.length>0){const U=j.map(J=>J.slice(k+y)).join(`
`);U.trim()&&(e.customNestedParser?O=e.customNestedParser(U):O=n.blockTokens(U))}const B=e.createToken(w,O);f.push(B)}if(f.length!==0)return{items:f,raw:h}}function hb(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[o,...l]=t.content,u=e.renderChildren([o]),f=[`${i}${u}`];return l&&l.length>0&&l.forEach(h=>{const m=e.renderChildren([h]);if(m){const y=m.split(`
`).map(x=>x?e.indent(x):"").join(`
`);f.push(y)}}),f.join(`
`)}function _8(t,e,n={}){const{state:r}=e,{doc:i,tr:o}=r,l=t;i.descendants((u,f)=>{const h=o.mapping.map(f),m=o.mapping.map(f)+u.nodeSize;let y=null;if(u.marks.forEach(v=>{if(v!==l)return!1;y=v}),!y)return;let x=!1;if(Object.keys(n).forEach(v=>{n[v]!==y.attrs[v]&&(x=!0)}),x){const v=t.type.create({...t.attrs,...n});o.removeMark(h,m,t.type),o.addMark(h,m,v)}}),o.docChanged&&e.view.dispatch(o)}var xn=class GT extends ub{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new GT(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function li(t){return new h8({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=Xe(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:l}=e,u=r[r.length-1],f=r[0];let h=n.to;if(u){const m=f.search(/\S/),y=n.from+f.indexOf(u),x=y+u.length;if(cb(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(E=>E===t.type&&E!==w.mark.type)).filter(w=>w.to>y).length)return null;x<n.to&&l.delete(x,n.to),y>n.from&&l.delete(n.from+m,y),h=n.from+m+u.length,l.addMark(n.from+m,h,t.type.create(o||{})),l.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:j8,getOwnPropertySymbols:D8}=Object,{hasOwnProperty:L8}=Object.prototype;function ig(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function fd(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,l=o.get(n),u=o.get(r);if(l&&u)return l===r&&u===n;o.set(n,r),o.set(r,n);const f=t(n,r,i);return o.delete(n),o.delete(r),f}}function I8(t){return t?.[Symbol.toStringTag]}function tE(t){return j8(t).concat(D8(t))}const z8=Object.hasOwn||((t,e)=>L8.call(t,e));function ua(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const P8="__v",B8="__o",U8="_owner",{getOwnPropertyDescriptor:nE,keys:rE}=Object;function H8(t,e){return t.byteLength===e.byteLength&&sf(new Uint8Array(t),new Uint8Array(e))}function V8(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function $8(t,e){return t.byteLength===e.byteLength&&sf(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function q8(t,e){return ua(t.getTime(),e.getTime())}function F8(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function G8(t,e){return t===e}function sE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let l,u,f=0;for(;(l=o.next())&&!l.done;){const h=e.entries();let m=!1,y=0;for(;(u=h.next())&&!u.done;){if(i[y]){y++;continue}const x=l.value,v=u.value;if(n.equals(x[0],v[0],f,y,t,e,n)&&n.equals(x[1],v[1],x[0],v[0],t,e,n)){m=i[y]=!0;break}y++}if(!m)return!1;f++}return!0}const K8=ua;function W8(t,e,n){const r=rE(t);let i=r.length;if(rE(e).length!==i)return!1;for(;i-- >0;)if(!KT(t,e,n,r[i]))return!1;return!0}function _l(t,e,n){const r=tE(t);let i=r.length;if(tE(e).length!==i)return!1;let o,l,u;for(;i-- >0;)if(o=r[i],!KT(t,e,n,o)||(l=nE(t,o),u=nE(e,o),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function Y8(t,e){return ua(t.valueOf(),e.valueOf())}function J8(t,e){return t.source===e.source&&t.flags===e.flags}function iE(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let l,u;for(;(l=o.next())&&!l.done;){const f=e.values();let h=!1,m=0;for(;(u=f.next())&&!u.done;){if(!i[m]&&n.equals(l.value,u.value,l.value,u.value,t,e,n)){h=i[m]=!0;break}m++}if(!h)return!1}return!0}function sf(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function X8(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function KT(t,e,n,r){return(r===U8||r===B8||r===P8)&&(t.$$typeof||e.$$typeof)?!0:z8(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Q8="[object ArrayBuffer]",Z8="[object Arguments]",eH="[object Boolean]",tH="[object DataView]",nH="[object Date]",rH="[object Error]",sH="[object Map]",iH="[object Number]",aH="[object Object]",oH="[object RegExp]",lH="[object Set]",cH="[object String]",uH={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},dH="[object URL]",fH=Object.prototype.toString;function hH({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:f,arePrimitiveWrappersEqual:h,areRegExpsEqual:m,areSetsEqual:y,areTypedArraysEqual:x,areUrlsEqual:v,unknownTagComparators:w}){return function(E,C,O){if(E===C)return!0;if(E==null||C==null)return!1;const j=typeof E;if(j!==typeof C)return!1;if(j!=="object")return j==="number"?u(E,C,O):j==="function"?o(E,C,O):!1;const B=E.constructor;if(B!==C.constructor)return!1;if(B===Object)return f(E,C,O);if(Array.isArray(E))return e(E,C,O);if(B===Date)return r(E,C,O);if(B===RegExp)return m(E,C,O);if(B===Map)return l(E,C,O);if(B===Set)return y(E,C,O);const U=fH.call(E);if(U===nH)return r(E,C,O);if(U===oH)return m(E,C,O);if(U===sH)return l(E,C,O);if(U===lH)return y(E,C,O);if(U===aH)return typeof E.then!="function"&&typeof C.then!="function"&&f(E,C,O);if(U===dH)return v(E,C,O);if(U===rH)return i(E,C,O);if(U===Z8)return f(E,C,O);if(uH[U])return x(E,C,O);if(U===Q8)return t(E,C,O);if(U===tH)return n(E,C,O);if(U===eH||U===iH||U===cH)return h(E,C,O);if(w){let J=w[U];if(!J){const H=I8(E);H&&(J=w[H])}if(J)return J(E,C,O)}return!1}}function pH({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:H8,areArraysEqual:n?_l:V8,areDataViewsEqual:$8,areDatesEqual:q8,areErrorsEqual:F8,areFunctionsEqual:G8,areMapsEqual:n?ig(sE,_l):sE,areNumbersEqual:K8,areObjectsEqual:n?_l:W8,arePrimitiveWrappersEqual:Y8,areRegExpsEqual:J8,areSetsEqual:n?ig(iE,_l):iE,areTypedArraysEqual:n?ig(sf,_l):sf,areUrlsEqual:X8,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=fd(r.areArraysEqual),o=fd(r.areMapsEqual),l=fd(r.areObjectsEqual),u=fd(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return r}function mH(t){return function(e,n,r,i,o,l,u){return t(e,n,u)}}function gH({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(u,f){const{cache:h=t?new WeakMap:void 0,meta:m}=n();return e(u,f,{cache:h,equals:r,meta:m,strict:i})};if(t)return function(u,f){return e(u,f,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(u,f){return e(u,f,o)}}const yH=mi();mi({strict:!0});mi({circular:!0});mi({circular:!0,strict:!0});mi({createInternalComparator:()=>ua});mi({strict:!0,createInternalComparator:()=>ua});mi({circular:!0,createInternalComparator:()=>ua});mi({circular:!0,createInternalComparator:()=>ua,strict:!0});function mi(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=pH(t),l=hH(o),u=n?n(l):mH(l);return gH({circular:e,comparator:l,createState:r,equals:u,strict:i})}var ag={exports:{}},og={};var aE;function bH(){if(aE)return og;aE=1;var t=yc(),e=zN();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,u=t.useMemo,f=t.useDebugValue;return og.useSyncExternalStoreWithSelector=function(h,m,y,x,v){var w=o(null);if(w.current===null){var k={hasValue:!1,value:null};w.current=k}else k=w.current;w=u(function(){function C(J){if(!O){if(O=!0,j=J,J=x(J),v!==void 0&&k.hasValue){var H=k.value;if(v(H,J))return B=H}return B=J}if(H=B,r(j,J))return H;var V=x(J);return v!==void 0&&v(H,V)?(j=J,H):(j=J,B=V)}var O=!1,j,B,U=y===void 0?null:y;return[function(){return C(m())},U===null?void 0:function(){return C(U())}]},[m,y,x,v]);var E=i(h,w[0],w[1]);return l(function(){k.hasValue=!0,k.value=E},[E]),f(E),E},og}var oE;function xH(){return oE||(oE=1,ag.exports=bH()),ag.exports}var vH=xH(),wH=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},SH=({contentComponent:t})=>{const e=PN.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return p.jsx(p.Fragment,{children:Object.values(e)})};function EH(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:MR.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var kH=class extends Ke.Component{constructor(t){var e;super(t),this.editorContentRef=Ke.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=EH(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return p.jsxs(p.Fragment,{children:[p.jsx("div",{ref:wH(e,this.editorContentRef),...n}),t?.contentComponent&&p.jsx(SH,{contentComponent:t.contentComponent})]})}},NH=T.forwardRef((t,e)=>{const n=Ke.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ke.createElement(kH,{key:n,innerRef:e,...t})}),CH=Ke.memo(NH),TH=typeof window<"u"?T.useLayoutEffect:T.useEffect,AH=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function MH(t){var e;const[n]=T.useState(()=>new AH(t.editor)),r=vH.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:yH);return TH(()=>n.watch(t.editor),[t.editor,n]),T.useDebugValue(r),r}var OH=!1,ry=typeof window>"u",RH=ry||!!(typeof window<"u"&&window.next),_H=class WT{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?ry||RH?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)==null?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)==null?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)==null?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)==null?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)==null?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)==null?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)==null?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)==null?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)==null?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)==null?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)==null?void 0:o.call(i,...r)},onDelete:(...r)=>{var i,o;return(o=(i=this.options.current).onDelete)==null?void 0:o.call(i,...r)}};return new S8(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,o)=>{var l;return i===((l=n.extensions)==null?void 0:l[o])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?WT.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function jH(t={},e=[]){const n=T.useRef(t);n.current=t;const[r]=T.useState(()=>new _H(n)),i=PN.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return T.useDebugValue(i),T.useEffect(r.onRender(e)),MH({editor:i,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),i}var DH=T.createContext({editor:null});DH.Consumer;var LH=T.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),IH=()=>T.useContext(LH);Ke.forwardRef((t,e)=>{const{onDragStart:n}=IH(),r=t.as||"div";return p.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Ke.createContext({markViewContentRef:()=>{}});var af=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},zH=/^\s*>\s$/,PH=xn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return af("blockquote",{...ht(this.options.HTMLAttributes,t),children:af("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(i=>{const u=e.renderChildren([i]).split(`
`).map(f=>f.trim()===""?n:`${n} ${f}`);r.push(u.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[So({find:zH,type:this.type})]}}),BH=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,UH=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,HH=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,VH=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,$H=fs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return af("strong",{...ht(this.options.HTMLAttributes,t),children:af("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[oa({find:BH,type:this.type}),oa({find:HH,type:this.type})]},addPasteRules(){return[li({find:UH,type:this.type}),li({find:VH,type:this.type})]}}),qH=/(^|[^`])`([^`]+)`(?!`)$/,FH=/(^|[^`])`([^`]+)`(?!`)/g,GH=fs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[oa({find:qH,type:this.type})]},addPasteRules(){return[li({find:FH,type:this.type})]}}),lg=4,KH=/^```([a-z]+)?[\s\n]$/,WH=/^~~~([a-z]+)?[\s\n]$/,YH=xn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:lg,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",ht(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:lg,{state:r}=t,{selection:i}=r,{$from:o,empty:l}=i;if(o.parent.type!==this.type)return!1;const u=" ".repeat(n);return l?t.commands.insertContent(u):t.commands.command(({tr:f})=>{const{from:h,to:m}=i,v=r.doc.textBetween(h,m,`
`,`
`).split(`
`).map(w=>u+w).join(`
`);return f.replaceWith(h,m,r.schema.text(v)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:lg,{state:r}=t,{selection:i}=r,{$from:o,empty:l}=i;return o.parent.type!==this.type?!1:l?t.commands.command(({tr:u})=>{var f;const{pos:h}=o,m=o.start(),y=o.end(),v=r.doc.textBetween(m,y,`
`,`
`).split(`
`);let w=0,k=0;const E=h-m;for(let J=0;J<v.length;J+=1){if(k+v[J].length>=E){w=J;break}k+=v[J].length+1}const O=((f=v[w].match(/^ */))==null?void 0:f[0])||"",j=Math.min(O.length,n);if(j===0)return!0;let B=m;for(let J=0;J<w;J+=1)B+=v[J].length+1;return u.delete(B,B+j),h-B<=j&&u.setSelection(Ae.create(u.doc,B)),!0}):t.commands.command(({tr:u})=>{const{from:f,to:h}=i,x=r.doc.textBetween(f,h,`
`,`
`).split(`
`).map(v=>{var w;const k=((w=v.match(/^ */))==null?void 0:w[0])||"",E=Math.min(k.length,n);return v.slice(E)}).join(`
`);return u.replaceWith(f,h,r.schema.text(x)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!o||!l?!1:t.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const u=i.after();return u===void 0?!1:r.nodeAt(u)?t.commands.command(({tr:h})=>(h.setSelection(De.near(r.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[ty({find:KH,type:this.type,getAttributes:t=>({language:t[1]})}),ty({find:WH,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new pt({key:new Ot("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i?.mode;if(!n||!o)return!1;const{tr:l,schema:u}=t.state,f=u.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:o},f)),l.selection.$from.parent.type!==this.type&&l.setSelection(Ae.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),JH=xn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),XH=xn.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ht(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:u}=r.extensionManager,f=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:m})=>{if(m&&f&&l){const y=f.filter(x=>u.includes(x.type.name));h.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),QH=xn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,ht(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>ty({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),ZH=xn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",ht(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!N8(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return AT(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:o,tr:l,dispatch:u})=>{if(u){const{$to:f}=l.selection,h=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?l.setSelection(Ae.create(l.doc,f.pos+1)):f.nodeAfter.isBlock?l.setSelection(we.create(l.doc,f.pos)):l.setSelection(Ae.create(l.doc,f.pos));else{const m=o.schema.nodes[this.options.nextNodeType]||f.parent.type.contentMatch.defaultType,y=m?.create();y&&(l.insert(h,y),l.setSelection(Ae.create(l.doc,h+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[FT({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),e7=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,t7=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,n7=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,r7=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,s7=fs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ht(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[oa({find:e7,type:this.type}),oa({find:n7,type:this.type})]},addPasteRules(){return[li({find:t7,type:this.type}),li({find:r7,type:this.type})]}});const i7="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",a7="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",sy="numeric",iy="ascii",ay="alpha",Wl="asciinumeric",Ul="alphanumeric",oy="domain",YT="emoji",o7="scheme",l7="slashscheme",cg="whitespace";function c7(t,e){return t in e||(e[t]=[]),e[t]}function Gi(t,e,n){e[sy]&&(e[Wl]=!0,e[Ul]=!0),e[iy]&&(e[Wl]=!0,e[ay]=!0),e[Wl]&&(e[Ul]=!0),e[ay]&&(e[Ul]=!0),e[Ul]&&(e[oy]=!0),e[YT]&&(e[oy]=!0);for(const r in e){const i=c7(r,n);i.indexOf(t)<0&&i.push(t)}}function u7(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function mn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}mn.groups={};mn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||mn.groups;let i;return e&&e.j?i=e:(i=new mn(e),n&&r&&Gi(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const o=t.length;if(!o)return i;for(let l=0;l<o-1;l++)i=i.tt(t[l]);return i.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||mn.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let l,u=i.go(t);if(u?(l=new mn,Object.assign(l.j,u.j),l.jr.push.apply(l.jr,u.jr),l.jd=u.jd,l.t=u.t):l=new mn,o){if(r)if(l.t&&typeof l.t=="string"){const f=Object.assign(u7(l.t,r),n);Gi(o,f,r)}else n&&Gi(o,n,r);l.t=o}return i.j[t]=l,l}};const je=(t,e,n,r,i)=>t.ta(e,n,r,i),yt=(t,e,n,r,i)=>t.tr(e,n,r,i),lE=(t,e,n,r,i)=>t.ts(e,n,r,i),ae=(t,e,n,r,i)=>t.tt(e,n,r,i),Jr="WORD",ly="UWORD",JT="ASCIINUMERICAL",XT="ALPHANUMERICAL",mc="LOCALHOST",cy="TLD",uy="UTLD",Md="SCHEME",ro="SLASH_SCHEME",pb="NUM",dy="WS",mb="NL",Yl="OPENBRACE",Jl="CLOSEBRACE",of="OPENBRACKET",lf="CLOSEBRACKET",cf="OPENPAREN",uf="CLOSEPAREN",df="OPENANGLEBRACKET",ff="CLOSEANGLEBRACKET",hf="FULLWIDTHLEFTPAREN",pf="FULLWIDTHRIGHTPAREN",mf="LEFTCORNERBRACKET",gf="RIGHTCORNERBRACKET",yf="LEFTWHITECORNERBRACKET",bf="RIGHTWHITECORNERBRACKET",xf="FULLWIDTHLESSTHAN",vf="FULLWIDTHGREATERTHAN",wf="AMPERSAND",Sf="APOSTROPHE",Ef="ASTERISK",qs="AT",kf="BACKSLASH",Nf="BACKTICK",Cf="CARET",Js="COLON",gb="COMMA",Tf="DOLLAR",vr="DOT",Af="EQUALS",yb="EXCLAMATION",Gn="HYPHEN",Xl="PERCENT",Mf="PIPE",Of="PLUS",Rf="POUND",Ql="QUERY",bb="QUOTE",QT="FULLWIDTHMIDDLEDOT",xb="SEMI",wr="SLASH",Zl="TILDE",_f="UNDERSCORE",ZT="EMOJI",jf="SYM";var e2=Object.freeze({__proto__:null,ALPHANUMERICAL:XT,AMPERSAND:wf,APOSTROPHE:Sf,ASCIINUMERICAL:JT,ASTERISK:Ef,AT:qs,BACKSLASH:kf,BACKTICK:Nf,CARET:Cf,CLOSEANGLEBRACKET:ff,CLOSEBRACE:Jl,CLOSEBRACKET:lf,CLOSEPAREN:uf,COLON:Js,COMMA:gb,DOLLAR:Tf,DOT:vr,EMOJI:ZT,EQUALS:Af,EXCLAMATION:yb,FULLWIDTHGREATERTHAN:vf,FULLWIDTHLEFTPAREN:hf,FULLWIDTHLESSTHAN:xf,FULLWIDTHMIDDLEDOT:QT,FULLWIDTHRIGHTPAREN:pf,HYPHEN:Gn,LEFTCORNERBRACKET:mf,LEFTWHITECORNERBRACKET:yf,LOCALHOST:mc,NL:mb,NUM:pb,OPENANGLEBRACKET:df,OPENBRACE:Yl,OPENBRACKET:of,OPENPAREN:cf,PERCENT:Xl,PIPE:Mf,PLUS:Of,POUND:Rf,QUERY:Ql,QUOTE:bb,RIGHTCORNERBRACKET:gf,RIGHTWHITECORNERBRACKET:bf,SCHEME:Md,SEMI:xb,SLASH:wr,SLASH_SCHEME:ro,SYM:jf,TILDE:Zl,TLD:cy,UNDERSCORE:_f,UTLD:uy,UWORD:ly,WORD:Jr,WS:dy});const Wr=/[a-z]/,jl=new RegExp("\\p{L}","u"),ug=new RegExp("\\p{Emoji}","u"),Yr=/\d/,dg=/\s/,cE="\r",fg=`
`,d7="",f7="",hg="";let hd=null,pd=null;function h7(t=[]){const e={};mn.groups=e;const n=new mn;hd==null&&(hd=uE(i7)),pd==null&&(pd=uE(a7)),ae(n,"'",Sf),ae(n,"{",Yl),ae(n,"}",Jl),ae(n,"[",of),ae(n,"]",lf),ae(n,"(",cf),ae(n,")",uf),ae(n,"<",df),ae(n,">",ff),ae(n,"",hf),ae(n,"",pf),ae(n,"",mf),ae(n,"",gf),ae(n,"",yf),ae(n,"",bf),ae(n,"",xf),ae(n,"",vf),ae(n,"&",wf),ae(n,"*",Ef),ae(n,"@",qs),ae(n,"`",Nf),ae(n,"^",Cf),ae(n,":",Js),ae(n,",",gb),ae(n,"$",Tf),ae(n,".",vr),ae(n,"=",Af),ae(n,"!",yb),ae(n,"-",Gn),ae(n,"%",Xl),ae(n,"|",Mf),ae(n,"+",Of),ae(n,"#",Rf),ae(n,"?",Ql),ae(n,'"',bb),ae(n,"/",wr),ae(n,";",xb),ae(n,"~",Zl),ae(n,"_",_f),ae(n,"\\",kf),ae(n,"",QT);const r=yt(n,Yr,pb,{[sy]:!0});yt(r,Yr,r);const i=yt(r,Wr,JT,{[Wl]:!0}),o=yt(r,jl,XT,{[Ul]:!0}),l=yt(n,Wr,Jr,{[iy]:!0});yt(l,Yr,i),yt(l,Wr,l),yt(i,Yr,i),yt(i,Wr,i);const u=yt(n,jl,ly,{[ay]:!0});yt(u,Wr),yt(u,Yr,o),yt(u,jl,u),yt(o,Yr,o),yt(o,Wr),yt(o,jl,o);const f=ae(n,fg,mb,{[cg]:!0}),h=ae(n,cE,dy,{[cg]:!0}),m=yt(n,dg,dy,{[cg]:!0});ae(n,hg,m),ae(h,fg,f),ae(h,hg,m),yt(h,dg,m),ae(m,cE),ae(m,fg),yt(m,dg,m),ae(m,hg,m);const y=yt(n,ug,ZT,{[YT]:!0});ae(y,"#"),yt(y,ug,y),ae(y,d7,y);const x=ae(y,f7);ae(x,"#"),yt(x,ug,y);const v=[[Wr,l],[Yr,i]],w=[[Wr,null],[jl,u],[Yr,o]];for(let k=0;k<hd.length;k++)Hs(n,hd[k],cy,Jr,v);for(let k=0;k<pd.length;k++)Hs(n,pd[k],uy,ly,w);Gi(cy,{tld:!0,ascii:!0},e),Gi(uy,{utld:!0,alpha:!0},e),Hs(n,"file",Md,Jr,v),Hs(n,"mailto",Md,Jr,v),Hs(n,"http",ro,Jr,v),Hs(n,"https",ro,Jr,v),Hs(n,"ftp",ro,Jr,v),Hs(n,"ftps",ro,Jr,v),Gi(Md,{scheme:!0,ascii:!0},e),Gi(ro,{slashscheme:!0,ascii:!0},e),t=t.sort((k,E)=>k[0]>E[0]?1:-1);for(let k=0;k<t.length;k++){const E=t[k][0],O=t[k][1]?{[o7]:!0}:{[l7]:!0};E.indexOf("-")>=0?O[oy]=!0:Wr.test(E)?Yr.test(E)?O[Wl]=!0:O[iy]=!0:O[sy]=!0,lE(n,E,E,O)}return lE(n,"localhost",mc,{ascii:!0}),n.jd=new mn(jf),{start:n,tokens:Object.assign({groups:e},e2)}}function t2(t,e){const n=p7(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=n.length,i=[];let o=0,l=0;for(;l<r;){let u=t,f=null,h=0,m=null,y=-1,x=-1;for(;l<r&&(f=u.go(n[l]));)u=f,u.accepts()?(y=0,x=0,m=u):y>=0&&(y+=n[l].length,x++),h+=n[l].length,o+=n[l].length,l++;o-=y,l-=x,h-=y,i.push({t:m.t,v:e.slice(o-h,o),s:o-h,e:o})}return i}function p7(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),o,l=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(l),r+=l.length}return e}function Hs(t,e,n,r,i){let o;const l=e.length;for(let u=0;u<l-1;u++){const f=e[u];t.j[f]?o=t.j[f]:(o=new mn(r),o.jr=i.slice(),t.j[f]=o),t=o}return o=new mn(n),o.jr=i.slice(),t.j[e[l-1]]=o,o}function uE(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let o=0;for(;i.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let l=parseInt(t.substring(r,r+o),10);l>0;l--)n.pop();r+=o}else n.push(t[r]),r++}return e}const gc={defaultProtocol:"http",events:null,format:dE,formatHref:dE,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function vb(t,e=null){let n=Object.assign({},gc);t&&(n=Object.assign(n,t instanceof vb?t.o:t));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}vb.prototype={o:gc,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:gc[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function dE(t){return t}function n2(t,e){this.t="token",this.v=t,this.tk=e}n2.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=gc.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),o=this.toFormattedString(t),l={},u=t.get("className",n,e),f=t.get("target",n,e),h=t.get("rel",n,e),m=t.getObj("attributes",n,e),y=t.getObj("events",n,e);return l.href=r,u&&(l.class=u),f&&(l.target=f),h&&(l.rel=h),m&&Object.assign(l,m),{tagName:i,attributes:l,content:o,eventListeners:y}}};function ah(t,e){class n extends n2{constructor(i,o){super(i,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const fE=ah("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),hE=ah("text"),m7=ah("nl"),md=ah("url",{isLink:!0,toHref(t=gc.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==mc&&t[1].t===Js}}),Fn=t=>new mn(t);function g7({groups:t}){const e=t.domain.concat([wf,Ef,qs,kf,Nf,Cf,Tf,Af,Gn,pb,Xl,Mf,Of,Rf,wr,jf,Zl,_f]),n=[Sf,Js,gb,vr,yb,Xl,Ql,bb,xb,df,ff,Yl,Jl,lf,of,cf,uf,hf,pf,mf,gf,yf,bf,xf,vf],r=[wf,Sf,Ef,kf,Nf,Cf,Tf,Af,Gn,Yl,Jl,Xl,Mf,Of,Rf,Ql,wr,jf,Zl,_f],i=Fn(),o=ae(i,Zl);je(o,r,o),je(o,t.domain,o);const l=Fn(),u=Fn(),f=Fn();je(i,t.domain,l),je(i,t.scheme,u),je(i,t.slashscheme,f),je(l,r,o),je(l,t.domain,l);const h=ae(l,qs);ae(o,qs,h),ae(u,qs,h),ae(f,qs,h);const m=ae(o,vr);je(m,r,o),je(m,t.domain,o);const y=Fn();je(h,t.domain,y),je(y,t.domain,y);const x=ae(y,vr);je(x,t.domain,y);const v=Fn(fE);je(x,t.tld,v),je(x,t.utld,v),ae(h,mc,v);const w=ae(y,Gn);ae(w,Gn,w),je(w,t.domain,y),je(v,t.domain,y),ae(v,vr,x),ae(v,Gn,w);const k=ae(v,Js);je(k,t.numeric,fE);const E=ae(l,Gn),C=ae(l,vr);ae(E,Gn,E),je(E,t.domain,l),je(C,r,o),je(C,t.domain,l);const O=Fn(md);je(C,t.tld,O),je(C,t.utld,O),je(O,t.domain,l),je(O,r,o),ae(O,vr,C),ae(O,Gn,E),ae(O,qs,h);const j=ae(O,Js),B=Fn(md);je(j,t.numeric,B);const U=Fn(md),J=Fn();je(U,e,U),je(U,n,J),je(J,e,U),je(J,n,J),ae(O,wr,U),ae(B,wr,U);const H=ae(u,Js),V=ae(f,Js),ne=ae(V,wr),le=ae(ne,wr);je(u,t.domain,l),ae(u,vr,C),ae(u,Gn,E),je(f,t.domain,l),ae(f,vr,C),ae(f,Gn,E),je(H,t.domain,U),ae(H,wr,U),ae(H,Ql,U),je(le,t.domain,U),je(le,e,U),ae(le,wr,U);const ke=[[Yl,Jl],[of,lf],[cf,uf],[df,ff],[hf,pf],[mf,gf],[yf,bf],[xf,vf]];for(let Se=0;Se<ke.length;Se++){const[ie,X]=ke[Se],K=ae(U,ie);ae(J,ie,K),ae(K,X,U);const R=Fn(md);je(K,e,R);const F=Fn();je(K,n),je(R,e,R),je(R,n,F),je(F,e,R),je(F,n,F),ae(R,X,U),ae(F,X,U)}return ae(i,mc,O),ae(i,mb,m7),{start:i,tokens:e2}}function y7(t,e,n){let r=n.length,i=0,o=[],l=[];for(;i<r;){let u=t,f=null,h=null,m=0,y=null,x=-1;for(;i<r&&!(f=u.go(n[i].t));)l.push(n[i++]);for(;i<r&&(h=f||u.go(n[i].t));)f=null,u=h,u.accepts()?(x=0,y=u):x>=0&&x++,i++,m++;if(x<0)i-=m,i<r&&(l.push(n[i]),i++);else{l.length>0&&(o.push(pg(hE,e,l)),l=[]),i-=x,m-=x;const v=y.t,w=n.slice(i-m,i);o.push(pg(v,e,w))}}return l.length>0&&o.push(pg(hE,e,l)),o}function pg(t,e,n){const r=n[0].s,i=n[n.length-1].e,o=e.slice(r,i);return new t(o,n)}const b7=typeof console<"u"&&console&&console.warn||(()=>{}),x7="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ct={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function v7(){return mn.groups={},ct.scanner=null,ct.parser=null,ct.tokenQueue=[],ct.pluginQueue=[],ct.customSchemes=[],ct.initialized=!1,ct}function pE(t,e=!1){if(ct.initialized&&b7(`linkifyjs: already initialized - will not register custom scheme "${t}" ${x7}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ct.customSchemes.push([t,e])}function w7(){ct.scanner=h7(ct.customSchemes);for(let t=0;t<ct.tokenQueue.length;t++)ct.tokenQueue[t][1]({scanner:ct.scanner});ct.parser=g7(ct.scanner.tokens);for(let t=0;t<ct.pluginQueue.length;t++)ct.pluginQueue[t][1]({scanner:ct.scanner,parser:ct.parser});return ct.initialized=!0,ct}function wb(t){return ct.initialized||w7(),y7(ct.parser.start,t,t2(ct.scanner.start,t))}wb.scan=t2;function r2(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new vb(n),i=wb(t),o=[];for(let l=0;l<i.length;l++){const u=i[l];u.isLink&&(!e||u.t===e)&&r.check(u)&&o.push(u.toFormattedObject(r))}return o}var Sb="[\0- -\u2029]",S7=new RegExp(Sb),E7=new RegExp(`${Sb}$`),k7=new RegExp(Sb,"g");function N7(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function C7(t){return new pt({key:new Ot("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(h=>h.docChanged)&&!n.doc.eq(r.doc),o=e.some(h=>h.getMeta("preventAutolink"));if(!i||o)return;const{tr:l}=r,u=vT(n.doc,[...e]);if(TT(u).forEach(({newRange:h})=>{const m=kU(r.doc,h,v=>v.isTextblock);let y,x;if(m.length>1)y=m[0],x=r.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ");else if(m.length){const v=r.doc.textBetween(h.from,h.to," "," ");if(!E7.test(v))return;y=m[0],x=r.doc.textBetween(y.pos,h.to,void 0," ")}if(y&&x){const v=x.split(S7).filter(Boolean);if(v.length<=0)return!1;const w=v[v.length-1],k=y.pos+x.lastIndexOf(w);if(!w)return!1;const E=wb(w).map(C=>C.toObject(t.defaultProtocol));if(!N7(E))return!1;E.filter(C=>C.isLink).map(C=>({...C,from:k+C.start+1,to:k+C.end+1})).filter(C=>r.schema.marks.code?!r.doc.rangeHasMark(C.from,C.to,r.schema.marks.code):!0).filter(C=>t.validate(C.value)).filter(C=>t.shouldAutoLink(C.value)).forEach(C=>{cb(C.from,C.to,r.doc).some(O=>O.mark.type===t.type)||l.addMark(C.from,C.to,t.type.create({href:C.href}))})}}),!!l.steps.length)return l}})}function T7(t){return new pt({key:new Ot("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,o;if(r.button!==0||!e.editable)return!1;let l=!1;if(t.enableClickSelection&&(l=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let u=null;if(r.target instanceof HTMLAnchorElement)u=r.target;else{let y=r.target;const x=[];for(;y.nodeName!=="DIV";)x.push(y),y=y.parentNode;u=x.find(v=>v.nodeName==="A")}if(!u)return l;const f=CT(e.state,t.type.name),h=(i=u?.href)!=null?i:f.href,m=(o=u?.target)!=null?o:f.target;u&&h&&(window.open(h,m),l=!0)}return l}}})}function A7(t){return new pt({key:new Ot("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:o}=e,{selection:l}=o,{empty:u}=l;if(u)return!1;let f="";r.content.forEach(m=>{f+=m.textContent});const h=r2(f,{defaultProtocol:t.defaultProtocol}).find(m=>m.isLink&&m.value===f);return!f||!h||i!==void 0&&!i(h.value)?!1:t.editor.commands.setMark(t.type,{href:h.href})}}})}function Pi(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(k7,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var s2=fs.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){pE(t);return}pE(t.scheme,t.optionalSlashes)})},onDestroy(){v7()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Pi(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const i=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(i)||!/\./.test(i))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Pi(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Pi(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ht(this.options.HTMLAttributes,t),0]:["a",ht(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Pi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Pi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[li({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=r2(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:l=>!!Pi(l,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&e.push({text:o.value,data:{href:o.href},index:o.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(C7({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Pi(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(T7({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(A7({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),M7=Object.defineProperty,O7=(t,e)=>{for(var n in e)M7(t,n,{get:e[n],enumerable:!0})},R7="listItem",mE="textStyle",gE=/^\s*([-+*])\s$/,i2=xn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(R7,this.editor.getAttributes(mE)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=So({find:gE,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=So({find:gE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(mE),editor:this.editor})),[t]}}),a2=xn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const l=t.tokens.slice(1),u=e.parseChildren(l);n.push(...u)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>hb(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),_7={};O7(_7,{findListItemPos:()=>Lc,getNextListDepth:()=>Eb,handleBackspace:()=>fy,handleDelete:()=>hy,hasListBefore:()=>o2,hasListItemAfter:()=>j7,hasListItemBefore:()=>l2,listItemHasSubList:()=>c2,nextListIsDeeper:()=>u2,nextListIsHigher:()=>d2});var Lc=(t,e)=>{const{$from:n}=e.selection,r=Tt(t,e.schema);let i=null,o=n.depth,l=n.pos,u=null;for(;o>0&&u===null;)i=n.node(o),i.type===r?u=o:(o-=1,l-=1);return u===null?null:{$pos:e.doc.resolve(l),depth:u}},Eb=(t,e)=>{const n=Lc(t,e);if(!n)return!1;const[,r]=DU(e,t,n.$pos.pos+4);return r},o2=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),o=t.doc.resolve(i).node();return!(!o||!n.includes(o.type.name))},l2=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},c2=(t,e,n)=>{if(!n)return!1;const r=Tt(t,e.schema);let i=!1;return n.descendants(o=>{o.type===r&&(i=!0)}),i},fy=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!oi(t.state,e)&&o2(t.state,e,n)){const{$anchor:u}=t.state.selection,f=t.state.doc.resolve(u.before()-1),h=[];f.node().descendants((x,v)=>{x.type.name===e&&h.push({node:x,pos:v})});const m=h.at(-1);if(!m)return!1;const y=t.state.doc.resolve(f.start()+m.pos+1);return t.chain().cut({from:u.start()-1,to:u.end()+1},y.end()).joinForward().run()}if(!oi(t.state,e)||!PU(t.state))return!1;const r=Lc(e,t.state);if(!r)return!1;const o=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=c2(e,t.state,o);return l2(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},u2=(t,e)=>{const n=Eb(t,e),r=Lc(t,e);return!r||!n?!1:n>r.depth},d2=(t,e)=>{const n=Eb(t,e),r=Lc(t,e);return!r||!n?!1:n<r.depth},hy=(t,e)=>{if(!oi(t.state,e)||!zU(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:u2(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():d2(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},j7=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},f2=nt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&hy(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&hy(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&fy(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&fy(t,n,r)&&(e=!0)}),e}}}}),yE=/^(\s*)(\d+)\.\s+(.*)$/,D7=/^\s/;function L7(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],o=i.match(yE);if(!o)break;const[,l,u,f]=o,h=l.length;let m=f,y=n+1;const x=[i];for(;y<t.length;){const v=t[y];if(v.match(yE))break;if(v.trim()==="")x.push(v),m+=`
`,y+=1;else if(v.match(D7))x.push(v),m+=`
${v.slice(h+2)}`,y+=1;else break}e.push({indent:h,number:parseInt(u,10),content:m.trim(),raw:x.join(`
`)}),r=y,n=y}return[e,r]}function h2(t,e,n){var r;const i=[];let o=0;for(;o<t.length;){const l=t[o];if(l.indent===e){const u=l.content.split(`
`),f=((r=u[0])==null?void 0:r.trim())||"",h=[];f&&h.push({type:"paragraph",raw:f,tokens:n.inlineTokens(f)});const m=u.slice(1).join(`
`).trim();if(m){const v=n.blockTokens(m);h.push(...v)}let y=o+1;const x=[];for(;y<t.length&&t[y].indent>e;)x.push(t[y]),y+=1;if(x.length>0){const v=Math.min(...x.map(k=>k.indent)),w=h2(x,v,n);h.push({type:"list",ordered:!0,start:x[0].number,items:w,raw:x.map(k=>k.raw).join(`
`)})}i.push({type:"list_item",raw:l.raw,tokens:h}),o=y}else o+=1}return i}function I7(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const o=e.parseChildren([i]);r.push({type:"paragraph",content:o})}else{const o=e.parseChildren([i]);o.length>0&&r.push(...o)}}),{type:"listItem",content:r}})}var z7="listItem",bE="textStyle",xE=/^(\d+)\.\s$/,p2=xn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",ht(this.options.HTMLAttributes,n),0]:["ol",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?I7(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[o,l]=L7(i);if(o.length===0)return;const u=h2(o,0,n);return u.length===0?void 0:{type:"list",ordered:!0,start:((r=o[0])==null?void 0:r.number)||1,items:u,raw:i.slice(0,l).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(z7,this.editor.getAttributes(bE)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=So({find:xE,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=So({find:xE,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(bE)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),P7=/^\s*(\[([( |x])?\])\s$/,B7=xn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",ht(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return hb(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),l=document.createElement("span"),u=document.createElement("input"),f=document.createElement("div"),h=y=>{var x,v;u.ariaLabel=((v=(x=this.options.a11y)==null?void 0:x.checkboxLabel)==null?void 0:v.call(x,y,u.checked))||`Task item checkbox for ${y.textContent||"empty task item"}`};h(t),o.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",y=>y.preventDefault()),u.addEventListener("change",y=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:x}=y.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:v})=>{const w=n();if(typeof w!="number")return!1;const k=v.doc.nodeAt(w);return v.setNodeMarkup(w,void 0,{...k?.attrs,checked:x}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,x)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([y,x])=>{i.setAttribute(y,x)}),i.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,o.append(u,l),i.append(o,f),Object.entries(e).forEach(([y,x])=>{i.setAttribute(y,x)});let m=new Set(Object.keys(e));return{dom:i,contentDOM:f,update:y=>{if(y.type!==this.type)return!1;i.dataset.checked=y.attrs.checked,u.checked=y.attrs.checked,h(y);const x=r.extensionManager.attributes,v=pc(y,x),w=new Set(Object.keys(v)),k=this.options.HTMLAttributes;return m.forEach(E=>{w.has(E)||(E in k?i.setAttribute(E,k[E]):i.removeAttribute(E))}),Object.entries(v).forEach(([E,C])=>{C==null?E in k?i.setAttribute(E,k[E]):i.removeAttribute(E):i.setAttribute(E,C)}),m=w,!0}}}},addInputRules(){return[So({find:P7,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),U7=xn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",ht(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=o=>{const l=ny(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,f)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:n.inlineTokens(u.mainContent),nestedTokens:f}),customNestedParser:r},n);return l?[{type:"taskList",raw:l.raw,items:l.items}]:n.blockTokens(o)},i=ny(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,l)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:l}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});nt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(i2.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(a2.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(f2.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(p2.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(B7.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(U7.configure(this.options.taskList)),t}});var H7=xn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",ht(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),V7=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,$7=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,q7=fs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",ht(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[oa({find:V7,type:this.type})]},addPasteRules(){return[li({find:$7,type:this.type})]}}),F7=xn.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),m2=fs.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",ht(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function G7(t={}){return new pt({view(e){return new K7(e,t)}})}class K7{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=l=>{this[i](l)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),l=o.width/i.offsetWidth,u=o.height/i.offsetHeight;if(n){let y=e.nodeBefore,x=e.nodeAfter;if(y||x){let v=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(v){let w=v.getBoundingClientRect(),k=y?w.bottom:w.top;y&&x&&(k=(k+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let E=this.width/2*u;r={left:w.left,right:w.right,top:k-E,bottom:k+E}}}}if(!r){let y=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*l;r={left:y.left-x,right:y.left+x,top:y.top,bottom:y.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let h,m;if(!f||f==document.body&&getComputedStyle(f).position=="static")h=-pageXOffset,m=-pageYOffset;else{let y=f.getBoundingClientRect(),x=y.width/f.offsetWidth,v=y.height/f.offsetHeight;h=y.left-f.scrollLeft*x,m=y.top-f.scrollTop*v}this.element.style.left=(r.left-h)/l+"px",this.element.style.top=(r.top-m)/u+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=dC(this.editorView.state.doc,l,this.editorView.dragging.slice);u!=null&&(l=u)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class bt extends De{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return bt.valid(r)?new bt(r):De.near(r)}content(){return ce.empty}eq(e){return e instanceof bt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new bt(e.resolve(n.pos))}getBookmark(){return new kb(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!W7(e)||!Y7(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&bt.valid(e))return e;let i=e.pos,o=null;for(let l=e.depth;;l--){let u=e.node(l);if(n>0?e.indexAfter(l)<u.childCount:e.index(l)>0){o=u.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;i+=n;let f=e.doc.resolve(i);if(bt.valid(f))return f}for(;;){let l=n>0?o.firstChild:o.lastChild;if(!l){if(o.isAtom&&!o.isText&&!we.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=l,i+=n;let u=e.doc.resolve(i);if(bt.valid(u))return u}return null}}}bt.prototype.visible=!1;bt.findFrom=bt.findGapCursorFrom;De.jsonID("gapcursor",bt);class kb{constructor(e){this.pos=e}map(e){return new kb(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return bt.valid(n)?new bt(n):De.near(n)}}function g2(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function W7(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||g2(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Y7(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||g2(i.type))return!0;if(i.inlineContent)return!1}}return!0}function J7(){return new pt({props:{decorations:e9,createSelectionBetween(t,e,n){return e.pos==n.pos&&bt.valid(n)?new bt(n):null},handleClick:Q7,handleKeyDown:X7,handleDOMEvents:{beforeinput:Z7}}})}const X7=fT({ArrowLeft:gd("horiz",-1),ArrowRight:gd("horiz",1),ArrowUp:gd("vert",-1),ArrowDown:gd("vert",1)});function gd(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let l=r.selection,u=e>0?l.$to:l.$from,f=l.empty;if(l instanceof Ae){if(!o.endOfTextblock(n)||u.depth==0)return!1;f=!1,u=r.doc.resolve(e>0?u.after():u.before())}let h=bt.findGapCursorFrom(u,e,f);return h?(i&&i(r.tr.setSelection(new bt(h))),!0):!1}}function Q7(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!bt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&we.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new bt(r))),!0)}function Z7(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof bt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=se.empty;for(let l=r.length-1;l>=0;l--)i=se.from(r[l].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new ce(i,0,0));return o.setSelection(Ae.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function e9(t){if(!(t.selection instanceof bt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ft.create(t.doc,[nn.widget(t.selection.head,e,{key:"gapcursor"})])}var Df=200,It=function(){};It.prototype.append=function(e){return e.length?(e=It.from(e),!this.length&&e||e.length<Df&&this.leafAppend(e)||this.length<Df&&e.leafPrepend(this)||this.appendInner(e)):this};It.prototype.prepend=function(e){return e.length?It.from(e).append(this):this};It.prototype.appendInner=function(e){return new t9(this,e)};It.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?It.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};It.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};It.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};It.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,l){return i.push(e(o,l))},n,r),i};It.from=function(e){return e instanceof It?e:e&&e.length?new y2(e):It.empty};var y2=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,l,u){for(var f=o;f<l;f++)if(i(this.values[f],u+f)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,l,u){for(var f=o-1;f>=l;f--)if(i(this.values[f],u+f)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Df)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Df)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(It);It.empty=new y2([]);var t9=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,l){var u=this.left.length;if(i<u&&this.left.forEachInner(r,i,Math.min(o,u),l)===!1||o>u&&this.right.forEachInner(r,Math.max(i-u,0),Math.min(this.length,o)-u,l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,l){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(r,i-u,Math.max(o,u)-u,l+u)===!1||o<u&&this.left.forEachInvertedInner(r,Math.min(i,u),o,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(It);const n9=500;class or{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let l=e.tr,u,f,h=[],m=[];return this.items.forEach((y,x)=>{if(!y.step){i||(i=this.remapping(r,x+1),o=i.maps.length),o--,m.push(y);return}if(i){m.push(new Sr(y.map));let v=y.step.map(i.slice(o)),w;v&&l.maybeStep(v).doc&&(w=l.mapping.maps[l.mapping.maps.length-1],h.push(new Sr(w,void 0,void 0,h.length+m.length))),o--,w&&i.appendMap(w,o)}else l.maybeStep(y.step);if(y.selection)return u=i?y.selection.map(i.slice(o)):y.selection,f=new or(this.items.slice(0,r).append(m.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:l,selection:u}}addTransform(e,n,r,i){let o=[],l=this.eventCount,u=this.items,f=!i&&u.length?u.get(u.length-1):null;for(let m=0;m<e.steps.length;m++){let y=e.steps[m].invert(e.docs[m]),x=new Sr(e.mapping.maps[m],y,n),v;(v=f&&f.merge(x))&&(x=v,m?o.pop():u=u.slice(0,u.length-1)),o.push(x),n&&(l++,n=void 0),i||(f=x)}let h=l-r.depth;return h>s9&&(u=r9(u,h),l-=h),new or(u.append(o),l)}remapping(e,n){let r=new lc;return this.items.forEach((i,o)=>{let l=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new or(this.items.append(e.map(n=>new Sr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,l=e.steps.length,u=this.eventCount;this.items.forEach(x=>{x.selection&&u--},i);let f=n;this.items.forEach(x=>{let v=o.getMirror(--f);if(v==null)return;l=Math.min(l,v);let w=o.maps[v];if(x.step){let k=e.steps[v].invert(e.docs[v]),E=x.selection&&x.selection.map(o.slice(f+1,v));E&&u++,r.push(new Sr(w,k,E))}else r.push(new Sr(w))},i);let h=[];for(let x=n;x<l;x++)h.push(new Sr(o.maps[x]));let m=this.items.slice(0,i).append(h).append(r),y=new or(m,u);return y.emptyItemCount()>n9&&(y=y.compress(this.items.length-r.length)),y}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((l,u)=>{if(u>=e)i.push(l),l.selection&&o++;else if(l.step){let f=l.step.map(n.slice(r)),h=f&&f.getMap();if(r--,h&&n.appendMap(h,r),f){let m=l.selection&&l.selection.map(n.slice(r));m&&o++;let y=new Sr(h.invert(),f,m),x,v=i.length-1;(x=i.length&&i[v].merge(y))?i[v]=x:i.push(y)}}else l.map&&r--},this.items.length,0),new or(It.from(i.reverse()),o)}}or.empty=new or(It.empty,0);function r9(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Sr{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Sr(n.getMap().invert(),n,this.selection)}}}class Fs{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const s9=20;function i9(t,e,n,r){let i=n.getMeta(Qi),o;if(i)return i.historyState;n.getMeta(l9)&&(t=new Fs(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(Qi))return l.getMeta(Qi).redo?new Fs(t.done.addTransform(n,void 0,r,Od(e)),t.undone,vE(n.mapping.maps),t.prevTime,t.prevComposition):new Fs(t.done,t.undone.addTransform(n,void 0,r,Od(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),f=t.prevTime==0||!l&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-r.newGroupDelay||!a9(n,t.prevRanges)),h=l?mg(t.prevRanges,n.mapping):vE(n.mapping.maps);return new Fs(t.done.addTransform(n,f?e.selection.getBookmark():void 0,r,Od(e)),or.empty,h,n.time,u??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Fs(t.done.rebased(n,o),t.undone.rebased(n,o),mg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Fs(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),mg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function a9(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function vE(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,l)=>e.push(o,l));return e}function mg(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function o9(t,e,n){let r=Od(e),i=Qi.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let l=o.selection.resolve(o.transform.doc),u=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),f=new Fs(n?u:o.remaining,n?o.remaining:u,null,0,-1);return o.transform.setSelection(l).setMeta(Qi,{redo:n,historyState:f})}let gg=!1,wE=null;function Od(t){let e=t.plugins;if(wE!=e){gg=!1,wE=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){gg=!0;break}}return gg}const Qi=new Ot("history"),l9=new Ot("closeHistory");function c9(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new pt({key:Qi,state:{init(){return new Fs(or.empty,or.empty,null,0,-1)},apply(e,n,r){return i9(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?x2:r=="historyRedo"?v2:null;return!i||!e.editable?!1:(n.preventDefault(),i(e.state,e.dispatch))}}}})}function b2(t,e){return(n,r)=>{let i=Qi.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=o9(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const x2=b2(!1,!0),v2=b2(!0,!0);nt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new pt({key:new Ot("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const o=this.storage.characters({node:r.doc});if(o>i){const l=o-i,u=0,f=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const h=r.tr.deleteRange(u,f);return t=!0,h}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=r||i>r&&o>r&&o<=i)return!0;if(i>r&&o>r&&o>i||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,f=o-r,h=u-f,m=u;return e.deleteRange(h,m),!(this.storage.characters({node:e.doc})>r)}})]}});var u9=nt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[G7(this.options)]}});nt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new pt({key:new Ot("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,o=[];if(!n||!r)return ft.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((f,h)=>{if(f.isText)return;if(!(i>=h&&i<=h+f.nodeSize-1))return!1;l+=1});let u=0;return t.descendants((f,h)=>{if(f.isText||!(i>=h&&i<=h+f.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&l-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";o.push(nn.node(h,h+f.nodeSize,{class:this.options.className}))}),ft.create(t,o)}}})]}});var d9=nt.create({name:"gapCursor",addProseMirrorPlugins(){return[J7()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Xe(be(t,"allowGapCursor",n)))!=null?e:null}}});nt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new pt({key:new Ot("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants((l,u)=>{const f=r>=u&&r<=u+l.nodeSize,h=!l.isLeaf&&rh(l);if((f||!this.options.showOnlyCurrent)&&h){const m=[this.options.emptyNodeClass];o&&m.push(this.options.emptyEditorClass);const y=nn.node(u,u+l.nodeSize,{class:m.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:u,hasAnchor:f}):this.options.placeholder});i.push(y)}return this.options.includeChildren}),ft.create(t,i)}}})]}});nt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new pt({key:new Ot("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||AT(n.selection)||t.view.dragging?null:ft.create(n.doc,[nn.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function SE({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var f9=nt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Ot(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new pt({key:e,appendTransaction:(i,o,l)=>{const{doc:u,tr:f,schema:h}=l,m=e.getState(l),y=u.content.size,x=h.nodes[n];if(m)return f.insert(y,x.create())},state:{init:(i,o)=>{const l=o.tr.doc.lastChild;return!SE({node:l,types:r})},apply:(i,o)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return o;const l=i.doc.lastChild;return!SE({node:l,types:r})}}})]}}),h9=nt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>x2(t,e),redo:()=>({state:t,dispatch:e})=>v2(t,e)}},addProseMirrorPlugins(){return[c9(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),p9=nt.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push($H.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(PH.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(i2.configure(this.options.bulletList)),this.options.code!==!1&&i.push(GH.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(YH.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(JH.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(u9.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(d9.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(XH.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(QH.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(h9.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(ZH.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(s7.configure(this.options.italic)),this.options.listItem!==!1&&i.push(a2.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(f2.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(s2.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(p2.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(H7.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(q7.configure(this.options.strike)),this.options.text!==!1&&i.push(F7.configure(this.options.text)),this.options.underline!==!1&&i.push(m2.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(f9.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),m9=p9,g9=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,y9=xn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",ht(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,i,o,l;const u=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",f=(i=(r=t.attrs)==null?void 0:r.alt)!=null?i:"",h=(l=(o=t.attrs)==null?void 0:o.title)!=null?l:"";return h?`![${f}](${u} "${h}")`:`![${f}](${u})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:i,getPos:o,HTMLAttributes:l,editor:u})=>{const f=document.createElement("img");Object.entries(l).forEach(([y,x])=>{if(x!=null)switch(y){case"width":case"height":break;default:f.setAttribute(y,x);break}}),f.src=l.src;const h=new k8({element:f,editor:u,node:i,getPos:o,onResize:(y,x)=>{f.style.width=`${y}px`,f.style.height=`${x}px`},onCommit:(y,x)=>{const v=o();v!==void 0&&this.editor.chain().setNodeSelection(v).updateAttributes(this.name,{width:y,height:x}).run()},onUpdate:(y,x,v)=>y.type===i.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:r===!0}}),m=h.dom;return m.style.visibility="hidden",m.style.pointerEvents="none",f.onload=()=>{m.style.visibility="",m.style.pointerEvents=""},h}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[FT({find:g9,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),b9=nt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).some(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),x9=20,w2=(t,e=0)=>{const n=[];return!t.children.length||e>x9||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...w2(r,e+1))}),n},v9=t=>{if(!t.children.length)return;const e=w2(t);e&&e.forEach(n=>{var r,i;const o=n.getAttribute("style"),l=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${l};${o}`)})},S2=fs.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&v9(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",ht(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(o=>!!o))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),w9=nt.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const o=r[i].split(":");if(o.length>=2){const l=o[0].trim().toLowerCase(),u=o.slice(1).join(":").trim();if(l==="background-color")return u.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),E2=nt.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const o=r[i].split(":");if(o.length>=2){const l=o[0].trim().toLowerCase(),u=o.slice(1).join(":").trim();if(l==="color")return u.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),S9=nt.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),E9=nt.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),k9=nt.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});nt.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(w9.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(E2.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(S9.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(E9.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(k9.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(S2.configure(this.options.textStyle)),t}});var N9=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,C9=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,T9=fs.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",ht(this.options.HTMLAttributes,t),0]},renderMarkdown:(t,e)=>`==${e.renderChildren(t)}==`,parseMarkdown:(t,e)=>e.applyMark("highlight",e.parseInline(t.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:t=>t.indexOf("=="),tokenize(t,e,n){const i=/^(==)([^=]+)(==)/.exec(t);if(i){const o=i[2].trim(),l=n.inlineTokens(o);return{type:"highlight",raw:i[0],text:o,tokens:l}}}},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[oa({find:N9,type:this.type})]},addPasteRules(){return[li({find:C9,type:this.type})]}});const A9=({editor:t})=>{if(!t)return null;const e=()=>{const n=window.prompt("Enter URL:");n&&t.chain().focus().setLink({href:n}).run()};return p.jsxs("div",{className:"border border-border rounded-t-lg bg-background p-2 flex flex-wrap gap-1 sticky top-16 z-10 shadow-md",children:[p.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("bold")?"bg-accent/20":""}`,title:"Bold",type:"button",children:p.jsx(YD,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("italic")?"bg-accent/20":""}`,title:"Italic",type:"button",children:p.jsx(_4,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleUnderline().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("underline")?"bg-accent/20":""}`,title:"Underline",type:"button",children:p.jsx(RL,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleStrike().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("strike")?"bg-accent/20":""}`,title:"Strikethrough",type:"button",children:p.jsx(gL,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleCode().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("code")?"bg-accent/20":""}`,title:"Code",type:"button",children:p.jsx(l4,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleHighlight().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("highlight")?"bg-accent/20":""}`,title:"Highlight",type:"button",children:p.jsx(M4,{size:18})}),p.jsx("div",{className:"w-px h-6 bg-border mx-1"}),p.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("heading",{level:1})?"bg-accent/20":""}`,title:"Heading 1",type:"button",children:p.jsx(E4,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("heading",{level:2})?"bg-accent/20":""}`,title:"Heading 2",type:"button",children:p.jsx(N4,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("heading",{level:3})?"bg-accent/20":""}`,title:"Heading 3",type:"button",children:p.jsx(T4,{size:18})}),p.jsx("div",{className:"w-px h-6 bg-border mx-1"}),p.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("bulletList")?"bg-accent/20":""}`,title:"Bullet List",type:"button",children:p.jsx(H4,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("orderedList")?"bg-accent/20":""}`,title:"Numbered List",type:"button",children:p.jsx(B4,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("blockquote")?"bg-accent/20":""}`,title:"Quote",type:"button",children:p.jsx(sL,{size:18})}),p.jsx("div",{className:"w-px h-6 bg-border mx-1"}),p.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("left").run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive({textAlign:"left"})?"bg-accent/20":""}`,title:"Align Left",type:"button",children:p.jsx(NL,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("center").run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive({textAlign:"center"})?"bg-accent/20":""}`,title:"Align Center",type:"button",children:p.jsx(xL,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("right").run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive({textAlign:"right"})?"bg-accent/20":""}`,title:"Align Right",type:"button",children:p.jsx(wL,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("justify").run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive({textAlign:"justify"})?"bg-accent/20":""}`,title:"Justify",type:"button",children:p.jsx(EL,{size:18})}),p.jsx("div",{className:"w-px h-6 bg-border mx-1"}),p.jsx("button",{onClick:e,className:`p-2 rounded hover:bg-accent/10 ${t.isActive("link")?"bg-accent/20":""}`,title:"Add Link",type:"button",children:p.jsx(I4,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),className:"p-2 rounded hover:bg-accent/10",title:"Horizontal Line",type:"button",children:p.jsx(Q4,{size:18})}),p.jsx("div",{className:"w-px h-6 bg-border mx-1"}),p.jsx("button",{onClick:()=>t.chain().focus().undo().run(),className:"p-2 rounded hover:bg-accent/10",disabled:!t.can().undo(),title:"Undo",type:"button",children:p.jsx(jL,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().redo().run(),className:"p-2 rounded hover:bg-accent/10",disabled:!t.can().redo(),title:"Redo",type:"button",children:p.jsx(aL,{size:18})})]})},M9=({content:t,onChange:e})=>{const n=jH({extensions:[m9,m2,S2,E2,T9.configure({multicolor:!0}),s2.configure({openOnClick:!1,HTMLAttributes:{class:"text-accent underline cursor-pointer"}}),y9.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg"}}),b9.configure({types:["heading","paragraph"]})],content:t,onUpdate:({editor:r})=>{e(r.getHTML())},editorProps:{attributes:{class:"prose prose-lg max-w-none focus:outline-none min-h-[400px] p-4"}}});return p.jsxs("div",{className:"w-full",children:[p.jsx(A9,{editor:n}),p.jsx("div",{className:"border border-t-0 border-border rounded-b-lg bg-background max-h-[600px] overflow-y-auto",children:p.jsx(CH,{editor:n})}),p.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Use the toolbar to format your content. You can add headings, lists, links, images, and more."})]})},EE=()=>{const{id:t}=zE(),e=la(),{posts:n,addPost:r,updatePost:i,getPost:o}=Ro(),l=!!t,[u,f]=T.useState({title:"",content:"",authorName:"The Scholars Page",tags:[],isPublished:!0,category:"",applyLink:"",officialLink:""}),[h,m]=T.useState(""),[y,x]=T.useState(""),[v,w]=T.useState(!1),[k,E]=T.useState(!1);T.useEffect(()=>{document.title=l?"Edit Post - The Scholars Page":"Create New Post - The Scholars Page"},[l]);const[C,O]=T.useState({isOpen:!1,type:"info",title:"",message:""});T.useEffect(()=>{(async()=>{if(l){E(!0);const ne=n.find(le=>(le._id||le.id)===t);if(ne){const le=["Scholarship","Internship","Research","Fellowship","Conference","Job","Workshop"],ke=ne.category&&!le.includes(ne.category);f({title:ne.title||"",content:ne.content||"",authorName:ne.authorName||"Admin",tags:ne.tags||[],isPublished:ne.isPublished??!0,category:ke?"Others":ne.category||"",applyLink:ne.applyLink||"",officialLink:ne.officialLink||""}),ke&&x(ne.category)}else{const le=await o(t);if(le.success){const ke=le.data,Se=["Scholarship","Internship","Research","Fellowship","Conference","Job","Workshop"],ie=ke.category&&!Se.includes(ke.category);f({title:ke.title||"",content:ke.content||"",authorName:ke.authorName||"Admin",tags:ke.tags||[],isPublished:ke.isPublished??!0,category:ie?"Others":ke.category||"",applyLink:ke.applyLink||"",officialLink:ke.officialLink||""}),ie&&x(ke.category)}else O({isOpen:!0,type:"error",title:"Error",message:"Post not found!"}),setTimeout(()=>e("/admin"),10500)}E(!1)}})()},[t,l]);const j=V=>{const{name:ne,value:le,type:ke,checked:Se}=V.target;ne==="category"&&le!=="Others"&&x(""),f(ie=>({...ie,[ne]:ke==="checkbox"?Se:le}))},B=V=>{V.preventDefault();const ne=h.trim();ne&&!u.tags.includes(ne)&&(f(le=>({...le,tags:[...le.tags,ne]})),m(""))},U=V=>{f(ne=>({...ne,tags:ne.tags.filter(le=>le!==V)}))},J=V=>{V.key==="Enter"&&(V.preventDefault(),B(V))},H=async V=>{V.preventDefault(),w(!0);const ne={title:u.title,content:u.content,authorName:u.authorName,tags:u.tags,isPublished:u.isPublished,category:u.category==="Others"?y:u.category,applyLink:u.applyLink,officialLink:u.officialLink};try{if(l){const le=await i(t,ne);le.success?e("/admin"):O({isOpen:!0,type:"error",title:"Error",message:"Failed to update post: "+le.error})}else{const le=await r(ne);le.success?e("/admin"):O({isOpen:!0,type:"error",title:"Error",message:"Failed to create post: "+le.error})}}catch(le){O({isOpen:!0,type:"error",title:"Error",message:"An error occurred: "+le.message})}finally{w(!1)}};return k?p.jsx("div",{className:"flex justify-center items-center py-20",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent"})}):p.jsxs("div",{className:"max-w-3xl mx-auto pb-20 animate-in slide-in-from-bottom-2",children:[p.jsx(IN,{isOpen:C.isOpen,onClose:()=>O({isOpen:!1,type:"info",title:"",message:""}),title:C.title,message:C.message,type:C.type}),p.jsx(Nz,{isOpen:v,title:l?"Updating Post":"Creating Post",message:l?"Please wait while we update your post.":"Please wait while we create your post."}),p.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[p.jsxs(Ne,{variant:"ghost",onClick:()=>e("/admin"),className:"pl-0",children:[p.jsx(jy,{className:"mr-2 h-4 w-4"})," Back to Dashboard"]}),p.jsx("h1",{className:"text-2xl font-serif font-medium",children:l?"Edit Post":"New Post"})]}),p.jsxs("form",{onSubmit:H,className:"space-y-8",children:[p.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4 text-sm text-blue-800 dark:text-blue-200",children:p.jsxs("p",{children:[p.jsx("strong",{children:"Note:"})," Post content is saved as-is in whatever language you write. The language switcher only affects UI elements (buttons, navigation, etc.), not the post content."]})}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6 bg-surface/40 backdrop-blur-xl border border-border/50 p-6 rounded-2xl shadow-2xl shadow-black/30",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Author"}),p.jsx(qt,{name:"authorName",value:u.authorName,onChange:j,disabled:l,className:l?"opacity-60 cursor-not-allowed":""})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),p.jsxs("select",{name:"category",value:u.category,onChange:j,className:"w-full pl-3 pr-12 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent appearance-none bg-no-repeat bg-[length:1.5em_1.5em] bg-[center_right_0.5rem]",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`},children:[p.jsx("option",{value:"",children:"Select a category"}),p.jsx("option",{value:"Scholarship",children:"Scholarship"}),p.jsx("option",{value:"Internship",children:"Internship"}),p.jsx("option",{value:"Research",children:"Research"}),p.jsx("option",{value:"Fellowship",children:"Fellowship"}),p.jsx("option",{value:"Conference",children:"Conference"}),p.jsx("option",{value:"Job",children:"Job"}),p.jsx("option",{value:"Workshop",children:"Workshop"}),p.jsx("option",{value:"Others",children:"Others"})]}),u.category==="Others"&&p.jsx(qt,{name:"customCategory",value:y,onChange:V=>x(V.target.value),placeholder:"Enter custom category",className:"mt-2"})]}),p.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[p.jsx("input",{type:"checkbox",id:"isPublished",name:"isPublished",checked:u.isPublished,onChange:j,className:"w-4 h-4 accent-accent"}),p.jsx("label",{htmlFor:"isPublished",className:"text-sm font-medium",children:"Publish immediately"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Apply Link"}),p.jsx(qt,{name:"applyLink",value:u.applyLink,onChange:j,placeholder:"https://..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Official Link"}),p.jsx(qt,{name:"officialLink",value:u.officialLink,onChange:j,placeholder:"https://..."})]})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Post Title"}),p.jsx(qt,{name:"title",value:u.title,onChange:j,placeholder:"Enter post title in any language",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Tags"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(qt,{value:h,onChange:V=>m(V.target.value),onKeyDown:J,placeholder:"Add a tag and press Enter"}),p.jsx(Ne,{type:"button",onClick:B,variant:"outline",children:"Add"})]}),u.tags.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:u.tags.map((V,ne)=>p.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-accent/10 text-accent border border-accent/20 rounded-full text-sm font-medium",children:[V,p.jsx("button",{type:"button",onClick:()=>U(V),className:"ml-1 hover:bg-accent/20 rounded-full p-0.5 transition-colors",children:p.jsx(Tc,{className:"h-3 w-3"})})]},ne))}),p.jsx("p",{className:"text-xs text-muted",children:"Add tags one by one, press Enter or click Add"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Content"}),p.jsx(M9,{content:u.content,onChange:V=>f(ne=>({...ne,content:V}))})]})]}),p.jsxs("div",{className:"pt-6 border-t border-border flex justify-end gap-4",children:[p.jsx(Ne,{type:"button",variant:"outline",onClick:()=>e("/admin"),children:"Cancel"}),p.jsxs(Ne,{type:"submit",isLoading:v,disabled:v,children:[!v&&p.jsx(Yk,{className:"mr-2 h-4 w-4"}),v?"Saving...":l?"Update Post":"Create Post"]})]})]})]})};function O9(){const{pathname:t}=fr();return T.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const R9=({children:t})=>{const{user:e,loading:n}=fi(),[r,i]=T.useState(!1),[o,l]=T.useState(!0);return T.useEffect(()=>{n||(async()=>{if(!e||!e.email){i(!1),l(!1);return}try{const f=await Er.checkAccess(e.email);f.success&&f.data.hasAccess?i(!0):i(!1)}catch(f){console.error("Error checking admin access:",f),i(!1)}finally{l(!1)}})()},[e,n]),n||o?p.jsx("div",{className:"flex justify-center items-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent"})}):e?r?p.jsx(Ez,{children:t}):p.jsx("div",{className:"flex flex-col justify-center items-center min-h-screen p-4",children:p.jsxs("div",{className:"text-center max-w-md",children:[p.jsx("div",{className:"mb-6",children:p.jsx("svg",{className:"w-20 h-20 mx-auto text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),p.jsx("h1",{className:"text-3xl font-serif font-bold mb-4",children:"Access Denied"}),p.jsx("p",{className:"text-muted mb-6",children:"You don't have permission to access this page. This area is restricted to administrators, moderators, and editors only."}),p.jsx("p",{className:"text-sm text-muted mb-6",children:"If you believe you should have access, please contact the site administrator."}),p.jsx("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-accent text-white rounded-lg hover:bg-accent-hover transition-colors",children:"Return to Home"})]})}):p.jsx(HE,{to:"/login",replace:!0})};function _9(){return p.jsx(OR,{children:p.jsx(ID,{children:p.jsxs(uz,{children:[p.jsx(O9,{}),p.jsxs(YO,{children:[p.jsxs(Wt,{path:"/",element:p.jsx(MI,{}),children:[p.jsx(Wt,{index:!0,element:p.jsx(dz,{})}),p.jsx(Wt,{path:"article",element:p.jsx(fz,{})}),p.jsx(Wt,{path:"article/:id",element:p.jsx(hz,{})}),p.jsx(Wt,{path:"about",element:p.jsx(mz,{})}),p.jsx(Wt,{path:"profile",element:p.jsx(yz,{})}),p.jsx(Wt,{path:"login",element:p.jsx(gz,{})}),p.jsx(Wt,{path:"terms",element:p.jsx(xz,{})}),p.jsx(Wt,{path:"privacy",element:p.jsx(vz,{})}),p.jsx(Wt,{path:"cookies",element:p.jsx(wz,{})})]}),p.jsxs(Wt,{path:"/admin",element:p.jsx(R9,{children:p.jsx(Sz,{})}),children:[p.jsx(Wt,{index:!0,element:p.jsx(Cz,{})}),p.jsx(Wt,{path:"new",element:p.jsx(EE,{})}),p.jsx(Wt,{path:"edit/:id",element:p.jsx(EE,{})})]}),p.jsx(Wt,{path:"*",element:p.jsx(bz,{})})]})]})})})}JM.createRoot(document.getElementById("root")).render(p.jsx(T.StrictMode,{children:p.jsx(xR,{children:p.jsx(_9,{})})}));
