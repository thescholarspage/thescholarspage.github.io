(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Sw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $p={exports:{}},fl={};var Lv;function mA(){if(Lv)return fl;Lv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return fl.Fragment=e,fl.jsx=n,fl.jsxs=n,fl}var Iv;function gA(){return Iv||(Iv=1,$p.exports=mA()),$p.exports}var p=gA(),qp={exports:{}},Ae={};var zv;function yA(){if(zv)return Ae;zv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),x=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,k={};function C(M,Y,te){this.props=M,this.context=Y,this.refs=k,this.updater=te||w}C.prototype.isReactComponent={},C.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},C.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function R(){}R.prototype=C.prototype;function D(M,Y,te){this.props=M,this.context=Y,this.refs=k,this.updater=te||w}var $=D.prototype=new R;$.constructor=D,E($,C.prototype),$.isPureReactComponent=!0;var U=Array.isArray;function Z(){}var q={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function re(M,Y,te){var ie=te.ref;return{$$typeof:t,type:M,key:Y,ref:ie!==void 0?ie:null,props:te}}function ce(M,Y){return re(M.type,Y,M.props)}function we(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function Ne(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return Y[te]})}var X=/\/+/g;function F(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?Ne(""+M.key):Y.toString(36)}function P(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Z,Z):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function O(M,Y,te,ie,xe){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var pe=!1;if(M===null)pe=!0;else switch(Ce){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(M.$$typeof){case t:case e:pe=!0;break;case g:return pe=M._init,O(pe(M._payload),Y,te,ie,xe)}}if(pe)return xe=xe(M),pe=ie===""?"."+F(M,0):ie,U(xe)?(te="",pe!=null&&(te=pe.replace(X,"$&/")+"/"),O(xe,Y,te,"",function(nn){return nn})):xe!=null&&(we(xe)&&(xe=ce(xe,te+(xe.key==null||M&&M.key===xe.key?"":(""+xe.key).replace(X,"$&/")+"/")+pe)),Y.push(xe)),1;pe=0;var rt=ie===""?".":ie+":";if(U(M))for(var Fe=0;Fe<M.length;Fe++)ie=M[Fe],Ce=rt+F(ie,Fe),pe+=O(ie,Y,te,Ce,xe);else if(Fe=v(M),typeof Fe=="function")for(M=Fe.call(M),Fe=0;!(ie=M.next()).done;)ie=ie.value,Ce=rt+F(ie,Fe++),pe+=O(ie,Y,te,Ce,xe);else if(Ce==="object"){if(typeof M.then=="function")return O(P(M),Y,te,ie,xe);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return pe}function V(M,Y,te){if(M==null)return M;var ie=[],xe=0;return O(M,ie,"","",function(Ce){return Y.call(te,Ce,xe++)}),ie}function G(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var ae=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Te={map:V,forEach:function(M,Y,te){V(M,function(){Y.apply(this,arguments)},te)},count:function(M){var Y=0;return V(M,function(){Y++}),Y},toArray:function(M){return V(M,function(Y){return Y})||[]},only:function(M){if(!we(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ae.Activity=y,Ae.Children=Te,Ae.Component=C,Ae.Fragment=n,Ae.Profiler=i,Ae.PureComponent=D,Ae.StrictMode=r,Ae.Suspense=f,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return q.H.useMemoCache(M)}},Ae.cache=function(M){return function(){return M.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(M,Y,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ie=E({},M.props),xe=M.key;if(Y!=null)for(Ce in Y.key!==void 0&&(xe=""+Y.key),Y)!B.call(Y,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Y.ref===void 0||(ie[Ce]=Y[Ce]);var Ce=arguments.length-2;if(Ce===1)ie.children=te;else if(1<Ce){for(var pe=Array(Ce),rt=0;rt<Ce;rt++)pe[rt]=arguments[rt+2];ie.children=pe}return re(M.type,xe,ie)},Ae.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},Ae.createElement=function(M,Y,te){var ie,xe={},Ce=null;if(Y!=null)for(ie in Y.key!==void 0&&(Ce=""+Y.key),Y)B.call(Y,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(xe[ie]=Y[ie]);var pe=arguments.length-2;if(pe===1)xe.children=te;else if(1<pe){for(var rt=Array(pe),Fe=0;Fe<pe;Fe++)rt[Fe]=arguments[Fe+2];xe.children=rt}if(M&&M.defaultProps)for(ie in pe=M.defaultProps,pe)xe[ie]===void 0&&(xe[ie]=pe[ie]);return re(M,Ce,xe)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:u,render:M}},Ae.isValidElement=we,Ae.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:G}},Ae.memo=function(M,Y){return{$$typeof:h,type:M,compare:Y===void 0?null:Y}},Ae.startTransition=function(M){var Y=q.T,te={};q.T=te;try{var ie=M(),xe=q.S;xe!==null&&xe(te,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Z,ae)}catch(Ce){ae(Ce)}finally{Y!==null&&te.types!==null&&(Y.types=te.types),q.T=Y}},Ae.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ae.use=function(M){return q.H.use(M)},Ae.useActionState=function(M,Y,te){return q.H.useActionState(M,Y,te)},Ae.useCallback=function(M,Y){return q.H.useCallback(M,Y)},Ae.useContext=function(M){return q.H.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M,Y){return q.H.useDeferredValue(M,Y)},Ae.useEffect=function(M,Y){return q.H.useEffect(M,Y)},Ae.useEffectEvent=function(M){return q.H.useEffectEvent(M)},Ae.useId=function(){return q.H.useId()},Ae.useImperativeHandle=function(M,Y,te){return q.H.useImperativeHandle(M,Y,te)},Ae.useInsertionEffect=function(M,Y){return q.H.useInsertionEffect(M,Y)},Ae.useLayoutEffect=function(M,Y){return q.H.useLayoutEffect(M,Y)},Ae.useMemo=function(M,Y){return q.H.useMemo(M,Y)},Ae.useOptimistic=function(M,Y){return q.H.useOptimistic(M,Y)},Ae.useReducer=function(M,Y,te){return q.H.useReducer(M,Y,te)},Ae.useRef=function(M){return q.H.useRef(M)},Ae.useState=function(M){return q.H.useState(M)},Ae.useSyncExternalStore=function(M,Y,te){return q.H.useSyncExternalStore(M,Y,te)},Ae.useTransition=function(){return q.H.useTransition()},Ae.version="19.2.3",Ae}var Pv;function nc(){return Pv||(Pv=1,qp.exports=yA()),qp.exports}var T=nc();const qe=Sw(T);var Fp={exports:{}},hl={},Gp={exports:{}},Kp={};var Bv;function bA(){return Bv||(Bv=1,(function(t){function e(O,V){var G=O.length;O.push(V);e:for(;0<G;){var ae=G-1>>>1,Te=O[ae];if(0<i(Te,V))O[ae]=V,O[G]=Te,G=ae;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var V=O[0],G=O.pop();if(G!==V){O[0]=G;e:for(var ae=0,Te=O.length,M=Te>>>1;ae<M;){var Y=2*(ae+1)-1,te=O[Y],ie=Y+1,xe=O[ie];if(0>i(te,G))ie<Te&&0>i(xe,te)?(O[ae]=xe,O[ie]=G,ae=ie):(O[ae]=te,O[Y]=G,ae=Y);else if(ie<Te&&0>i(xe,G))O[ae]=xe,O[ie]=G,ae=ie;else break e}}return V}function i(O,V){var G=O.sortIndex-V.sortIndex;return G!==0?G:O.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],h=[],g=1,y=null,x=3,v=!1,w=!1,E=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function $(O){for(var V=n(h);V!==null;){if(V.callback===null)r(h);else if(V.startTime<=O)r(h),V.sortIndex=V.expirationTime,e(f,V);else break;V=n(h)}}function U(O){if(E=!1,$(O),!w)if(n(f)!==null)w=!0,Z||(Z=!0,Ne());else{var V=n(h);V!==null&&P(U,V.startTime-O)}}var Z=!1,q=-1,B=5,re=-1;function ce(){return k?!0:!(t.unstable_now()-re<B)}function we(){if(k=!1,Z){var O=t.unstable_now();re=O;var V=!0;try{e:{w=!1,E&&(E=!1,R(q),q=-1),v=!0;var G=x;try{t:{for($(O),y=n(f);y!==null&&!(y.expirationTime>O&&ce());){var ae=y.callback;if(typeof ae=="function"){y.callback=null,x=y.priorityLevel;var Te=ae(y.expirationTime<=O);if(O=t.unstable_now(),typeof Te=="function"){y.callback=Te,$(O),V=!0;break t}y===n(f)&&r(f),$(O)}else r(f);y=n(f)}if(y!==null)V=!0;else{var M=n(h);M!==null&&P(U,M.startTime-O),V=!1}}break e}finally{y=null,x=G,v=!1}V=void 0}}finally{V?Ne():Z=!1}}}var Ne;if(typeof D=="function")Ne=function(){D(we)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,F=X.port2;X.port1.onmessage=we,Ne=function(){F.postMessage(null)}}else Ne=function(){C(we,0)};function P(O,V){q=C(function(){O(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(O){switch(x){case 1:case 2:case 3:var V=3;break;default:V=x}var G=x;x=V;try{return O()}finally{x=G}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=x;x=O;try{return V()}finally{x=G}},t.unstable_scheduleCallback=function(O,V,G){var ae=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ae+G:ae):G=ae,O){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=G+Te,O={id:g++,callback:V,priorityLevel:O,startTime:G,expirationTime:Te,sortIndex:-1},G>ae?(O.sortIndex=G,e(h,O),n(f)===null&&O===n(h)&&(E?(R(q),q=-1):E=!0,P(U,G-ae))):(O.sortIndex=Te,e(f,O),w||v||(w=!0,Z||(Z=!0,Ne()))),O},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(O){var V=x;return function(){var G=x;x=V;try{return O.apply(this,arguments)}finally{x=G}}}})(Kp)),Kp}var Uv;function xA(){return Uv||(Uv=1,Gp.exports=bA()),Gp.exports}var Wp={exports:{}},qt={};var Hv;function vA(){if(Hv)return qt;Hv=1;var t=nc();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,h,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:f,containerInfo:h,implementation:g}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qt.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,g)},qt.flushSync=function(f){var h=l.T,g=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=g,r.d.f()}},qt.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},qt.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},qt.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,y=u(g,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:v}):g==="script"&&r.d.X(f,{crossOrigin:y,integrity:x,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},qt.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=u(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},qt.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,y=u(g,h.crossOrigin);r.d.L(f,g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},qt.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=u(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},qt.requestFormReset=function(f){r.d.r(f)},qt.unstable_batchedUpdates=function(f,h){return f(h)},qt.useFormState=function(f,h,g){return l.H.useFormState(f,h,g)},qt.useFormStatus=function(){return l.H.useHostTransitionStatus()},qt.version="19.2.3",qt}var Vv;function ww(){if(Vv)return Wp.exports;Vv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wp.exports=vA(),Wp.exports}var $v;function SA(){if($v)return hl;$v=1;var t=xA(),e=nc(),n=ww();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(r(188))}function h(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var c=s,d=a;;){var m=c.return;if(m===null)break;var b=m.alternate;if(b===null){if(d=m.return,d!==null){c=d;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===c)return f(m),s;if(b===d)return f(m),a;b=b.sibling}throw Error(r(188))}if(c.return!==d.return)c=m,d=b;else{for(var S=!1,N=m.child;N;){if(N===c){S=!0,c=m,d=b;break}if(N===d){S=!0,d=m,c=b;break}N=N.sibling}if(!S){for(N=b.child;N;){if(N===c){S=!0,c=b,d=m;break}if(N===d){S=!0,d=b,c=m;break}N=N.sibling}if(!S)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function Ne(s){return s===null||typeof s!="object"?null:(s=we&&s[we]||s["@@iterator"],typeof s=="function"?s:null)}var X=Symbol.for("react.client.reference");function F(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===X?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case E:return"Fragment";case C:return"Profiler";case k:return"StrictMode";case U:return"Suspense";case Z:return"SuspenseList";case re:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case D:return s.displayName||"Context";case R:return(s._context.displayName||"Context")+".Consumer";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case q:return a=s.displayName||null,a!==null?a:F(s.type)||"Memo";case B:a=s._payload,s=s._init;try{return F(s(a))}catch{}}return null}var P=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},ae=[],Te=-1;function M(s){return{current:s}}function Y(s){0>Te||(s.current=ae[Te],ae[Te]=null,Te--)}function te(s,a){Te++,ae[Te]=s.current,s.current=a}var ie=M(null),xe=M(null),Ce=M(null),pe=M(null);function rt(s,a){switch(te(Ce,a),te(xe,s),te(ie,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?sv(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=sv(a),s=iv(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Y(ie),te(ie,s)}function Fe(){Y(ie),Y(xe),Y(Ce)}function nn(s){s.memoizedState!==null&&te(pe,s);var a=ie.current,c=iv(a,s.type);a!==c&&(te(xe,s),te(ie,c))}function pn(s){xe.current===s&&(Y(ie),Y(xe)),pe.current===s&&(Y(pe),ll._currentValue=G)}var An,ea;function Yn(s){if(An===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);An=a&&a[1]||"",ea=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+An+s+ea}var ss=!1;function li(s,a){if(!s||ss)return"";ss=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var z=H}Reflect.construct(s,[],Q)}else{try{Q.call()}catch(H){z=H}s.call(Q.prototype)}}else{try{throw Error()}catch(H){z=H}(Q=s())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),S=b[0],N=b[1];if(S&&N){var A=S.split(`
`),I=N.split(`
`);for(m=d=0;d<A.length&&!A[d].includes("DetermineComponentFrameRoot");)d++;for(;m<I.length&&!I[m].includes("DetermineComponentFrameRoot");)m++;if(d===A.length||m===I.length)for(d=A.length-1,m=I.length-1;1<=d&&0<=m&&A[d]!==I[m];)m--;for(;1<=d&&0<=m;d--,m--)if(A[d]!==I[m]){if(d!==1||m!==1)do if(d--,m--,0>m||A[d]!==I[m]){var W=`
`+A[d].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=d&&0<=m);break}}}finally{ss=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Yn(c):""}function xo(s,a){switch(s.tag){case 26:case 27:case 5:return Yn(s.type);case 16:return Yn("Lazy");case 13:return s.child!==a&&a!==null?Yn("Suspense Fallback"):Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 15:return li(s.type,!1);case 11:return li(s.type.render,!1);case 1:return li(s.type,!0);case 31:return Yn("Activity");default:return""}}function ci(s){try{var a="",c=null;do a+=xo(s,c),c=s,s=s.return;while(s);return a}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var or=Object.prototype.hasOwnProperty,Jn=t.unstable_scheduleCallback,Xn=t.unstable_cancelCallback,ta=t.unstable_shouldYield,ui=t.unstable_requestPaint,Dt=t.unstable_now,ee=t.unstable_getCurrentPriorityLevel,me=t.unstable_ImmediatePriority,K=t.unstable_UserBlockingPriority,Ye=t.unstable_NormalPriority,Jt=t.unstable_LowPriority,Py=t.unstable_IdlePriority,XC=t.log,QC=t.unstable_setDisableYieldValue,vo=null,mn=null;function is(s){if(typeof XC=="function"&&QC(s),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(vo,s)}catch{}}var gn=Math.clz32?Math.clz32:t2,ZC=Math.log,e2=Math.LN2;function t2(s){return s>>>=0,s===0?32:31-(ZC(s)/e2|0)|0}var yc=256,bc=262144,xc=4194304;function di(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function vc(s,a,c){var d=s.pendingLanes;if(d===0)return 0;var m=0,b=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var N=d&134217727;return N!==0?(d=N&~b,d!==0?m=di(d):(S&=N,S!==0?m=di(S):c||(c=N&~s,c!==0&&(m=di(c))))):(N=d&~b,N!==0?m=di(N):S!==0?m=di(S):c||(c=d&~s,c!==0&&(m=di(c)))),m===0?0:a!==0&&a!==m&&(a&b)===0&&(b=m&-m,c=a&-a,b>=c||b===32&&(c&4194048)!==0)?a:m}function So(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function n2(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function By(){var s=xc;return xc<<=1,(xc&62914560)===0&&(xc=4194304),s}function _f(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function wo(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function r2(s,a,c,d,m,b){var S=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var N=s.entanglements,A=s.expirationTimes,I=s.hiddenUpdates;for(c=S&~c;0<c;){var W=31-gn(c),Q=1<<W;N[W]=0,A[W]=-1;var z=I[W];if(z!==null)for(I[W]=null,W=0;W<z.length;W++){var H=z[W];H!==null&&(H.lane&=-536870913)}c&=~Q}d!==0&&Uy(s,d,0),b!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=b&~(S&~a))}function Uy(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var d=31-gn(a);s.entangledLanes|=a,s.entanglements[d]=s.entanglements[d]|1073741824|c&261930}function Hy(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var d=31-gn(c),m=1<<d;m&a|s[d]&a&&(s[d]|=a),c&=~m}}function Vy(s,a){var c=a&-a;return c=(c&42)!==0?1:Rf(c),(c&(s.suspendedLanes|a))!==0?0:c}function Rf(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function jf(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $y(){var s=V.p;return s!==0?s:(s=window.event,s===void 0?32:Av(s.type))}function qy(s,a){var c=V.p;try{return V.p=s,a()}finally{V.p=c}}var as=Math.random().toString(36).slice(2),Lt="__reactFiber$"+as,rn="__reactProps$"+as,na="__reactContainer$"+as,Df="__reactEvents$"+as,s2="__reactListeners$"+as,i2="__reactHandles$"+as,Fy="__reactResources$"+as,ko="__reactMarker$"+as;function Lf(s){delete s[Lt],delete s[rn],delete s[Df],delete s[s2],delete s[i2]}function ra(s){var a=s[Lt];if(a)return a;for(var c=s.parentNode;c;){if(a=c[na]||c[Lt]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=fv(s);s!==null;){if(c=s[Lt])return c;s=fv(s)}return a}s=c,c=s.parentNode}return null}function sa(s){if(s=s[Lt]||s[na]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Eo(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function ia(s){var a=s[Fy];return a||(a=s[Fy]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function At(s){s[ko]=!0}var Gy=new Set,Ky={};function fi(s,a){aa(s,a),aa(s+"Capture",a)}function aa(s,a){for(Ky[s]=a,s=0;s<a.length;s++)Gy.add(a[s])}var a2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wy={},Yy={};function o2(s){return or.call(Yy,s)?!0:or.call(Wy,s)?!1:a2.test(s)?Yy[s]=!0:(Wy[s]=!0,!1)}function Sc(s,a,c){if(o2(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function wc(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function vr(s,a,c,d){if(d===null)s.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+d)}}function Mn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Jy(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function l2(s,a,c){var d=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var m=d.get,b=d.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(S){c=""+S,b.call(this,S)}}),Object.defineProperty(s,a,{enumerable:d.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function If(s){if(!s._valueTracker){var a=Jy(s)?"checked":"value";s._valueTracker=l2(s,a,""+s[a])}}function Xy(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),d="";return s&&(d=Jy(s)?s.checked?"true":"false":s.value),s=d,s!==c?(a.setValue(s),!0):!1}function kc(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var c2=/[\n"\\]/g;function On(s){return s.replace(c2,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function zf(s,a,c,d,m,b,S,N){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),a!=null?S==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Mn(a)):s.value!==""+Mn(a)&&(s.value=""+Mn(a)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),a!=null?Pf(s,S,Mn(a)):c!=null?Pf(s,S,Mn(c)):d!=null&&s.removeAttribute("value"),m==null&&b!=null&&(s.defaultChecked=!!b),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?s.name=""+Mn(N):s.removeAttribute("name")}function Qy(s,a,c,d,m,b,S,N){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),a!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){If(s);return}c=c!=null?""+Mn(c):"",a=a!=null?""+Mn(a):c,N||a===s.value||(s.value=a),s.defaultValue=a}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=N?s.checked:!!d,s.defaultChecked=!!d,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S),If(s)}function Pf(s,a,c){a==="number"&&kc(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function oa(s,a,c,d){if(s=s.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=a.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&d&&(s[c].defaultSelected=!0)}else{for(c=""+Mn(c),a=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Zy(s,a,c){if(a!=null&&(a=""+Mn(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+Mn(c):""}function eb(s,a,c,d){if(a==null){if(d!=null){if(c!=null)throw Error(r(92));if(P(d)){if(1<d.length)throw Error(r(93));d=d[0]}c=d}c==null&&(c=""),a=c}c=Mn(a),s.defaultValue=c,d=s.textContent,d===c&&d!==""&&d!==null&&(s.value=d),If(s)}function la(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var u2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tb(s,a,c){var d=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":d?s.setProperty(a,c):typeof c!="number"||c===0||u2.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function nb(s,a,c){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var m in a)d=a[m],a.hasOwnProperty(m)&&c[m]!==d&&tb(s,m,d)}else for(var b in a)a.hasOwnProperty(b)&&tb(s,b,a[b])}function Bf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),f2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ec(s){return f2.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Sr(){}var Uf=null;function Hf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ca=null,ua=null;function rb(s){var a=sa(s);if(a&&(s=a.stateNode)){var c=s[rn]||null;e:switch(s=a.stateNode,a.type){case"input":if(zf(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+On(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var d=c[a];if(d!==s&&d.form===s.form){var m=d[rn]||null;if(!m)throw Error(r(90));zf(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<c.length;a++)d=c[a],d.form===s.form&&Xy(d)}break e;case"textarea":Zy(s,c.value,c.defaultValue);break e;case"select":a=c.value,a!=null&&oa(s,!!c.multiple,a,!1)}}}var Vf=!1;function sb(s,a,c){if(Vf)return s(a,c);Vf=!0;try{var d=s(a);return d}finally{if(Vf=!1,(ca!==null||ua!==null)&&(du(),ca&&(a=ca,s=ua,ua=ca=null,rb(a),s)))for(a=0;a<s.length;a++)rb(s[a])}}function No(s,a){var c=s.stateNode;if(c===null)return null;var d=c[rn]||null;if(d===null)return null;c=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,a,typeof c));return c}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$f=!1;if(wr)try{var Co={};Object.defineProperty(Co,"passive",{get:function(){$f=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{$f=!1}var ls=null,qf=null,Nc=null;function ib(){if(Nc)return Nc;var s,a=qf,c=a.length,d,m="value"in ls?ls.value:ls.textContent,b=m.length;for(s=0;s<c&&a[s]===m[s];s++);var S=c-s;for(d=1;d<=S&&a[c-d]===m[b-d];d++);return Nc=m.slice(s,1<d?1-d:void 0)}function Cc(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Tc(){return!0}function ab(){return!1}function sn(s){function a(c,d,m,b,S){this._reactName=c,this._targetInst=m,this.type=d,this.nativeEvent=b,this.target=S,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(c=s[N],this[N]=c?c(b):b[N]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Tc:ab,this.isPropagationStopped=ab,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Tc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Tc)},persist:function(){},isPersistent:Tc}),a}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=sn(hi),To=y({},hi,{view:0,detail:0}),h2=sn(To),Ff,Gf,Ao,Mc=y({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ao&&(Ao&&s.type==="mousemove"?(Ff=s.screenX-Ao.screenX,Gf=s.screenY-Ao.screenY):Gf=Ff=0,Ao=s),Ff)},movementY:function(s){return"movementY"in s?s.movementY:Gf}}),ob=sn(Mc),p2=y({},Mc,{dataTransfer:0}),m2=sn(p2),g2=y({},To,{relatedTarget:0}),Kf=sn(g2),y2=y({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),b2=sn(y2),x2=y({},hi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),v2=sn(x2),S2=y({},hi,{data:0}),lb=sn(S2),w2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N2(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=E2[s])?!!a[s]:!1}function Wf(){return N2}var C2=y({},To,{key:function(s){if(s.key){var a=w2[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Cc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?k2[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wf,charCode:function(s){return s.type==="keypress"?Cc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Cc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),T2=sn(C2),A2=y({},Mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cb=sn(A2),M2=y({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wf}),O2=sn(M2),_2=y({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),R2=sn(_2),j2=y({},Mc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),D2=sn(j2),L2=y({},hi,{newState:0,oldState:0}),I2=sn(L2),z2=[9,13,27,32],Yf=wr&&"CompositionEvent"in window,Mo=null;wr&&"documentMode"in document&&(Mo=document.documentMode);var P2=wr&&"TextEvent"in window&&!Mo,ub=wr&&(!Yf||Mo&&8<Mo&&11>=Mo),db=" ",fb=!1;function hb(s,a){switch(s){case"keyup":return z2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pb(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var da=!1;function B2(s,a){switch(s){case"compositionend":return pb(a);case"keypress":return a.which!==32?null:(fb=!0,db);case"textInput":return s=a.data,s===db&&fb?null:s;default:return null}}function U2(s,a){if(da)return s==="compositionend"||!Yf&&hb(s,a)?(s=ib(),Nc=qf=ls=null,da=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ub&&a.locale!=="ko"?null:a.data;default:return null}}var H2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mb(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!H2[s.type]:a==="textarea"}function gb(s,a,c,d){ca?ua?ua.push(d):ua=[d]:ca=d,a=bu(a,"onChange"),0<a.length&&(c=new Ac("onChange","change",null,c,d),s.push({event:c,listeners:a}))}var Oo=null,_o=null;function V2(s){Qx(s,0)}function Oc(s){var a=Eo(s);if(Xy(a))return s}function yb(s,a){if(s==="change")return a}var bb=!1;if(wr){var Jf;if(wr){var Xf="oninput"in document;if(!Xf){var xb=document.createElement("div");xb.setAttribute("oninput","return;"),Xf=typeof xb.oninput=="function"}Jf=Xf}else Jf=!1;bb=Jf&&(!document.documentMode||9<document.documentMode)}function vb(){Oo&&(Oo.detachEvent("onpropertychange",Sb),_o=Oo=null)}function Sb(s){if(s.propertyName==="value"&&Oc(_o)){var a=[];gb(a,_o,s,Hf(s)),sb(V2,a)}}function $2(s,a,c){s==="focusin"?(vb(),Oo=a,_o=c,Oo.attachEvent("onpropertychange",Sb)):s==="focusout"&&vb()}function q2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Oc(_o)}function F2(s,a){if(s==="click")return Oc(a)}function G2(s,a){if(s==="input"||s==="change")return Oc(a)}function K2(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var yn=typeof Object.is=="function"?Object.is:K2;function Ro(s,a){if(yn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),d=Object.keys(a);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var m=c[d];if(!or.call(a,m)||!yn(s[m],a[m]))return!1}return!0}function wb(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function kb(s,a){var c=wb(s);s=0;for(var d;c;){if(c.nodeType===3){if(d=s+c.textContent.length,s<=a&&d>=a)return{node:c,offset:a-s};s=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=wb(c)}}function Eb(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Eb(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Nb(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=kc(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=kc(s.document)}return a}function Qf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var W2=wr&&"documentMode"in document&&11>=document.documentMode,fa=null,Zf=null,jo=null,eh=!1;function Cb(s,a,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;eh||fa==null||fa!==kc(d)||(d=fa,"selectionStart"in d&&Qf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),jo&&Ro(jo,d)||(jo=d,d=bu(Zf,"onSelect"),0<d.length&&(a=new Ac("onSelect","select",null,a,c),s.push({event:a,listeners:d}),a.target=fa)))}function pi(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var ha={animationend:pi("Animation","AnimationEnd"),animationiteration:pi("Animation","AnimationIteration"),animationstart:pi("Animation","AnimationStart"),transitionrun:pi("Transition","TransitionRun"),transitionstart:pi("Transition","TransitionStart"),transitioncancel:pi("Transition","TransitionCancel"),transitionend:pi("Transition","TransitionEnd")},th={},Tb={};wr&&(Tb=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function mi(s){if(th[s])return th[s];if(!ha[s])return s;var a=ha[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in Tb)return th[s]=a[c];return s}var Ab=mi("animationend"),Mb=mi("animationiteration"),Ob=mi("animationstart"),Y2=mi("transitionrun"),J2=mi("transitionstart"),X2=mi("transitioncancel"),_b=mi("transitionend"),Rb=new Map,nh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nh.push("scrollEnd");function Qn(s,a){Rb.set(s,a),fi(a,[s])}var _c=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},_n=[],pa=0,rh=0;function Rc(){for(var s=pa,a=rh=pa=0;a<s;){var c=_n[a];_n[a++]=null;var d=_n[a];_n[a++]=null;var m=_n[a];_n[a++]=null;var b=_n[a];if(_n[a++]=null,d!==null&&m!==null){var S=d.pending;S===null?m.next=m:(m.next=S.next,S.next=m),d.pending=m}b!==0&&jb(c,m,b)}}function jc(s,a,c,d){_n[pa++]=s,_n[pa++]=a,_n[pa++]=c,_n[pa++]=d,rh|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function sh(s,a,c,d){return jc(s,a,c,d),Dc(s)}function gi(s,a){return jc(s,null,null,a),Dc(s)}function jb(s,a,c){s.lanes|=c;var d=s.alternate;d!==null&&(d.lanes|=c);for(var m=!1,b=s.return;b!==null;)b.childLanes|=c,d=b.alternate,d!==null&&(d.childLanes|=c),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(m=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,m&&a!==null&&(m=31-gn(c),s=b.hiddenUpdates,d=s[m],d===null?s[m]=[a]:d.push(a),a.lane=c|536870912),b):null}function Dc(s){if(50<tl)throw tl=0,hp=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var ma={};function Q2(s,a,c,d){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(s,a,c,d){return new Q2(s,a,c,d)}function ih(s){return s=s.prototype,!(!s||!s.isReactComponent)}function kr(s,a){var c=s.alternate;return c===null?(c=bn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Db(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Lc(s,a,c,d,m,b){var S=0;if(d=s,typeof s=="function")ih(s)&&(S=1);else if(typeof s=="string")S=rA(s,c,ie.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case re:return s=bn(31,c,a,m),s.elementType=re,s.lanes=b,s;case E:return yi(c.children,m,b,a);case k:S=8,m|=24;break;case C:return s=bn(12,c,a,m|2),s.elementType=C,s.lanes=b,s;case U:return s=bn(13,c,a,m),s.elementType=U,s.lanes=b,s;case Z:return s=bn(19,c,a,m),s.elementType=Z,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:S=10;break e;case R:S=9;break e;case $:S=11;break e;case q:S=14;break e;case B:S=16,d=null;break e}S=29,c=Error(r(130,s===null?"null":typeof s,"")),d=null}return a=bn(S,c,a,m),a.elementType=s,a.type=d,a.lanes=b,a}function yi(s,a,c,d){return s=bn(7,s,d,a),s.lanes=c,s}function ah(s,a,c){return s=bn(6,s,null,a),s.lanes=c,s}function Lb(s){var a=bn(18,null,null,0);return a.stateNode=s,a}function oh(s,a,c){return a=bn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Ib=new WeakMap;function Rn(s,a){if(typeof s=="object"&&s!==null){var c=Ib.get(s);return c!==void 0?c:(a={value:s,source:a,stack:ci(a)},Ib.set(s,a),a)}return{value:s,source:a,stack:ci(a)}}var ga=[],ya=0,Ic=null,Do=0,jn=[],Dn=0,cs=null,lr=1,cr="";function Er(s,a){ga[ya++]=Do,ga[ya++]=Ic,Ic=s,Do=a}function zb(s,a,c){jn[Dn++]=lr,jn[Dn++]=cr,jn[Dn++]=cs,cs=s;var d=lr;s=cr;var m=32-gn(d)-1;d&=~(1<<m),c+=1;var b=32-gn(a)+m;if(30<b){var S=m-m%5;b=(d&(1<<S)-1).toString(32),d>>=S,m-=S,lr=1<<32-gn(a)+m|c<<m|d,cr=b+s}else lr=1<<b|c<<m|d,cr=s}function lh(s){s.return!==null&&(Er(s,1),zb(s,1,0))}function ch(s){for(;s===Ic;)Ic=ga[--ya],ga[ya]=null,Do=ga[--ya],ga[ya]=null;for(;s===cs;)cs=jn[--Dn],jn[Dn]=null,cr=jn[--Dn],jn[Dn]=null,lr=jn[--Dn],jn[Dn]=null}function Pb(s,a){jn[Dn++]=lr,jn[Dn++]=cr,jn[Dn++]=cs,lr=a.id,cr=a.overflow,cs=s}var It=null,st=null,Pe=!1,us=null,Ln=!1,uh=Error(r(519));function ds(s){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Lo(Rn(a,s)),uh}function Bb(s){var a=s.stateNode,c=s.type,d=s.memoizedProps;switch(a[Lt]=s,a[rn]=d,c){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(c=0;c<rl.length;c++)Le(rl[c],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Le("invalid",a),Qy(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Le("invalid",a);break;case"textarea":Le("invalid",a),eb(a,d.value,d.defaultValue,d.children)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||d.suppressHydrationWarning===!0||nv(a.textContent,c)?(d.popover!=null&&(Le("beforetoggle",a),Le("toggle",a)),d.onScroll!=null&&Le("scroll",a),d.onScrollEnd!=null&&Le("scrollend",a),d.onClick!=null&&(a.onclick=Sr),a=!0):a=!1,a||ds(s,!0)}function Ub(s){for(It=s.return;It;)switch(It.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:It=It.return}}function ba(s){if(s!==It)return!1;if(!Pe)return Ub(s),Pe=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Ap(s.type,s.memoizedProps)),c=!c),c&&st&&ds(s),Ub(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));st=dv(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));st=dv(s)}else a===27?(a=st,Ns(s.type)?(s=jp,jp=null,st=s):st=a):st=It?zn(s.stateNode.nextSibling):null;return!0}function bi(){st=It=null,Pe=!1}function dh(){var s=us;return s!==null&&(cn===null?cn=s:cn.push.apply(cn,s),us=null),s}function Lo(s){us===null?us=[s]:us.push(s)}var fh=M(null),xi=null,Nr=null;function fs(s,a,c){te(fh,a._currentValue),a._currentValue=c}function Cr(s){s._currentValue=fh.current,Y(fh)}function hh(s,a,c){for(;s!==null;){var d=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),s===c)break;s=s.return}}function ph(s,a,c,d){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var b=m.dependencies;if(b!==null){var S=m.child;b=b.firstContext;e:for(;b!==null;){var N=b;b=m;for(var A=0;A<a.length;A++)if(N.context===a[A]){b.lanes|=c,N=b.alternate,N!==null&&(N.lanes|=c),hh(b.return,c,s),d||(S=null);break e}b=N.next}}else if(m.tag===18){if(S=m.return,S===null)throw Error(r(341));S.lanes|=c,b=S.alternate,b!==null&&(b.lanes|=c),hh(S,c,s),S=null}else S=m.child;if(S!==null)S.return=m;else for(S=m;S!==null;){if(S===s){S=null;break}if(m=S.sibling,m!==null){m.return=S.return,S=m;break}S=S.return}m=S}}function xa(s,a,c,d){s=null;for(var m=a,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var S=m.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var N=m.type;yn(m.pendingProps.value,S.value)||(s!==null?s.push(N):s=[N])}}else if(m===pe.current){if(S=m.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(ll):s=[ll])}m=m.return}s!==null&&ph(a,s,c,d),a.flags|=262144}function zc(s){for(s=s.firstContext;s!==null;){if(!yn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function vi(s){xi=s,Nr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function zt(s){return Hb(xi,s)}function Pc(s,a){return xi===null&&vi(s),Hb(s,a)}function Hb(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Nr===null){if(s===null)throw Error(r(308));Nr=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Nr=Nr.next=a;return c}var Z2=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,d){s.push(d)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},eT=t.unstable_scheduleCallback,tT=t.unstable_NormalPriority,xt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mh(){return{controller:new Z2,data:new Map,refCount:0}}function Io(s){s.refCount--,s.refCount===0&&eT(tT,function(){s.controller.abort()})}var zo=null,gh=0,va=0,Sa=null;function nT(s,a){if(zo===null){var c=zo=[];gh=0,va=xp(),Sa={status:"pending",value:void 0,then:function(d){c.push(d)}}}return gh++,a.then(Vb,Vb),a}function Vb(){if(--gh===0&&zo!==null){Sa!==null&&(Sa.status="fulfilled");var s=zo;zo=null,va=0,Sa=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function rT(s,a){var c=[],d={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return s.then(function(){d.status="fulfilled",d.value=a;for(var m=0;m<c.length;m++)(0,c[m])(a)},function(m){for(d.status="rejected",d.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),d}var $b=O.S;O.S=function(s,a){Cx=Dt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&nT(s,a),$b!==null&&$b(s,a)};var Si=M(null);function yh(){var s=Si.current;return s!==null?s:et.pooledCache}function Bc(s,a){a===null?te(Si,Si.current):te(Si,a.pool)}function qb(){var s=yh();return s===null?null:{parent:xt._currentValue,pool:s}}var wa=Error(r(460)),bh=Error(r(474)),Uc=Error(r(542)),Hc={then:function(){}};function Fb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Gb(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(Sr,Sr),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Wb(s),s;default:if(typeof a.status=="string")a.then(Sr,Sr);else{if(s=et,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(d){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=d}},function(d){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Wb(s),s}throw ki=a,wa}}function wi(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(ki=c,wa):c}}var ki=null;function Kb(){if(ki===null)throw Error(r(459));var s=ki;return ki=null,s}function Wb(s){if(s===wa||s===Uc)throw Error(r(483))}var ka=null,Po=0;function Vc(s){var a=Po;return Po+=1,ka===null&&(ka=[]),Gb(ka,s,a)}function Bo(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function $c(s,a){throw a.$$typeof===x?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Yb(s){function a(j,_){if(s){var L=j.deletions;L===null?(j.deletions=[_],j.flags|=16):L.push(_)}}function c(j,_){if(!s)return null;for(;_!==null;)a(j,_),_=_.sibling;return null}function d(j){for(var _=new Map;j!==null;)j.key!==null?_.set(j.key,j):_.set(j.index,j),j=j.sibling;return _}function m(j,_){return j=kr(j,_),j.index=0,j.sibling=null,j}function b(j,_,L){return j.index=L,s?(L=j.alternate,L!==null?(L=L.index,L<_?(j.flags|=67108866,_):L):(j.flags|=67108866,_)):(j.flags|=1048576,_)}function S(j){return s&&j.alternate===null&&(j.flags|=67108866),j}function N(j,_,L,J){return _===null||_.tag!==6?(_=ah(L,j.mode,J),_.return=j,_):(_=m(_,L),_.return=j,_)}function A(j,_,L,J){var ye=L.type;return ye===E?W(j,_,L.props.children,J,L.key):_!==null&&(_.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===B&&wi(ye)===_.type)?(_=m(_,L.props),Bo(_,L),_.return=j,_):(_=Lc(L.type,L.key,L.props,null,j.mode,J),Bo(_,L),_.return=j,_)}function I(j,_,L,J){return _===null||_.tag!==4||_.stateNode.containerInfo!==L.containerInfo||_.stateNode.implementation!==L.implementation?(_=oh(L,j.mode,J),_.return=j,_):(_=m(_,L.children||[]),_.return=j,_)}function W(j,_,L,J,ye){return _===null||_.tag!==7?(_=yi(L,j.mode,J,ye),_.return=j,_):(_=m(_,L),_.return=j,_)}function Q(j,_,L){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=ah(""+_,j.mode,L),_.return=j,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case v:return L=Lc(_.type,_.key,_.props,null,j.mode,L),Bo(L,_),L.return=j,L;case w:return _=oh(_,j.mode,L),_.return=j,_;case B:return _=wi(_),Q(j,_,L)}if(P(_)||Ne(_))return _=yi(_,j.mode,L,null),_.return=j,_;if(typeof _.then=="function")return Q(j,Vc(_),L);if(_.$$typeof===D)return Q(j,Pc(j,_),L);$c(j,_)}return null}function z(j,_,L,J){var ye=_!==null?_.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ye!==null?null:N(j,_,""+L,J);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case v:return L.key===ye?A(j,_,L,J):null;case w:return L.key===ye?I(j,_,L,J):null;case B:return L=wi(L),z(j,_,L,J)}if(P(L)||Ne(L))return ye!==null?null:W(j,_,L,J,null);if(typeof L.then=="function")return z(j,_,Vc(L),J);if(L.$$typeof===D)return z(j,_,Pc(j,L),J);$c(j,L)}return null}function H(j,_,L,J,ye){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(L)||null,N(_,j,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return j=j.get(J.key===null?L:J.key)||null,A(_,j,J,ye);case w:return j=j.get(J.key===null?L:J.key)||null,I(_,j,J,ye);case B:return J=wi(J),H(j,_,L,J,ye)}if(P(J)||Ne(J))return j=j.get(L)||null,W(_,j,J,ye,null);if(typeof J.then=="function")return H(j,_,L,Vc(J),ye);if(J.$$typeof===D)return H(j,_,L,Pc(_,J),ye);$c(_,J)}return null}function ue(j,_,L,J){for(var ye=null,Be=null,he=_,Oe=_=0,ze=null;he!==null&&Oe<L.length;Oe++){he.index>Oe?(ze=he,he=null):ze=he.sibling;var Ue=z(j,he,L[Oe],J);if(Ue===null){he===null&&(he=ze);break}s&&he&&Ue.alternate===null&&a(j,he),_=b(Ue,_,Oe),Be===null?ye=Ue:Be.sibling=Ue,Be=Ue,he=ze}if(Oe===L.length)return c(j,he),Pe&&Er(j,Oe),ye;if(he===null){for(;Oe<L.length;Oe++)he=Q(j,L[Oe],J),he!==null&&(_=b(he,_,Oe),Be===null?ye=he:Be.sibling=he,Be=he);return Pe&&Er(j,Oe),ye}for(he=d(he);Oe<L.length;Oe++)ze=H(he,j,Oe,L[Oe],J),ze!==null&&(s&&ze.alternate!==null&&he.delete(ze.key===null?Oe:ze.key),_=b(ze,_,Oe),Be===null?ye=ze:Be.sibling=ze,Be=ze);return s&&he.forEach(function(Os){return a(j,Os)}),Pe&&Er(j,Oe),ye}function ve(j,_,L,J){if(L==null)throw Error(r(151));for(var ye=null,Be=null,he=_,Oe=_=0,ze=null,Ue=L.next();he!==null&&!Ue.done;Oe++,Ue=L.next()){he.index>Oe?(ze=he,he=null):ze=he.sibling;var Os=z(j,he,Ue.value,J);if(Os===null){he===null&&(he=ze);break}s&&he&&Os.alternate===null&&a(j,he),_=b(Os,_,Oe),Be===null?ye=Os:Be.sibling=Os,Be=Os,he=ze}if(Ue.done)return c(j,he),Pe&&Er(j,Oe),ye;if(he===null){for(;!Ue.done;Oe++,Ue=L.next())Ue=Q(j,Ue.value,J),Ue!==null&&(_=b(Ue,_,Oe),Be===null?ye=Ue:Be.sibling=Ue,Be=Ue);return Pe&&Er(j,Oe),ye}for(he=d(he);!Ue.done;Oe++,Ue=L.next())Ue=H(he,j,Oe,Ue.value,J),Ue!==null&&(s&&Ue.alternate!==null&&he.delete(Ue.key===null?Oe:Ue.key),_=b(Ue,_,Oe),Be===null?ye=Ue:Be.sibling=Ue,Be=Ue);return s&&he.forEach(function(pA){return a(j,pA)}),Pe&&Er(j,Oe),ye}function Qe(j,_,L,J){if(typeof L=="object"&&L!==null&&L.type===E&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case v:e:{for(var ye=L.key;_!==null;){if(_.key===ye){if(ye=L.type,ye===E){if(_.tag===7){c(j,_.sibling),J=m(_,L.props.children),J.return=j,j=J;break e}}else if(_.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===B&&wi(ye)===_.type){c(j,_.sibling),J=m(_,L.props),Bo(J,L),J.return=j,j=J;break e}c(j,_);break}else a(j,_);_=_.sibling}L.type===E?(J=yi(L.props.children,j.mode,J,L.key),J.return=j,j=J):(J=Lc(L.type,L.key,L.props,null,j.mode,J),Bo(J,L),J.return=j,j=J)}return S(j);case w:e:{for(ye=L.key;_!==null;){if(_.key===ye)if(_.tag===4&&_.stateNode.containerInfo===L.containerInfo&&_.stateNode.implementation===L.implementation){c(j,_.sibling),J=m(_,L.children||[]),J.return=j,j=J;break e}else{c(j,_);break}else a(j,_);_=_.sibling}J=oh(L,j.mode,J),J.return=j,j=J}return S(j);case B:return L=wi(L),Qe(j,_,L,J)}if(P(L))return ue(j,_,L,J);if(Ne(L)){if(ye=Ne(L),typeof ye!="function")throw Error(r(150));return L=ye.call(L),ve(j,_,L,J)}if(typeof L.then=="function")return Qe(j,_,Vc(L),J);if(L.$$typeof===D)return Qe(j,_,Pc(j,L),J);$c(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,_!==null&&_.tag===6?(c(j,_.sibling),J=m(_,L),J.return=j,j=J):(c(j,_),J=ah(L,j.mode,J),J.return=j,j=J),S(j)):c(j,_)}return function(j,_,L,J){try{Po=0;var ye=Qe(j,_,L,J);return ka=null,ye}catch(he){if(he===wa||he===Uc)throw he;var Be=bn(29,he,null,j.mode);return Be.lanes=J,Be.return=j,Be}}}var Ei=Yb(!0),Jb=Yb(!1),hs=!1;function xh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vh(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ps(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ms(s,a,c){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,($e&2)!==0){var m=d.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),d.pending=a,a=Dc(s),jb(s,null,c),a}return jc(s,d,a,c),Dc(s)}function Uo(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var d=a.lanes;d&=s.pendingLanes,c|=d,a.lanes=c,Hy(s,c)}}function Sh(s,a){var c=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var m=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var S={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?m=b=S:b=b.next=S,c=c.next}while(c!==null);b===null?m=b=a:b=b.next=a}else m=b=a;c={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var wh=!1;function Ho(){if(wh){var s=Sa;if(s!==null)throw s}}function Vo(s,a,c,d){wh=!1;var m=s.updateQueue;hs=!1;var b=m.firstBaseUpdate,S=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var A=N,I=A.next;A.next=null,S===null?b=I:S.next=I,S=A;var W=s.alternate;W!==null&&(W=W.updateQueue,N=W.lastBaseUpdate,N!==S&&(N===null?W.firstBaseUpdate=I:N.next=I,W.lastBaseUpdate=A))}if(b!==null){var Q=m.baseState;S=0,W=I=A=null,N=b;do{var z=N.lane&-536870913,H=z!==N.lane;if(H?(Ie&z)===z:(d&z)===z){z!==0&&z===va&&(wh=!0),W!==null&&(W=W.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ue=s,ve=N;z=a;var Qe=c;switch(ve.tag){case 1:if(ue=ve.payload,typeof ue=="function"){Q=ue.call(Qe,Q,z);break e}Q=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ve.payload,z=typeof ue=="function"?ue.call(Qe,Q,z):ue,z==null)break e;Q=y({},Q,z);break e;case 2:hs=!0}}z=N.callback,z!==null&&(s.flags|=64,H&&(s.flags|=8192),H=m.callbacks,H===null?m.callbacks=[z]:H.push(z))}else H={lane:z,tag:N.tag,payload:N.payload,callback:N.callback,next:null},W===null?(I=W=H,A=Q):W=W.next=H,S|=z;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;H=N,N=H.next,H.next=null,m.lastBaseUpdate=H,m.shared.pending=null}}while(!0);W===null&&(A=Q),m.baseState=A,m.firstBaseUpdate=I,m.lastBaseUpdate=W,b===null&&(m.shared.lanes=0),vs|=S,s.lanes=S,s.memoizedState=Q}}function Xb(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function Qb(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Xb(c[s],a)}var Ea=M(null),qc=M(0);function Zb(s,a){s=Lr,te(qc,s),te(Ea,a),Lr=s|a.baseLanes}function kh(){te(qc,Lr),te(Ea,Ea.current)}function Eh(){Lr=qc.current,Y(Ea),Y(qc)}var xn=M(null),In=null;function gs(s){var a=s.alternate;te(yt,yt.current&1),te(xn,s),In===null&&(a===null||Ea.current!==null||a.memoizedState!==null)&&(In=s)}function Nh(s){te(yt,yt.current),te(xn,s),In===null&&(In=s)}function e0(s){s.tag===22?(te(yt,yt.current),te(xn,s),In===null&&(In=s)):ys()}function ys(){te(yt,yt.current),te(xn,xn.current)}function vn(s){Y(xn),In===s&&(In=null),Y(yt)}var yt=M(0);function Fc(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||_p(c)||Rp(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Tr=0,Me=null,Je=null,vt=null,Gc=!1,Na=!1,Ni=!1,Kc=0,$o=0,Ca=null,sT=0;function ht(){throw Error(r(321))}function Ch(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!yn(s[c],a[c]))return!1;return!0}function Th(s,a,c,d,m,b){return Tr=b,Me=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,O.H=s===null||s.memoizedState===null?z0:Vh,Ni=!1,b=c(d,m),Ni=!1,Na&&(b=n0(a,c,d,m)),t0(s),b}function t0(s){O.H=Go;var a=Je!==null&&Je.next!==null;if(Tr=0,vt=Je=Me=null,Gc=!1,$o=0,Ca=null,a)throw Error(r(300));s===null||St||(s=s.dependencies,s!==null&&zc(s)&&(St=!0))}function n0(s,a,c,d){Me=s;var m=0;do{if(Na&&(Ca=null),$o=0,Na=!1,25<=m)throw Error(r(301));if(m+=1,vt=Je=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}O.H=P0,b=a(c,d)}while(Na);return b}function iT(){var s=O.H,a=s.useState()[0];return a=typeof a.then=="function"?qo(a):a,s=s.useState()[0],(Je!==null?Je.memoizedState:null)!==s&&(Me.flags|=1024),a}function Ah(){var s=Kc!==0;return Kc=0,s}function Mh(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function Oh(s){if(Gc){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Gc=!1}Tr=0,vt=Je=Me=null,Na=!1,$o=Kc=0,Ca=null}function Xt(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Me.memoizedState=vt=s:vt=vt.next=s,vt}function bt(){if(Je===null){var s=Me.alternate;s=s!==null?s.memoizedState:null}else s=Je.next;var a=vt===null?Me.memoizedState:vt.next;if(a!==null)vt=a,Je=s;else{if(s===null)throw Me.alternate===null?Error(r(467)):Error(r(310));Je=s,s={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},vt===null?Me.memoizedState=vt=s:vt=vt.next=s}return vt}function Wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(s){var a=$o;return $o+=1,Ca===null&&(Ca=[]),s=Gb(Ca,s,a),a=Me,(vt===null?a.memoizedState:vt.next)===null&&(a=a.alternate,O.H=a===null||a.memoizedState===null?z0:Vh),s}function Yc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return qo(s);if(s.$$typeof===D)return zt(s)}throw Error(r(438,String(s)))}function _h(s){var a=null,c=Me.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var d=Me.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Wc(),Me.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),d=0;d<s;d++)c[d]=ce;return a.index++,c}function Ar(s,a){return typeof a=="function"?a(s):a}function Jc(s){var a=bt();return Rh(a,Je,s)}function Rh(s,a,c){var d=s.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var m=s.baseQueue,b=d.pending;if(b!==null){if(m!==null){var S=m.next;m.next=b.next,b.next=S}a.baseQueue=m=b,d.pending=null}if(b=s.baseState,m===null)s.memoizedState=b;else{a=m.next;var N=S=null,A=null,I=a,W=!1;do{var Q=I.lane&-536870913;if(Q!==I.lane?(Ie&Q)===Q:(Tr&Q)===Q){var z=I.revertLane;if(z===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),Q===va&&(W=!0);else if((Tr&z)===z){I=I.next,z===va&&(W=!0);continue}else Q={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(N=A=Q,S=b):A=A.next=Q,Me.lanes|=z,vs|=z;Q=I.action,Ni&&c(b,Q),b=I.hasEagerState?I.eagerState:c(b,Q)}else z={lane:Q,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(N=A=z,S=b):A=A.next=z,Me.lanes|=Q,vs|=Q;I=I.next}while(I!==null&&I!==a);if(A===null?S=b:A.next=N,!yn(b,s.memoizedState)&&(St=!0,W&&(c=Sa,c!==null)))throw c;s.memoizedState=b,s.baseState=S,s.baseQueue=A,d.lastRenderedState=b}return m===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function jh(s){var a=bt(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var d=c.dispatch,m=c.pending,b=a.memoizedState;if(m!==null){c.pending=null;var S=m=m.next;do b=s(b,S.action),S=S.next;while(S!==m);yn(b,a.memoizedState)||(St=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),c.lastRenderedState=b}return[b,d]}function r0(s,a,c){var d=Me,m=bt(),b=Pe;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=a();var S=!yn((Je||m).memoizedState,c);if(S&&(m.memoizedState=c,St=!0),m=m.queue,Ih(a0.bind(null,d,m,s),[s]),m.getSnapshot!==a||S||vt!==null&&vt.memoizedState.tag&1){if(d.flags|=2048,Ta(9,{destroy:void 0},i0.bind(null,d,m,c,a),null),et===null)throw Error(r(349));b||(Tr&127)!==0||s0(d,a,c)}return c}function s0(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Me.updateQueue,a===null?(a=Wc(),Me.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function i0(s,a,c,d){a.value=c,a.getSnapshot=d,o0(a)&&l0(s)}function a0(s,a,c){return c(function(){o0(a)&&l0(s)})}function o0(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!yn(s,c)}catch{return!0}}function l0(s){var a=gi(s,2);a!==null&&un(a,s,2)}function Dh(s){var a=Xt();if(typeof s=="function"){var c=s;if(s=c(),Ni){is(!0);try{c()}finally{is(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:s},a}function c0(s,a,c,d){return s.baseState=c,Rh(s,Je,typeof d=="function"?d:Ar)}function aT(s,a,c,d,m){if(Zc(s))throw Error(r(485));if(s=a.action,s!==null){var b={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){b.listeners.push(S)}};O.T!==null?c(!0):b.isTransition=!1,d(b),c=a.pending,c===null?(b.next=a.pending=b,u0(a,b)):(b.next=c.next,a.pending=c.next=b)}}function u0(s,a){var c=a.action,d=a.payload,m=s.state;if(a.isTransition){var b=O.T,S={};O.T=S;try{var N=c(m,d),A=O.S;A!==null&&A(S,N),d0(s,a,N)}catch(I){Lh(s,a,I)}finally{b!==null&&S.types!==null&&(b.types=S.types),O.T=b}}else try{b=c(m,d),d0(s,a,b)}catch(I){Lh(s,a,I)}}function d0(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){f0(s,a,d)},function(d){return Lh(s,a,d)}):f0(s,a,c)}function f0(s,a,c){a.status="fulfilled",a.value=c,h0(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,u0(s,c)))}function Lh(s,a,c){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=c,h0(a),a=a.next;while(a!==d)}s.action=null}function h0(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function p0(s,a){return a}function m0(s,a){if(Pe){var c=et.formState;if(c!==null){e:{var d=Me;if(Pe){if(st){t:{for(var m=st,b=Ln;m.nodeType!==8;){if(!b){m=null;break t}if(m=zn(m.nextSibling),m===null){m=null;break t}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){st=zn(m.nextSibling),d=m.data==="F!";break e}}ds(d)}d=!1}d&&(a=c[0])}}return c=Xt(),c.memoizedState=c.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p0,lastRenderedState:a},c.queue=d,c=D0.bind(null,Me,d),d.dispatch=c,d=Dh(!1),b=Hh.bind(null,Me,!1,d.queue),d=Xt(),m={state:a,dispatch:null,action:s,pending:null},d.queue=m,c=aT.bind(null,Me,m,b,c),m.dispatch=c,d.memoizedState=s,[a,c,!1]}function g0(s){var a=bt();return y0(a,Je,s)}function y0(s,a,c){if(a=Rh(s,a,p0)[0],s=Jc(Ar)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=qo(a)}catch(S){throw S===wa?Uc:S}else d=a;a=bt();var m=a.queue,b=m.dispatch;return c!==a.memoizedState&&(Me.flags|=2048,Ta(9,{destroy:void 0},oT.bind(null,m,c),null)),[d,b,s]}function oT(s,a){s.action=a}function b0(s){var a=bt(),c=Je;if(c!==null)return y0(a,c,s);bt(),a=a.memoizedState,c=bt();var d=c.queue.dispatch;return c.memoizedState=s,[a,d,!1]}function Ta(s,a,c,d){return s={tag:s,create:c,deps:d,inst:a,next:null},a=Me.updateQueue,a===null&&(a=Wc(),Me.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(d=c.next,c.next=s,s.next=d,a.lastEffect=s),s}function x0(){return bt().memoizedState}function Xc(s,a,c,d){var m=Xt();Me.flags|=s,m.memoizedState=Ta(1|a,{destroy:void 0},c,d===void 0?null:d)}function Qc(s,a,c,d){var m=bt();d=d===void 0?null:d;var b=m.memoizedState.inst;Je!==null&&d!==null&&Ch(d,Je.memoizedState.deps)?m.memoizedState=Ta(a,b,c,d):(Me.flags|=s,m.memoizedState=Ta(1|a,b,c,d))}function v0(s,a){Xc(8390656,8,s,a)}function Ih(s,a){Qc(2048,8,s,a)}function lT(s){Me.flags|=4;var a=Me.updateQueue;if(a===null)a=Wc(),Me.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function S0(s){var a=bt().memoizedState;return lT({ref:a,nextImpl:s}),function(){if(($e&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function w0(s,a){return Qc(4,2,s,a)}function k0(s,a){return Qc(4,4,s,a)}function E0(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function N0(s,a,c){c=c!=null?c.concat([s]):null,Qc(4,4,E0.bind(null,a,s),c)}function zh(){}function C0(s,a){var c=bt();a=a===void 0?null:a;var d=c.memoizedState;return a!==null&&Ch(a,d[1])?d[0]:(c.memoizedState=[s,a],s)}function T0(s,a){var c=bt();a=a===void 0?null:a;var d=c.memoizedState;if(a!==null&&Ch(a,d[1]))return d[0];if(d=s(),Ni){is(!0);try{s()}finally{is(!1)}}return c.memoizedState=[d,a],d}function Ph(s,a,c){return c===void 0||(Tr&1073741824)!==0&&(Ie&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=Ax(),Me.lanes|=s,vs|=s,c)}function A0(s,a,c,d){return yn(c,a)?c:Ea.current!==null?(s=Ph(s,c,d),yn(s,a)||(St=!0),s):(Tr&42)===0||(Tr&1073741824)!==0&&(Ie&261930)===0?(St=!0,s.memoizedState=c):(s=Ax(),Me.lanes|=s,vs|=s,a)}function M0(s,a,c,d,m){var b=V.p;V.p=b!==0&&8>b?b:8;var S=O.T,N={};O.T=N,Hh(s,!1,a,c);try{var A=m(),I=O.S;if(I!==null&&I(N,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var W=rT(A,d);Fo(s,a,W,kn(s))}else Fo(s,a,d,kn(s))}catch(Q){Fo(s,a,{then:function(){},status:"rejected",reason:Q},kn())}finally{V.p=b,S!==null&&N.types!==null&&(S.types=N.types),O.T=S}}function cT(){}function Bh(s,a,c,d){if(s.tag!==5)throw Error(r(476));var m=O0(s).queue;M0(s,m,a,G,c===null?cT:function(){return _0(s),c(d)})}function O0(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:G},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function _0(s){var a=O0(s);a.next===null&&(a=s.alternate.memoizedState),Fo(s,a.next.queue,{},kn())}function Uh(){return zt(ll)}function R0(){return bt().memoizedState}function j0(){return bt().memoizedState}function uT(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=kn();s=ps(c);var d=ms(a,s,c);d!==null&&(un(d,a,c),Uo(d,a,c)),a={cache:mh()},s.payload=a;return}a=a.return}}function dT(s,a,c){var d=kn();c={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Zc(s)?L0(a,c):(c=sh(s,a,c,d),c!==null&&(un(c,s,d),I0(c,a,d)))}function D0(s,a,c){var d=kn();Fo(s,a,c,d)}function Fo(s,a,c,d){var m={lane:d,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Zc(s))L0(a,m);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var S=a.lastRenderedState,N=b(S,c);if(m.hasEagerState=!0,m.eagerState=N,yn(N,S))return jc(s,a,m,0),et===null&&Rc(),!1}catch{}if(c=sh(s,a,m,d),c!==null)return un(c,s,d),I0(c,a,d),!0}return!1}function Hh(s,a,c,d){if(d={lane:2,revertLane:xp(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Zc(s)){if(a)throw Error(r(479))}else a=sh(s,c,d,2),a!==null&&un(a,s,2)}function Zc(s){var a=s.alternate;return s===Me||a!==null&&a===Me}function L0(s,a){Na=Gc=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function I0(s,a,c){if((c&4194048)!==0){var d=a.lanes;d&=s.pendingLanes,c|=d,a.lanes=c,Hy(s,c)}}var Go={readContext:zt,use:Yc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};Go.useEffectEvent=ht;var z0={readContext:zt,use:Yc,useCallback:function(s,a){return Xt().memoizedState=[s,a===void 0?null:a],s},useContext:zt,useEffect:v0,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,Xc(4194308,4,E0.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Xc(4194308,4,s,a)},useInsertionEffect:function(s,a){Xc(4,2,s,a)},useMemo:function(s,a){var c=Xt();a=a===void 0?null:a;var d=s();if(Ni){is(!0);try{s()}finally{is(!1)}}return c.memoizedState=[d,a],d},useReducer:function(s,a,c){var d=Xt();if(c!==void 0){var m=c(a);if(Ni){is(!0);try{c(a)}finally{is(!1)}}}else m=a;return d.memoizedState=d.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},d.queue=s,s=s.dispatch=dT.bind(null,Me,s),[d.memoizedState,s]},useRef:function(s){var a=Xt();return s={current:s},a.memoizedState=s},useState:function(s){s=Dh(s);var a=s.queue,c=D0.bind(null,Me,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:zh,useDeferredValue:function(s,a){var c=Xt();return Ph(c,s,a)},useTransition:function(){var s=Dh(!1);return s=M0.bind(null,Me,s.queue,!0,!1),Xt().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var d=Me,m=Xt();if(Pe){if(c===void 0)throw Error(r(407));c=c()}else{if(c=a(),et===null)throw Error(r(349));(Ie&127)!==0||s0(d,a,c)}m.memoizedState=c;var b={value:c,getSnapshot:a};return m.queue=b,v0(a0.bind(null,d,b,s),[s]),d.flags|=2048,Ta(9,{destroy:void 0},i0.bind(null,d,b,c,a),null),c},useId:function(){var s=Xt(),a=et.identifierPrefix;if(Pe){var c=cr,d=lr;c=(d&~(1<<32-gn(d)-1)).toString(32)+c,a="_"+a+"R_"+c,c=Kc++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=sT++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Uh,useFormState:m0,useActionState:m0,useOptimistic:function(s){var a=Xt();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Hh.bind(null,Me,!0,c),c.dispatch=a,[s,a]},useMemoCache:_h,useCacheRefresh:function(){return Xt().memoizedState=uT.bind(null,Me)},useEffectEvent:function(s){var a=Xt(),c={impl:s};return a.memoizedState=c,function(){if(($e&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Vh={readContext:zt,use:Yc,useCallback:C0,useContext:zt,useEffect:Ih,useImperativeHandle:N0,useInsertionEffect:w0,useLayoutEffect:k0,useMemo:T0,useReducer:Jc,useRef:x0,useState:function(){return Jc(Ar)},useDebugValue:zh,useDeferredValue:function(s,a){var c=bt();return A0(c,Je.memoizedState,s,a)},useTransition:function(){var s=Jc(Ar)[0],a=bt().memoizedState;return[typeof s=="boolean"?s:qo(s),a]},useSyncExternalStore:r0,useId:R0,useHostTransitionStatus:Uh,useFormState:g0,useActionState:g0,useOptimistic:function(s,a){var c=bt();return c0(c,Je,s,a)},useMemoCache:_h,useCacheRefresh:j0};Vh.useEffectEvent=S0;var P0={readContext:zt,use:Yc,useCallback:C0,useContext:zt,useEffect:Ih,useImperativeHandle:N0,useInsertionEffect:w0,useLayoutEffect:k0,useMemo:T0,useReducer:jh,useRef:x0,useState:function(){return jh(Ar)},useDebugValue:zh,useDeferredValue:function(s,a){var c=bt();return Je===null?Ph(c,s,a):A0(c,Je.memoizedState,s,a)},useTransition:function(){var s=jh(Ar)[0],a=bt().memoizedState;return[typeof s=="boolean"?s:qo(s),a]},useSyncExternalStore:r0,useId:R0,useHostTransitionStatus:Uh,useFormState:b0,useActionState:b0,useOptimistic:function(s,a){var c=bt();return Je!==null?c0(c,Je,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:_h,useCacheRefresh:j0};P0.useEffectEvent=S0;function $h(s,a,c,d){a=s.memoizedState,c=c(d,a),c=c==null?a:y({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var qh={enqueueSetState:function(s,a,c){s=s._reactInternals;var d=kn(),m=ps(d);m.payload=a,c!=null&&(m.callback=c),a=ms(s,m,d),a!==null&&(un(a,s,d),Uo(a,s,d))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var d=kn(),m=ps(d);m.tag=1,m.payload=a,c!=null&&(m.callback=c),a=ms(s,m,d),a!==null&&(un(a,s,d),Uo(a,s,d))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=kn(),d=ps(c);d.tag=2,a!=null&&(d.callback=a),a=ms(s,d,c),a!==null&&(un(a,s,c),Uo(a,s,c))}};function B0(s,a,c,d,m,b,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,b,S):a.prototype&&a.prototype.isPureReactComponent?!Ro(c,d)||!Ro(m,b):!0}function U0(s,a,c,d){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,d),a.state!==s&&qh.enqueueReplaceState(a,a.state,null)}function Ci(s,a){var c=a;if("ref"in a){c={};for(var d in a)d!=="ref"&&(c[d]=a[d])}if(s=s.defaultProps){c===a&&(c=y({},c));for(var m in s)c[m]===void 0&&(c[m]=s[m])}return c}function H0(s){_c(s)}function V0(s){console.error(s)}function $0(s){_c(s)}function eu(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function q0(s,a,c){try{var d=s.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Fh(s,a,c){return c=ps(c),c.tag=3,c.payload={element:null},c.callback=function(){eu(s,a)},c}function F0(s){return s=ps(s),s.tag=3,s}function G0(s,a,c,d){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var b=d.value;s.payload=function(){return m(b)},s.callback=function(){q0(a,c,d)}}var S=c.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){q0(a,c,d),typeof m!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var N=d.stack;this.componentDidCatch(d.value,{componentStack:N!==null?N:""})})}function fT(s,a,c,d,m){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=c.alternate,a!==null&&xa(a,c,m,!0),c=xn.current,c!==null){switch(c.tag){case 31:case 13:return In===null?fu():c.alternate===null&&pt===0&&(pt=3),c.flags&=-257,c.flags|=65536,c.lanes=m,d===Hc?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([d]):a.add(d),gp(s,d,m)),!1;case 22:return c.flags|=65536,d===Hc?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([d]):c.add(d)),gp(s,d,m)),!1}throw Error(r(435,c.tag))}return gp(s,d,m),fu(),!1}if(Pe)return a=xn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,d!==uh&&(s=Error(r(422),{cause:d}),Lo(Rn(s,c)))):(d!==uh&&(a=Error(r(423),{cause:d}),Lo(Rn(a,c))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,d=Rn(d,c),m=Fh(s.stateNode,d,m),Sh(s,m),pt!==4&&(pt=2)),!1;var b=Error(r(520),{cause:d});if(b=Rn(b,c),el===null?el=[b]:el.push(b),pt!==4&&(pt=2),a===null)return!0;d=Rn(d,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=m&-m,c.lanes|=s,s=Fh(c.stateNode,d,s),Sh(c,s),!1;case 1:if(a=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ss===null||!Ss.has(b))))return c.flags|=65536,m&=-m,c.lanes|=m,m=F0(m),G0(m,s,c,d),Sh(c,m),!1}c=c.return}while(c!==null);return!1}var Gh=Error(r(461)),St=!1;function Pt(s,a,c,d){a.child=s===null?Jb(a,null,c,d):Ei(a,s.child,c,d)}function K0(s,a,c,d,m){c=c.render;var b=a.ref;if("ref"in d){var S={};for(var N in d)N!=="ref"&&(S[N]=d[N])}else S=d;return vi(a),d=Th(s,a,c,S,b,m),N=Ah(),s!==null&&!St?(Mh(s,a,m),Mr(s,a,m)):(Pe&&N&&lh(a),a.flags|=1,Pt(s,a,d,m),a.child)}function W0(s,a,c,d,m){if(s===null){var b=c.type;return typeof b=="function"&&!ih(b)&&b.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=b,Y0(s,a,b,d,m)):(s=Lc(c.type,null,d,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,!ep(s,m)){var S=b.memoizedProps;if(c=c.compare,c=c!==null?c:Ro,c(S,d)&&s.ref===a.ref)return Mr(s,a,m)}return a.flags|=1,s=kr(b,d),s.ref=a.ref,s.return=a,a.child=s}function Y0(s,a,c,d,m){if(s!==null){var b=s.memoizedProps;if(Ro(b,d)&&s.ref===a.ref)if(St=!1,a.pendingProps=d=b,ep(s,m))(s.flags&131072)!==0&&(St=!0);else return a.lanes=s.lanes,Mr(s,a,m)}return Kh(s,a,c,d,m)}function J0(s,a,c,d){var m=d.children,b=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,s!==null){for(d=a.child=s.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;d=m&~b}else d=0,a.child=null;return X0(s,a,b,c,d)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Bc(a,b!==null?b.cachePool:null),b!==null?Zb(a,b):kh(),e0(a);else return d=a.lanes=536870912,X0(s,a,b!==null?b.baseLanes|c:c,c,d)}else b!==null?(Bc(a,b.cachePool),Zb(a,b),ys(),a.memoizedState=null):(s!==null&&Bc(a,null),kh(),ys());return Pt(s,a,m,c),a.child}function Ko(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function X0(s,a,c,d,m){var b=yh();return b=b===null?null:{parent:xt._currentValue,pool:b},a.memoizedState={baseLanes:c,cachePool:b},s!==null&&Bc(a,null),kh(),e0(a),s!==null&&xa(s,a,d,!0),a.childLanes=m,null}function tu(s,a){return a=ru({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Q0(s,a,c){return Ei(a,s.child,null,c),s=tu(a,a.pendingProps),s.flags|=2,vn(a),a.memoizedState=null,s}function hT(s,a,c){var d=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Pe){if(d.mode==="hidden")return s=tu(a,d),a.lanes=536870912,Ko(null,s);if(Nh(a),(s=st)?(s=uv(s,Ln),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:cs!==null?{id:lr,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},c=Lb(s),c.return=a,a.child=c,It=a,st=null)):s=null,s===null)throw ds(a);return a.lanes=536870912,null}return tu(a,d)}var b=s.memoizedState;if(b!==null){var S=b.dehydrated;if(Nh(a),m)if(a.flags&256)a.flags&=-257,a=Q0(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(r(558));else if(St||xa(s,a,c,!1),m=(c&s.childLanes)!==0,St||m){if(d=et,d!==null&&(S=Vy(d,c),S!==0&&S!==b.retryLane))throw b.retryLane=S,gi(s,S),un(d,s,S),Gh;fu(),a=Q0(s,a,c)}else s=b.treeContext,st=zn(S.nextSibling),It=a,Pe=!0,us=null,Ln=!1,s!==null&&Pb(a,s),a=tu(a,d),a.flags|=4096;return a}return s=kr(s.child,{mode:d.mode,children:d.children}),s.ref=a.ref,a.child=s,s.return=a,s}function nu(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function Kh(s,a,c,d,m){return vi(a),c=Th(s,a,c,d,void 0,m),d=Ah(),s!==null&&!St?(Mh(s,a,m),Mr(s,a,m)):(Pe&&d&&lh(a),a.flags|=1,Pt(s,a,c,m),a.child)}function Z0(s,a,c,d,m,b){return vi(a),a.updateQueue=null,c=n0(a,d,c,m),t0(s),d=Ah(),s!==null&&!St?(Mh(s,a,b),Mr(s,a,b)):(Pe&&d&&lh(a),a.flags|=1,Pt(s,a,c,b),a.child)}function ex(s,a,c,d,m){if(vi(a),a.stateNode===null){var b=ma,S=c.contextType;typeof S=="object"&&S!==null&&(b=zt(S)),b=new c(d,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=qh,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=d,b.state=a.memoizedState,b.refs={},xh(a),S=c.contextType,b.context=typeof S=="object"&&S!==null?zt(S):ma,b.state=a.memoizedState,S=c.getDerivedStateFromProps,typeof S=="function"&&($h(a,c,S,d),b.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(S=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),S!==b.state&&qh.enqueueReplaceState(b,b.state,null),Vo(a,d,b,m),Ho(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(s===null){b=a.stateNode;var N=a.memoizedProps,A=Ci(c,N);b.props=A;var I=b.context,W=c.contextType;S=ma,typeof W=="object"&&W!==null&&(S=zt(W));var Q=c.getDerivedStateFromProps;W=typeof Q=="function"||typeof b.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,W||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N||I!==S)&&U0(a,b,d,S),hs=!1;var z=a.memoizedState;b.state=z,Vo(a,d,b,m),Ho(),I=a.memoizedState,N||z!==I||hs?(typeof Q=="function"&&($h(a,c,Q,d),I=a.memoizedState),(A=hs||B0(a,c,A,d,z,I,S))?(W||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=I),b.props=d,b.state=I,b.context=S,d=A):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{b=a.stateNode,vh(s,a),S=a.memoizedProps,W=Ci(c,S),b.props=W,Q=a.pendingProps,z=b.context,I=c.contextType,A=ma,typeof I=="object"&&I!==null&&(A=zt(I)),N=c.getDerivedStateFromProps,(I=typeof N=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(S!==Q||z!==A)&&U0(a,b,d,A),hs=!1,z=a.memoizedState,b.state=z,Vo(a,d,b,m),Ho();var H=a.memoizedState;S!==Q||z!==H||hs||s!==null&&s.dependencies!==null&&zc(s.dependencies)?(typeof N=="function"&&($h(a,c,N,d),H=a.memoizedState),(W=hs||B0(a,c,W,d,z,H,A)||s!==null&&s.dependencies!==null&&zc(s.dependencies))?(I||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,H,A),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,H,A)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||S===s.memoizedProps&&z===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&z===s.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=H),b.props=d,b.state=H,b.context=A,d=W):(typeof b.componentDidUpdate!="function"||S===s.memoizedProps&&z===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&z===s.memoizedState||(a.flags|=1024),d=!1)}return b=d,nu(s,a),d=(a.flags&128)!==0,b||d?(b=a.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,s!==null&&d?(a.child=Ei(a,s.child,null,m),a.child=Ei(a,null,c,m)):Pt(s,a,c,m),a.memoizedState=b.state,s=a.child):s=Mr(s,a,m),s}function tx(s,a,c,d){return bi(),a.flags|=256,Pt(s,a,c,d),a.child}var Wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yh(s){return{baseLanes:s,cachePool:qb()}}function Jh(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=wn),s}function nx(s,a,c){var d=a.pendingProps,m=!1,b=(a.flags&128)!==0,S;if((S=b)||(S=s!==null&&s.memoizedState===null?!1:(yt.current&2)!==0),S&&(m=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,s===null){if(Pe){if(m?gs(a):ys(),(s=st)?(s=uv(s,Ln),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:cs!==null?{id:lr,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},c=Lb(s),c.return=a,a.child=c,It=a,st=null)):s=null,s===null)throw ds(a);return Rp(s)?a.lanes=32:a.lanes=536870912,null}var N=d.children;return d=d.fallback,m?(ys(),m=a.mode,N=ru({mode:"hidden",children:N},m),d=yi(d,m,c,null),N.return=a,d.return=a,N.sibling=d,a.child=N,d=a.child,d.memoizedState=Yh(c),d.childLanes=Jh(s,S,c),a.memoizedState=Wh,Ko(null,d)):(gs(a),Xh(a,N))}var A=s.memoizedState;if(A!==null&&(N=A.dehydrated,N!==null)){if(b)a.flags&256?(gs(a),a.flags&=-257,a=Qh(s,a,c)):a.memoizedState!==null?(ys(),a.child=s.child,a.flags|=128,a=null):(ys(),N=d.fallback,m=a.mode,d=ru({mode:"visible",children:d.children},m),N=yi(N,m,c,null),N.flags|=2,d.return=a,N.return=a,d.sibling=N,a.child=d,Ei(a,s.child,null,c),d=a.child,d.memoizedState=Yh(c),d.childLanes=Jh(s,S,c),a.memoizedState=Wh,a=Ko(null,d));else if(gs(a),Rp(N)){if(S=N.nextSibling&&N.nextSibling.dataset,S)var I=S.dgst;S=I,d=Error(r(419)),d.stack="",d.digest=S,Lo({value:d,source:null,stack:null}),a=Qh(s,a,c)}else if(St||xa(s,a,c,!1),S=(c&s.childLanes)!==0,St||S){if(S=et,S!==null&&(d=Vy(S,c),d!==0&&d!==A.retryLane))throw A.retryLane=d,gi(s,d),un(S,s,d),Gh;_p(N)||fu(),a=Qh(s,a,c)}else _p(N)?(a.flags|=192,a.child=s.child,a=null):(s=A.treeContext,st=zn(N.nextSibling),It=a,Pe=!0,us=null,Ln=!1,s!==null&&Pb(a,s),a=Xh(a,d.children),a.flags|=4096);return a}return m?(ys(),N=d.fallback,m=a.mode,A=s.child,I=A.sibling,d=kr(A,{mode:"hidden",children:d.children}),d.subtreeFlags=A.subtreeFlags&65011712,I!==null?N=kr(I,N):(N=yi(N,m,c,null),N.flags|=2),N.return=a,d.return=a,d.sibling=N,a.child=d,Ko(null,d),d=a.child,N=s.child.memoizedState,N===null?N=Yh(c):(m=N.cachePool,m!==null?(A=xt._currentValue,m=m.parent!==A?{parent:A,pool:A}:m):m=qb(),N={baseLanes:N.baseLanes|c,cachePool:m}),d.memoizedState=N,d.childLanes=Jh(s,S,c),a.memoizedState=Wh,Ko(s.child,d)):(gs(a),c=s.child,s=c.sibling,c=kr(c,{mode:"visible",children:d.children}),c.return=a,c.sibling=null,s!==null&&(S=a.deletions,S===null?(a.deletions=[s],a.flags|=16):S.push(s)),a.child=c,a.memoizedState=null,c)}function Xh(s,a){return a=ru({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function ru(s,a){return s=bn(22,s,null,a),s.lanes=0,s}function Qh(s,a,c){return Ei(a,s.child,null,c),s=Xh(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function rx(s,a,c){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a),hh(s.return,a,c)}function Zh(s,a,c,d,m,b){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:m,treeForkCount:b}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=d,S.tail=c,S.tailMode=m,S.treeForkCount=b)}function sx(s,a,c){var d=a.pendingProps,m=d.revealOrder,b=d.tail;d=d.children;var S=yt.current,N=(S&2)!==0;if(N?(S=S&1|2,a.flags|=128):S&=1,te(yt,S),Pt(s,a,d,c),d=Pe?Do:0,!N&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&rx(s,c,a);else if(s.tag===19)rx(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(c=a.child,m=null;c!==null;)s=c.alternate,s!==null&&Fc(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),Zh(a,!1,m,c,b,d);break;case"backwards":case"unstable_legacy-backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Fc(s)===null){a.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}Zh(a,!0,c,null,b,d);break;case"together":Zh(a,!1,null,null,void 0,d);break;default:a.memoizedState=null}return a.child}function Mr(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),vs|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(xa(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,c=kr(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=kr(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function ep(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&zc(s)))}function pT(s,a,c){switch(a.tag){case 3:rt(a,a.stateNode.containerInfo),fs(a,xt,s.memoizedState.cache),bi();break;case 27:case 5:nn(a);break;case 4:rt(a,a.stateNode.containerInfo);break;case 10:fs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Nh(a),null;break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(gs(a),a.flags|=128,null):(c&a.child.childLanes)!==0?nx(s,a,c):(gs(a),s=Mr(s,a,c),s!==null?s.sibling:null);gs(a);break;case 19:var m=(s.flags&128)!==0;if(d=(c&a.childLanes)!==0,d||(xa(s,a,c,!1),d=(c&a.childLanes)!==0),m){if(d)return sx(s,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),te(yt,yt.current),d)break;return null;case 22:return a.lanes=0,J0(s,a,c,a.pendingProps);case 24:fs(a,xt,s.memoizedState.cache)}return Mr(s,a,c)}function ix(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)St=!0;else{if(!ep(s,c)&&(a.flags&128)===0)return St=!1,pT(s,a,c);St=(s.flags&131072)!==0}else St=!1,Pe&&(a.flags&1048576)!==0&&zb(a,Do,a.index);switch(a.lanes=0,a.tag){case 16:e:{var d=a.pendingProps;if(s=wi(a.elementType),a.type=s,typeof s=="function")ih(s)?(d=Ci(s,d),a.tag=1,a=ex(null,a,s,d,c)):(a.tag=0,a=Kh(null,a,s,d,c));else{if(s!=null){var m=s.$$typeof;if(m===$){a.tag=11,a=K0(null,a,s,d,c);break e}else if(m===q){a.tag=14,a=W0(null,a,s,d,c);break e}}throw a=F(s)||s,Error(r(306,a,""))}}return a;case 0:return Kh(s,a,a.type,a.pendingProps,c);case 1:return d=a.type,m=Ci(d,a.pendingProps),ex(s,a,d,m,c);case 3:e:{if(rt(a,a.stateNode.containerInfo),s===null)throw Error(r(387));d=a.pendingProps;var b=a.memoizedState;m=b.element,vh(s,a),Vo(a,d,null,c);var S=a.memoizedState;if(d=S.cache,fs(a,xt,d),d!==b.cache&&ph(a,[xt],c,!0),Ho(),d=S.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=tx(s,a,d,c);break e}else if(d!==m){m=Rn(Error(r(424)),a),Lo(m),a=tx(s,a,d,c);break e}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,st=zn(s.firstChild),It=a,Pe=!0,us=null,Ln=!0,c=Jb(a,null,d,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(bi(),d===m){a=Mr(s,a,c);break e}Pt(s,a,d,c)}a=a.child}return a;case 26:return nu(s,a),s===null?(c=gv(a.type,null,a.pendingProps,null))?a.memoizedState=c:Pe||(c=a.type,s=a.pendingProps,d=xu(Ce.current).createElement(c),d[Lt]=a,d[rn]=s,Bt(d,c,s),At(d),a.stateNode=d):a.memoizedState=gv(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return nn(a),s===null&&Pe&&(d=a.stateNode=hv(a.type,a.pendingProps,Ce.current),It=a,Ln=!0,m=st,Ns(a.type)?(jp=m,st=zn(d.firstChild)):st=m),Pt(s,a,a.pendingProps.children,c),nu(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Pe&&((m=d=st)&&(d=qT(d,a.type,a.pendingProps,Ln),d!==null?(a.stateNode=d,It=a,st=zn(d.firstChild),Ln=!1,m=!0):m=!1),m||ds(a)),nn(a),m=a.type,b=a.pendingProps,S=s!==null?s.memoizedProps:null,d=b.children,Ap(m,b)?d=null:S!==null&&Ap(m,S)&&(a.flags|=32),a.memoizedState!==null&&(m=Th(s,a,iT,null,null,c),ll._currentValue=m),nu(s,a),Pt(s,a,d,c),a.child;case 6:return s===null&&Pe&&((s=c=st)&&(c=FT(c,a.pendingProps,Ln),c!==null?(a.stateNode=c,It=a,st=null,s=!0):s=!1),s||ds(a)),null;case 13:return nx(s,a,c);case 4:return rt(a,a.stateNode.containerInfo),d=a.pendingProps,s===null?a.child=Ei(a,null,d,c):Pt(s,a,d,c),a.child;case 11:return K0(s,a,a.type,a.pendingProps,c);case 7:return Pt(s,a,a.pendingProps,c),a.child;case 8:return Pt(s,a,a.pendingProps.children,c),a.child;case 12:return Pt(s,a,a.pendingProps.children,c),a.child;case 10:return d=a.pendingProps,fs(a,a.type,d.value),Pt(s,a,d.children,c),a.child;case 9:return m=a.type._context,d=a.pendingProps.children,vi(a),m=zt(m),d=d(m),a.flags|=1,Pt(s,a,d,c),a.child;case 14:return W0(s,a,a.type,a.pendingProps,c);case 15:return Y0(s,a,a.type,a.pendingProps,c);case 19:return sx(s,a,c);case 31:return hT(s,a,c);case 22:return J0(s,a,c,a.pendingProps);case 24:return vi(a),d=zt(xt),s===null?(m=yh(),m===null&&(m=et,b=mh(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=c),m=b),a.memoizedState={parent:d,cache:m},xh(a),fs(a,xt,m)):((s.lanes&c)!==0&&(vh(s,a),Vo(a,null,null,c),Ho()),m=s.memoizedState,b=a.memoizedState,m.parent!==d?(m={parent:d,cache:d},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),fs(a,xt,d)):(d=b.cache,fs(a,xt,d),d!==m.cache&&ph(a,[xt],c,!0))),Pt(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Or(s){s.flags|=4}function tp(s,a,c,d,m){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(Rx())s.flags|=8192;else throw ki=Hc,bh}else s.flags&=-16777217}function ax(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Sv(a))if(Rx())s.flags|=8192;else throw ki=Hc,bh}function su(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?By():536870912,s.lanes|=a,_a|=a)}function Wo(s,a){if(!Pe)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function it(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,d=0;if(a)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=c,a}function mT(s,a,c){var d=a.pendingProps;switch(ch(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(a),null;case 1:return it(a),null;case 3:return c=a.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Cr(xt),Fe(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(ba(a)?Or(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,dh())),it(a),null;case 26:var m=a.type,b=a.memoizedState;return s===null?(Or(a),b!==null?(it(a),ax(a,b)):(it(a),tp(a,m,null,d,c))):b?b!==s.memoizedState?(Or(a),it(a),ax(a,b)):(it(a),a.flags&=-16777217):(s=s.memoizedProps,s!==d&&Or(a),it(a),tp(a,m,s,d,c)),null;case 27:if(pn(a),c=Ce.current,m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&Or(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return it(a),null}s=ie.current,ba(a)?Bb(a):(s=hv(m,d,c),a.stateNode=s,Or(a))}return it(a),null;case 5:if(pn(a),m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&Or(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return it(a),null}if(b=ie.current,ba(a))Bb(a);else{var S=xu(Ce.current);switch(b){case 1:b=S.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:b=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":b=S.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":b=S.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":b=S.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?S.createElement("select",{is:d.is}):S.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?S.createElement(m,{is:d.is}):S.createElement(m)}}b[Lt]=a,b[rn]=d;e:for(S=a.child;S!==null;){if(S.tag===5||S.tag===6)b.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===a)break e;for(;S.sibling===null;){if(S.return===null||S.return===a)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}a.stateNode=b;e:switch(Bt(b,m,d),m){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Or(a)}}return it(a),tp(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==d&&Or(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(r(166));if(s=Ce.current,ba(a)){if(s=a.stateNode,c=a.memoizedProps,d=null,m=It,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}s[Lt]=a,s=!!(s.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||nv(s.nodeValue,c)),s||ds(a,!0)}else s=xu(s).createTextNode(d),s[Lt]=a,a.stateNode=s}return it(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(d=ba(a),c!==null){if(s===null){if(!d)throw Error(r(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Lt]=a}else bi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;it(a),s=!1}else c=dh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(vn(a),a):(vn(a),null);if((a.flags&128)!==0)throw Error(r(558))}return it(a),null;case 13:if(d=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=ba(a),d!==null&&d.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Lt]=a}else bi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;it(a),m=!1}else m=dh(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(vn(a),a):(vn(a),null)}return vn(a),(a.flags&128)!==0?(a.lanes=c,a):(c=d!==null,s=s!==null&&s.memoizedState!==null,c&&(d=a.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==m&&(d.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),su(a,a.updateQueue),it(a),null);case 4:return Fe(),s===null&&kp(a.stateNode.containerInfo),it(a),null;case 10:return Cr(a.type),it(a),null;case 19:if(Y(yt),d=a.memoizedState,d===null)return it(a),null;if(m=(a.flags&128)!==0,b=d.rendering,b===null)if(m)Wo(d,!1);else{if(pt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(b=Fc(s),b!==null){for(a.flags|=128,Wo(d,!1),s=b.updateQueue,a.updateQueue=s,su(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)Db(c,s),c=c.sibling;return te(yt,yt.current&1|2),Pe&&Er(a,d.treeForkCount),a.child}s=s.sibling}d.tail!==null&&Dt()>cu&&(a.flags|=128,m=!0,Wo(d,!1),a.lanes=4194304)}else{if(!m)if(s=Fc(b),s!==null){if(a.flags|=128,m=!0,s=s.updateQueue,a.updateQueue=s,su(a,s),Wo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!Pe)return it(a),null}else 2*Dt()-d.renderingStartTime>cu&&c!==536870912&&(a.flags|=128,m=!0,Wo(d,!1),a.lanes=4194304);d.isBackwards?(b.sibling=a.child,a.child=b):(s=d.last,s!==null?s.sibling=b:a.child=b,d.last=b)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Dt(),s.sibling=null,c=yt.current,te(yt,m?c&1|2:c&1),Pe&&Er(a,d.treeForkCount),s):(it(a),null);case 22:case 23:return vn(a),Eh(),d=a.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(c&536870912)!==0&&(a.flags&128)===0&&(it(a),a.subtreeFlags&6&&(a.flags|=8192)):it(a),c=a.updateQueue,c!==null&&su(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==c&&(a.flags|=2048),s!==null&&Y(Si),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Cr(xt),it(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function gT(s,a){switch(ch(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Cr(xt),Fe(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return pn(a),null;case 31:if(a.memoizedState!==null){if(vn(a),a.alternate===null)throw Error(r(340));bi()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(vn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));bi()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Y(yt),null;case 4:return Fe(),null;case 10:return Cr(a.type),null;case 22:case 23:return vn(a),Eh(),s!==null&&Y(Si),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Cr(xt),null;case 25:return null;default:return null}}function ox(s,a){switch(ch(a),a.tag){case 3:Cr(xt),Fe();break;case 26:case 27:case 5:pn(a);break;case 4:Fe();break;case 31:a.memoizedState!==null&&vn(a);break;case 13:vn(a);break;case 19:Y(yt);break;case 10:Cr(a.type);break;case 22:case 23:vn(a),Eh(),s!==null&&Y(Si);break;case 24:Cr(xt)}}function Yo(s,a){try{var c=a.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&s)===s){d=void 0;var b=c.create,S=c.inst;d=b(),S.destroy=d}c=c.next}while(c!==m)}}catch(N){Ke(a,a.return,N)}}function bs(s,a,c){try{var d=a.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var b=m.next;d=b;do{if((d.tag&s)===s){var S=d.inst,N=S.destroy;if(N!==void 0){S.destroy=void 0,m=a;var A=c,I=N;try{I()}catch(W){Ke(m,A,W)}}}d=d.next}while(d!==b)}}catch(W){Ke(a,a.return,W)}}function lx(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{Qb(a,c)}catch(d){Ke(s,s.return,d)}}}function cx(s,a,c){c.props=Ci(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(d){Ke(s,a,d)}}function Jo(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof c=="function"?s.refCleanup=c(d):c.current=d}}catch(m){Ke(s,a,m)}}function ur(s,a){var c=s.ref,d=s.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(m){Ke(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){Ke(s,a,m)}else c.current=null}function ux(s){var a=s.type,c=s.memoizedProps,d=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(m){Ke(s,s.return,m)}}function np(s,a,c){try{var d=s.stateNode;PT(d,s.type,c,a),d[rn]=a}catch(m){Ke(s,s.return,m)}}function dx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ns(s.type)||s.tag===4}function rp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||dx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ns(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function sp(s,a,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Sr));else if(d!==4&&(d===27&&Ns(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(sp(s,a,c),s=s.sibling;s!==null;)sp(s,a,c),s=s.sibling}function iu(s,a,c){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(d!==4&&(d===27&&Ns(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(iu(s,a,c),s=s.sibling;s!==null;)iu(s,a,c),s=s.sibling}function fx(s){var a=s.stateNode,c=s.memoizedProps;try{for(var d=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Bt(a,d,c),a[Lt]=s,a[rn]=c}catch(b){Ke(s,s.return,b)}}var _r=!1,wt=!1,ip=!1,hx=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function yT(s,a){if(s=s.containerInfo,Cp=Cu,s=Nb(s),Qf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var m=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var S=0,N=-1,A=-1,I=0,W=0,Q=s,z=null;t:for(;;){for(var H;Q!==c||m!==0&&Q.nodeType!==3||(N=S+m),Q!==b||d!==0&&Q.nodeType!==3||(A=S+d),Q.nodeType===3&&(S+=Q.nodeValue.length),(H=Q.firstChild)!==null;)z=Q,Q=H;for(;;){if(Q===s)break t;if(z===c&&++I===m&&(N=S),z===b&&++W===d&&(A=S),(H=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=H}c=N===-1||A===-1?null:{start:N,end:A}}else c=null}c=c||{start:0,end:0}}else c=null;for(Tp={focusedElem:s,selectionRange:c},Cu=!1,Mt=a;Mt!==null;)if(a=Mt,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Mt=s;else for(;Mt!==null;){switch(a=Mt,b=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)m=s[c],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,c=a,m=b.memoizedProps,b=b.memoizedState,d=c.stateNode;try{var ue=Ci(c.type,m);s=d.getSnapshotBeforeUpdate(ue,b),d.__reactInternalSnapshotBeforeUpdate=s}catch(ve){Ke(c,c.return,ve)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)Op(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Op(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,Mt=s;break}Mt=a.return}}function px(s,a,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:jr(s,c),d&4&&Yo(5,c);break;case 1:if(jr(s,c),d&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(S){Ke(c,c.return,S)}else{var m=Ci(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(S){Ke(c,c.return,S)}}d&64&&lx(c),d&512&&Jo(c,c.return);break;case 3:if(jr(s,c),d&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Qb(s,a)}catch(S){Ke(c,c.return,S)}}break;case 27:a===null&&d&4&&fx(c);case 26:case 5:jr(s,c),a===null&&d&4&&ux(c),d&512&&Jo(c,c.return);break;case 12:jr(s,c);break;case 31:jr(s,c),d&4&&yx(s,c);break;case 13:jr(s,c),d&4&&bx(s,c),d&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=CT.bind(null,c),GT(s,c))));break;case 22:if(d=c.memoizedState!==null||_r,!d){a=a!==null&&a.memoizedState!==null||wt,m=_r;var b=wt;_r=d,(wt=a)&&!b?Dr(s,c,(c.subtreeFlags&8772)!==0):jr(s,c),_r=m,wt=b}break;case 30:break;default:jr(s,c)}}function mx(s){var a=s.alternate;a!==null&&(s.alternate=null,mx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Lf(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var lt=null,an=!1;function Rr(s,a,c){for(c=c.child;c!==null;)gx(s,a,c),c=c.sibling}function gx(s,a,c){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(vo,c)}catch{}switch(c.tag){case 26:wt||ur(c,a),Rr(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:wt||ur(c,a);var d=lt,m=an;Ns(c.type)&&(lt=c.stateNode,an=!1),Rr(s,a,c),il(c.stateNode),lt=d,an=m;break;case 5:wt||ur(c,a);case 6:if(d=lt,m=an,lt=null,Rr(s,a,c),lt=d,an=m,lt!==null)if(an)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(c.stateNode)}catch(b){Ke(c,a,b)}else try{lt.removeChild(c.stateNode)}catch(b){Ke(c,a,b)}break;case 18:lt!==null&&(an?(s=lt,lv(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Ba(s)):lv(lt,c.stateNode));break;case 4:d=lt,m=an,lt=c.stateNode.containerInfo,an=!0,Rr(s,a,c),lt=d,an=m;break;case 0:case 11:case 14:case 15:bs(2,c,a),wt||bs(4,c,a),Rr(s,a,c);break;case 1:wt||(ur(c,a),d=c.stateNode,typeof d.componentWillUnmount=="function"&&cx(c,a,d)),Rr(s,a,c);break;case 21:Rr(s,a,c);break;case 22:wt=(d=wt)||c.memoizedState!==null,Rr(s,a,c),wt=d;break;default:Rr(s,a,c)}}function yx(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ba(s)}catch(c){Ke(a,a.return,c)}}}function bx(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ba(s)}catch(c){Ke(a,a.return,c)}}function bT(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new hx),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new hx),a;default:throw Error(r(435,s.tag))}}function au(s,a){var c=bT(s);a.forEach(function(d){if(!c.has(d)){c.add(d);var m=TT.bind(null,s,d);d.then(m,m)}})}function on(s,a){var c=a.deletions;if(c!==null)for(var d=0;d<c.length;d++){var m=c[d],b=s,S=a,N=S;e:for(;N!==null;){switch(N.tag){case 27:if(Ns(N.type)){lt=N.stateNode,an=!1;break e}break;case 5:lt=N.stateNode,an=!1;break e;case 3:case 4:lt=N.stateNode.containerInfo,an=!0;break e}N=N.return}if(lt===null)throw Error(r(160));gx(b,S,m),lt=null,an=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)xx(a,s),a=a.sibling}var Zn=null;function xx(s,a){var c=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:on(a,s),ln(s),d&4&&(bs(3,s,s.return),Yo(3,s),bs(5,s,s.return));break;case 1:on(a,s),ln(s),d&512&&(wt||c===null||ur(c,c.return)),d&64&&_r&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var m=Zn;if(on(a,s),ln(s),d&512&&(wt||c===null||ur(c,c.return)),d&4){var b=c!==null?c.memoizedState:null;if(d=s.memoizedState,c===null)if(d===null)if(s.stateNode===null){e:{d=s.type,c=s.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":b=m.getElementsByTagName("title")[0],(!b||b[ko]||b[Lt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(d),m.head.insertBefore(b,m.querySelector("head > title"))),Bt(b,d,c),b[Lt]=s,At(b),d=b;break e;case"link":var S=xv("link","href",m).get(d+(c.href||""));if(S){for(var N=0;N<S.length;N++)if(b=S[N],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){S.splice(N,1);break t}}b=m.createElement(d),Bt(b,d,c),m.head.appendChild(b);break;case"meta":if(S=xv("meta","content",m).get(d+(c.content||""))){for(N=0;N<S.length;N++)if(b=S[N],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){S.splice(N,1);break t}}b=m.createElement(d),Bt(b,d,c),m.head.appendChild(b);break;default:throw Error(r(468,d))}b[Lt]=s,At(b),d=b}s.stateNode=d}else vv(m,s.type,s.stateNode);else s.stateNode=bv(m,d,s.memoizedProps);else b!==d?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,d===null?vv(m,s.type,s.stateNode):bv(m,d,s.memoizedProps)):d===null&&s.stateNode!==null&&np(s,s.memoizedProps,c.memoizedProps)}break;case 27:on(a,s),ln(s),d&512&&(wt||c===null||ur(c,c.return)),c!==null&&d&4&&np(s,s.memoizedProps,c.memoizedProps);break;case 5:if(on(a,s),ln(s),d&512&&(wt||c===null||ur(c,c.return)),s.flags&32){m=s.stateNode;try{la(m,"")}catch(ue){Ke(s,s.return,ue)}}d&4&&s.stateNode!=null&&(m=s.memoizedProps,np(s,m,c!==null?c.memoizedProps:m)),d&1024&&(ip=!0);break;case 6:if(on(a,s),ln(s),d&4){if(s.stateNode===null)throw Error(r(162));d=s.memoizedProps,c=s.stateNode;try{c.nodeValue=d}catch(ue){Ke(s,s.return,ue)}}break;case 3:if(wu=null,m=Zn,Zn=vu(a.containerInfo),on(a,s),Zn=m,ln(s),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Ba(a.containerInfo)}catch(ue){Ke(s,s.return,ue)}ip&&(ip=!1,vx(s));break;case 4:d=Zn,Zn=vu(s.stateNode.containerInfo),on(a,s),ln(s),Zn=d;break;case 12:on(a,s),ln(s);break;case 31:on(a,s),ln(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,au(s,d)));break;case 13:on(a,s),ln(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(lu=Dt()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,au(s,d)));break;case 22:m=s.memoizedState!==null;var A=c!==null&&c.memoizedState!==null,I=_r,W=wt;if(_r=I||m,wt=W||A,on(a,s),wt=W,_r=I,ln(s),d&8192)e:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(c===null||A||_r||wt||Ti(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){A=c=a;try{if(b=A.stateNode,m)S=b.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{N=A.stateNode;var Q=A.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;N.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){Ke(A,A.return,ue)}}}else if(a.tag===6){if(c===null){A=a;try{A.stateNode.nodeValue=m?"":A.memoizedProps}catch(ue){Ke(A,A.return,ue)}}}else if(a.tag===18){if(c===null){A=a;try{var H=A.stateNode;m?cv(H,!0):cv(A.stateNode,!1)}catch(ue){Ke(A,A.return,ue)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=s.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,au(s,c))));break;case 19:on(a,s),ln(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,au(s,d)));break;case 30:break;case 21:break;default:on(a,s),ln(s)}}function ln(s){var a=s.flags;if(a&2){try{for(var c,d=s.return;d!==null;){if(dx(d)){c=d;break}d=d.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var m=c.stateNode,b=rp(s);iu(s,b,m);break;case 5:var S=c.stateNode;c.flags&32&&(la(S,""),c.flags&=-33);var N=rp(s);iu(s,N,S);break;case 3:case 4:var A=c.stateNode.containerInfo,I=rp(s);sp(s,I,A);break;default:throw Error(r(161))}}catch(W){Ke(s,s.return,W)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function vx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;vx(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function jr(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)px(s,a.alternate,a),a=a.sibling}function Ti(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:bs(4,a,a.return),Ti(a);break;case 1:ur(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&cx(a,a.return,c),Ti(a);break;case 27:il(a.stateNode);case 26:case 5:ur(a,a.return),Ti(a);break;case 22:a.memoizedState===null&&Ti(a);break;case 30:Ti(a);break;default:Ti(a)}s=s.sibling}}function Dr(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,m=s,b=a,S=b.flags;switch(b.tag){case 0:case 11:case 15:Dr(m,b,c),Yo(4,b);break;case 1:if(Dr(m,b,c),d=b,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(I){Ke(d,d.return,I)}if(d=b,m=d.updateQueue,m!==null){var N=d.stateNode;try{var A=m.shared.hiddenCallbacks;if(A!==null)for(m.shared.hiddenCallbacks=null,m=0;m<A.length;m++)Xb(A[m],N)}catch(I){Ke(d,d.return,I)}}c&&S&64&&lx(b),Jo(b,b.return);break;case 27:fx(b);case 26:case 5:Dr(m,b,c),c&&d===null&&S&4&&ux(b),Jo(b,b.return);break;case 12:Dr(m,b,c);break;case 31:Dr(m,b,c),c&&S&4&&yx(m,b);break;case 13:Dr(m,b,c),c&&S&4&&bx(m,b);break;case 22:b.memoizedState===null&&Dr(m,b,c),Jo(b,b.return);break;case 30:break;default:Dr(m,b,c)}a=a.sibling}}function ap(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Io(c))}function op(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Io(s))}function er(s,a,c,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Sx(s,a,c,d),a=a.sibling}function Sx(s,a,c,d){var m=a.flags;switch(a.tag){case 0:case 11:case 15:er(s,a,c,d),m&2048&&Yo(9,a);break;case 1:er(s,a,c,d);break;case 3:er(s,a,c,d),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Io(s)));break;case 12:if(m&2048){er(s,a,c,d),s=a.stateNode;try{var b=a.memoizedProps,S=b.id,N=b.onPostCommit;typeof N=="function"&&N(S,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(A){Ke(a,a.return,A)}}else er(s,a,c,d);break;case 31:er(s,a,c,d);break;case 13:er(s,a,c,d);break;case 23:break;case 22:b=a.stateNode,S=a.alternate,a.memoizedState!==null?b._visibility&2?er(s,a,c,d):Xo(s,a):b._visibility&2?er(s,a,c,d):(b._visibility|=2,Aa(s,a,c,d,(a.subtreeFlags&10256)!==0||!1)),m&2048&&ap(S,a);break;case 24:er(s,a,c,d),m&2048&&op(a.alternate,a);break;default:er(s,a,c,d)}}function Aa(s,a,c,d,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=s,S=a,N=c,A=d,I=S.flags;switch(S.tag){case 0:case 11:case 15:Aa(b,S,N,A,m),Yo(8,S);break;case 23:break;case 22:var W=S.stateNode;S.memoizedState!==null?W._visibility&2?Aa(b,S,N,A,m):Xo(b,S):(W._visibility|=2,Aa(b,S,N,A,m)),m&&I&2048&&ap(S.alternate,S);break;case 24:Aa(b,S,N,A,m),m&&I&2048&&op(S.alternate,S);break;default:Aa(b,S,N,A,m)}a=a.sibling}}function Xo(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,d=a,m=d.flags;switch(d.tag){case 22:Xo(c,d),m&2048&&ap(d.alternate,d);break;case 24:Xo(c,d),m&2048&&op(d.alternate,d);break;default:Xo(c,d)}a=a.sibling}}var Qo=8192;function Ma(s,a,c){if(s.subtreeFlags&Qo)for(s=s.child;s!==null;)wx(s,a,c),s=s.sibling}function wx(s,a,c){switch(s.tag){case 26:Ma(s,a,c),s.flags&Qo&&s.memoizedState!==null&&sA(c,Zn,s.memoizedState,s.memoizedProps);break;case 5:Ma(s,a,c);break;case 3:case 4:var d=Zn;Zn=vu(s.stateNode.containerInfo),Ma(s,a,c),Zn=d;break;case 22:s.memoizedState===null&&(d=s.alternate,d!==null&&d.memoizedState!==null?(d=Qo,Qo=16777216,Ma(s,a,c),Qo=d):Ma(s,a,c));break;default:Ma(s,a,c)}}function kx(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Zo(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];Mt=d,Nx(d,s)}kx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ex(s),s=s.sibling}function Ex(s){switch(s.tag){case 0:case 11:case 15:Zo(s),s.flags&2048&&bs(9,s,s.return);break;case 3:Zo(s);break;case 12:Zo(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,ou(s)):Zo(s);break;default:Zo(s)}}function ou(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];Mt=d,Nx(d,s)}kx(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:bs(8,a,a.return),ou(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,ou(a));break;default:ou(a)}s=s.sibling}}function Nx(s,a){for(;Mt!==null;){var c=Mt;switch(c.tag){case 0:case 11:case 15:bs(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Io(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Mt=d;else e:for(c=s;Mt!==null;){d=Mt;var m=d.sibling,b=d.return;if(mx(d),d===c){Mt=null;break e}if(m!==null){m.return=b,Mt=m;break e}Mt=b}}}var xT={getCacheForType:function(s){var a=zt(xt),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return zt(xt).controller.signal}},vT=typeof WeakMap=="function"?WeakMap:Map,$e=0,et=null,De=null,Ie=0,Ge=0,Sn=null,xs=!1,Oa=!1,lp=!1,Lr=0,pt=0,vs=0,Ai=0,cp=0,wn=0,_a=0,el=null,cn=null,up=!1,lu=0,Cx=0,cu=1/0,uu=null,Ss=null,Nt=0,ws=null,Ra=null,Ir=0,dp=0,fp=null,Tx=null,tl=0,hp=null;function kn(){return($e&2)!==0&&Ie!==0?Ie&-Ie:O.T!==null?xp():$y()}function Ax(){if(wn===0)if((Ie&536870912)===0||Pe){var s=bc;bc<<=1,(bc&3932160)===0&&(bc=262144),wn=s}else wn=536870912;return s=xn.current,s!==null&&(s.flags|=32),wn}function un(s,a,c){(s===et&&(Ge===2||Ge===9)||s.cancelPendingCommit!==null)&&(ja(s,0),ks(s,Ie,wn,!1)),wo(s,c),(($e&2)===0||s!==et)&&(s===et&&(($e&2)===0&&(Ai|=c),pt===4&&ks(s,Ie,wn,!1)),dr(s))}function Mx(s,a,c){if(($e&6)!==0)throw Error(r(327));var d=!c&&(a&127)===0&&(a&s.expiredLanes)===0||So(s,a),m=d?kT(s,a):mp(s,a,!0),b=d;do{if(m===0){Oa&&!d&&ks(s,a,0,!1);break}else{if(c=s.current.alternate,b&&!ST(c)){m=mp(s,a,!1),b=!1;continue}if(m===2){if(b=a,s.errorRecoveryDisabledLanes&b)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var N=s;m=el;var A=N.current.memoizedState.isDehydrated;if(A&&(ja(N,S).flags|=256),S=mp(N,S,!1),S!==2){if(lp&&!A){N.errorRecoveryDisabledLanes|=b,Ai|=b,m=4;break e}b=cn,cn=m,b!==null&&(cn===null?cn=b:cn.push.apply(cn,b))}m=S}if(b=!1,m!==2)continue}}if(m===1){ja(s,0),ks(s,a,0,!0);break}e:{switch(d=s,b=m,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ks(d,a,wn,!xs);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(m=lu+300-Dt(),10<m)){if(ks(d,a,wn,!xs),vc(d,0,!0)!==0)break e;Ir=a,d.timeoutHandle=av(Ox.bind(null,d,c,cn,uu,up,a,wn,Ai,_a,xs,b,"Throttled",-0,0),m);break e}Ox(d,c,cn,uu,up,a,wn,Ai,_a,xs,b,null,-0,0)}}break}while(!0);dr(s)}function Ox(s,a,c,d,m,b,S,N,A,I,W,Q,z,H){if(s.timeoutHandle=-1,Q=a.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sr},wx(a,b,Q);var ue=(b&62914560)===b?lu-Dt():(b&4194048)===b?Cx-Dt():0;if(ue=iA(Q,ue),ue!==null){Ir=b,s.cancelPendingCommit=ue(Px.bind(null,s,a,b,c,d,m,S,N,A,W,Q,null,z,H)),ks(s,b,S,!I);return}}Px(s,a,b,c,d,m,S,N,A)}function ST(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var m=c[d],b=m.getSnapshot;m=m.value;try{if(!yn(b(),m))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ks(s,a,c,d){a&=~cp,a&=~Ai,s.suspendedLanes|=a,s.pingedLanes&=~a,d&&(s.warmLanes|=a),d=s.expirationTimes;for(var m=a;0<m;){var b=31-gn(m),S=1<<b;d[b]=-1,m&=~S}c!==0&&Uy(s,c,a)}function du(){return($e&6)===0?(nl(0),!1):!0}function pp(){if(De!==null){if(Ge===0)var s=De.return;else s=De,Nr=xi=null,Oh(s),ka=null,Po=0,s=De;for(;s!==null;)ox(s.alternate,s),s=s.return;De=null}}function ja(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,HT(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Ir=0,pp(),et=s,De=c=kr(s.current,null),Ie=a,Ge=0,Sn=null,xs=!1,Oa=So(s,a),lp=!1,_a=wn=cp=Ai=vs=pt=0,cn=el=null,up=!1,(a&8)!==0&&(a|=a&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=a;0<d;){var m=31-gn(d),b=1<<m;a|=s[m],d&=~b}return Lr=a,Rc(),c}function _x(s,a){Me=null,O.H=Go,a===wa||a===Uc?(a=Kb(),Ge=3):a===bh?(a=Kb(),Ge=4):Ge=a===Gh?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Sn=a,De===null&&(pt=1,eu(s,Rn(a,s.current)))}function Rx(){var s=xn.current;return s===null?!0:(Ie&4194048)===Ie?In===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?s===In:!1}function jx(){var s=O.H;return O.H=Go,s===null?Go:s}function Dx(){var s=O.A;return O.A=xT,s}function fu(){pt=4,xs||(Ie&4194048)!==Ie&&xn.current!==null||(Oa=!0),(vs&134217727)===0&&(Ai&134217727)===0||et===null||ks(et,Ie,wn,!1)}function mp(s,a,c){var d=$e;$e|=2;var m=jx(),b=Dx();(et!==s||Ie!==a)&&(uu=null,ja(s,a)),a=!1;var S=pt;e:do try{if(Ge!==0&&De!==null){var N=De,A=Sn;switch(Ge){case 8:pp(),S=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(a=!0);var I=Ge;if(Ge=0,Sn=null,Da(s,N,A,I),c&&Oa){S=0;break e}break;default:I=Ge,Ge=0,Sn=null,Da(s,N,A,I)}}wT(),S=pt;break}catch(W){_x(s,W)}while(!0);return a&&s.shellSuspendCounter++,Nr=xi=null,$e=d,O.H=m,O.A=b,De===null&&(et=null,Ie=0,Rc()),S}function wT(){for(;De!==null;)Lx(De)}function kT(s,a){var c=$e;$e|=2;var d=jx(),m=Dx();et!==s||Ie!==a?(uu=null,cu=Dt()+500,ja(s,a)):Oa=So(s,a);e:do try{if(Ge!==0&&De!==null){a=De;var b=Sn;t:switch(Ge){case 1:Ge=0,Sn=null,Da(s,a,b,1);break;case 2:case 9:if(Fb(b)){Ge=0,Sn=null,Ix(a);break}a=function(){Ge!==2&&Ge!==9||et!==s||(Ge=7),dr(s)},b.then(a,a);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Fb(b)?(Ge=0,Sn=null,Ix(a)):(Ge=0,Sn=null,Da(s,a,b,7));break;case 5:var S=null;switch(De.tag){case 26:S=De.memoizedState;case 5:case 27:var N=De;if(S?Sv(S):N.stateNode.complete){Ge=0,Sn=null;var A=N.sibling;if(A!==null)De=A;else{var I=N.return;I!==null?(De=I,hu(I)):De=null}break t}}Ge=0,Sn=null,Da(s,a,b,5);break;case 6:Ge=0,Sn=null,Da(s,a,b,6);break;case 8:pp(),pt=6;break e;default:throw Error(r(462))}}ET();break}catch(W){_x(s,W)}while(!0);return Nr=xi=null,O.H=d,O.A=m,$e=c,De!==null?0:(et=null,Ie=0,Rc(),pt)}function ET(){for(;De!==null&&!ta();)Lx(De)}function Lx(s){var a=ix(s.alternate,s,Lr);s.memoizedProps=s.pendingProps,a===null?hu(s):De=a}function Ix(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=Z0(c,a,a.pendingProps,a.type,void 0,Ie);break;case 11:a=Z0(c,a,a.pendingProps,a.type.render,a.ref,Ie);break;case 5:Oh(a);default:ox(c,a),a=De=Db(a,Lr),a=ix(c,a,Lr)}s.memoizedProps=s.pendingProps,a===null?hu(s):De=a}function Da(s,a,c,d){Nr=xi=null,Oh(a),ka=null,Po=0;var m=a.return;try{if(fT(s,m,a,c,Ie)){pt=1,eu(s,Rn(c,s.current)),De=null;return}}catch(b){if(m!==null)throw De=m,b;pt=1,eu(s,Rn(c,s.current)),De=null;return}a.flags&32768?(Pe||d===1?s=!0:Oa||(Ie&536870912)!==0?s=!1:(xs=s=!0,(d===2||d===9||d===3||d===6)&&(d=xn.current,d!==null&&d.tag===13&&(d.flags|=16384))),zx(a,s)):hu(a)}function hu(s){var a=s;do{if((a.flags&32768)!==0){zx(a,xs);return}s=a.return;var c=mT(a.alternate,a,Lr);if(c!==null){De=c;return}if(a=a.sibling,a!==null){De=a;return}De=a=s}while(a!==null);pt===0&&(pt=5)}function zx(s,a){do{var c=gT(s.alternate,s);if(c!==null){c.flags&=32767,De=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){De=s;return}De=s=c}while(s!==null);pt=6,De=null}function Px(s,a,c,d,m,b,S,N,A){s.cancelPendingCommit=null;do pu();while(Nt!==0);if(($e&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=rh,r2(s,c,b,S,N,A),s===et&&(De=et=null,Ie=0),Ra=a,ws=s,Ir=c,dp=b,fp=m,Tx=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,AT(Ye,function(){return $x(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=O.T,O.T=null,m=V.p,V.p=2,S=$e,$e|=4;try{yT(s,a,c)}finally{$e=S,V.p=m,O.T=d}}Nt=1,Bx(),Ux(),Hx()}}function Bx(){if(Nt===1){Nt=0;var s=ws,a=Ra,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=O.T,O.T=null;var d=V.p;V.p=2;var m=$e;$e|=4;try{xx(a,s);var b=Tp,S=Nb(s.containerInfo),N=b.focusedElem,A=b.selectionRange;if(S!==N&&N&&N.ownerDocument&&Eb(N.ownerDocument.documentElement,N)){if(A!==null&&Qf(N)){var I=A.start,W=A.end;if(W===void 0&&(W=I),"selectionStart"in N)N.selectionStart=I,N.selectionEnd=Math.min(W,N.value.length);else{var Q=N.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var H=z.getSelection(),ue=N.textContent.length,ve=Math.min(A.start,ue),Qe=A.end===void 0?ve:Math.min(A.end,ue);!H.extend&&ve>Qe&&(S=Qe,Qe=ve,ve=S);var j=kb(N,ve),_=kb(N,Qe);if(j&&_&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==_.node||H.focusOffset!==_.offset)){var L=Q.createRange();L.setStart(j.node,j.offset),H.removeAllRanges(),ve>Qe?(H.addRange(L),H.extend(_.node,_.offset)):(L.setEnd(_.node,_.offset),H.addRange(L))}}}}for(Q=[],H=N;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<Q.length;N++){var J=Q[N];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Cu=!!Cp,Tp=Cp=null}finally{$e=m,V.p=d,O.T=c}}s.current=a,Nt=2}}function Ux(){if(Nt===2){Nt=0;var s=ws,a=Ra,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=O.T,O.T=null;var d=V.p;V.p=2;var m=$e;$e|=4;try{px(s,a.alternate,a)}finally{$e=m,V.p=d,O.T=c}}Nt=3}}function Hx(){if(Nt===4||Nt===3){Nt=0,ui();var s=ws,a=Ra,c=Ir,d=Tx;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Nt=5:(Nt=0,Ra=ws=null,Vx(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Ss=null),jf(c),a=a.stateNode,mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(vo,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=O.T,m=V.p,V.p=2,O.T=null;try{for(var b=s.onRecoverableError,S=0;S<d.length;S++){var N=d[S];b(N.value,{componentStack:N.stack})}}finally{O.T=a,V.p=m}}(Ir&3)!==0&&pu(),dr(s),m=s.pendingLanes,(c&261930)!==0&&(m&42)!==0?s===hp?tl++:(tl=0,hp=s):tl=0,nl(0)}}function Vx(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Io(a)))}function pu(){return Bx(),Ux(),Hx(),$x()}function $x(){if(Nt!==5)return!1;var s=ws,a=dp;dp=0;var c=jf(Ir),d=O.T,m=V.p;try{V.p=32>c?32:c,O.T=null,c=fp,fp=null;var b=ws,S=Ir;if(Nt=0,Ra=ws=null,Ir=0,($e&6)!==0)throw Error(r(331));var N=$e;if($e|=4,Ex(b.current),Sx(b,b.current,S,c),$e=N,nl(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(vo,b)}catch{}return!0}finally{V.p=m,O.T=d,Vx(s,a)}}function qx(s,a,c){a=Rn(c,a),a=Fh(s.stateNode,a,2),s=ms(s,a,2),s!==null&&(wo(s,2),dr(s))}function Ke(s,a,c){if(s.tag===3)qx(s,s,c);else for(;a!==null;){if(a.tag===3){qx(a,s,c);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ss===null||!Ss.has(d))){s=Rn(c,s),c=F0(2),d=ms(a,c,2),d!==null&&(G0(c,d,a,s),wo(d,2),dr(d));break}}a=a.return}}function gp(s,a,c){var d=s.pingCache;if(d===null){d=s.pingCache=new vT;var m=new Set;d.set(a,m)}else m=d.get(a),m===void 0&&(m=new Set,d.set(a,m));m.has(c)||(lp=!0,m.add(c),s=NT.bind(null,s,a,c),a.then(s,s))}function NT(s,a,c){var d=s.pingCache;d!==null&&d.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,et===s&&(Ie&c)===c&&(pt===4||pt===3&&(Ie&62914560)===Ie&&300>Dt()-lu?($e&2)===0&&ja(s,0):cp|=c,_a===Ie&&(_a=0)),dr(s)}function Fx(s,a){a===0&&(a=By()),s=gi(s,a),s!==null&&(wo(s,a),dr(s))}function CT(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Fx(s,c)}function TT(s,a){var c=0;switch(s.tag){case 31:case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(a),Fx(s,c)}function AT(s,a){return Jn(s,a)}var mu=null,La=null,yp=!1,gu=!1,bp=!1,Es=0;function dr(s){s!==La&&s.next===null&&(La===null?mu=La=s:La=La.next=s),gu=!0,yp||(yp=!0,OT())}function nl(s,a){if(!bp&&gu){bp=!0;do for(var c=!1,d=mu;d!==null;){if(s!==0){var m=d.pendingLanes;if(m===0)var b=0;else{var S=d.suspendedLanes,N=d.pingedLanes;b=(1<<31-gn(42|s)+1)-1,b&=m&~(S&~N),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,Yx(d,b))}else b=Ie,b=vc(d,d===et?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||So(d,b)||(c=!0,Yx(d,b));d=d.next}while(c);bp=!1}}function MT(){Gx()}function Gx(){gu=yp=!1;var s=0;Es!==0&&UT()&&(s=Es);for(var a=Dt(),c=null,d=mu;d!==null;){var m=d.next,b=Kx(d,a);b===0?(d.next=null,c===null?mu=m:c.next=m,m===null&&(La=c)):(c=d,(s!==0||(b&3)!==0)&&(gu=!0)),d=m}Nt!==0&&Nt!==5||nl(s),Es!==0&&(Es=0)}function Kx(s,a){for(var c=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var S=31-gn(b),N=1<<S,A=m[S];A===-1?((N&c)===0||(N&d)!==0)&&(m[S]=n2(N,a)):A<=a&&(s.expiredLanes|=N),b&=~N}if(a=et,c=Ie,c=vc(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,c===0||s===a&&(Ge===2||Ge===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&Xn(d),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||So(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(d!==null&&Xn(d),jf(c)){case 2:case 8:c=K;break;case 32:c=Ye;break;case 268435456:c=Py;break;default:c=Ye}return d=Wx.bind(null,s),c=Jn(c,d),s.callbackPriority=a,s.callbackNode=c,a}return d!==null&&d!==null&&Xn(d),s.callbackPriority=2,s.callbackNode=null,2}function Wx(s,a){if(Nt!==0&&Nt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(pu()&&s.callbackNode!==c)return null;var d=Ie;return d=vc(s,s===et?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(Mx(s,d,a),Kx(s,Dt()),s.callbackNode!=null&&s.callbackNode===c?Wx.bind(null,s):null)}function Yx(s,a){if(pu())return null;Mx(s,a,!0)}function OT(){VT(function(){($e&6)!==0?Jn(me,MT):Gx()})}function xp(){if(Es===0){var s=va;s===0&&(s=yc,yc<<=1,(yc&261888)===0&&(yc=256)),Es=s}return Es}function Jx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ec(""+s)}function Xx(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function _T(s,a,c,d,m){if(a==="submit"&&c&&c.stateNode===m){var b=Jx((m[rn]||null).action),S=d.submitter;S&&(a=(a=S[rn]||null)?Jx(a.formAction):S.getAttribute("formAction"),a!==null&&(b=a,S=null));var N=new Ac("action","action",null,d,m);s.push({event:N,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Es!==0){var A=S?Xx(m,S):new FormData(m);Bh(c,{pending:!0,data:A,method:m.method,action:b},null,A)}}else typeof b=="function"&&(N.preventDefault(),A=S?Xx(m,S):new FormData(m),Bh(c,{pending:!0,data:A,method:m.method,action:b},b,A))},currentTarget:m}]})}}for(var vp=0;vp<nh.length;vp++){var Sp=nh[vp],RT=Sp.toLowerCase(),jT=Sp[0].toUpperCase()+Sp.slice(1);Qn(RT,"on"+jT)}Qn(Ab,"onAnimationEnd"),Qn(Mb,"onAnimationIteration"),Qn(Ob,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(Y2,"onTransitionRun"),Qn(J2,"onTransitionStart"),Qn(X2,"onTransitionCancel"),Qn(_b,"onTransitionEnd"),aa("onMouseEnter",["mouseout","mouseover"]),aa("onMouseLeave",["mouseout","mouseover"]),aa("onPointerEnter",["pointerout","pointerover"]),aa("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function Qx(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var d=s[c],m=d.event;d=d.listeners;e:{var b=void 0;if(a)for(var S=d.length-1;0<=S;S--){var N=d[S],A=N.instance,I=N.currentTarget;if(N=N.listener,A!==b&&m.isPropagationStopped())break e;b=N,m.currentTarget=I;try{b(m)}catch(W){_c(W)}m.currentTarget=null,b=A}else for(S=0;S<d.length;S++){if(N=d[S],A=N.instance,I=N.currentTarget,N=N.listener,A!==b&&m.isPropagationStopped())break e;b=N,m.currentTarget=I;try{b(m)}catch(W){_c(W)}m.currentTarget=null,b=A}}}}function Le(s,a){var c=a[Df];c===void 0&&(c=a[Df]=new Set);var d=s+"__bubble";c.has(d)||(Zx(a,s,2,!1),c.add(d))}function wp(s,a,c){var d=0;a&&(d|=4),Zx(c,s,d,a)}var yu="_reactListening"+Math.random().toString(36).slice(2);function kp(s){if(!s[yu]){s[yu]=!0,Gy.forEach(function(c){c!=="selectionchange"&&(DT.has(c)||wp(c,!1,s),wp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[yu]||(a[yu]=!0,wp("selectionchange",!1,a))}}function Zx(s,a,c,d){switch(Av(a)){case 2:var m=lA;break;case 8:m=cA;break;default:m=Pp}c=m.bind(null,a,c,s),m=void 0,!$f||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(a,c,{capture:!0,passive:m}):s.addEventListener(a,c,!0):m!==void 0?s.addEventListener(a,c,{passive:m}):s.addEventListener(a,c,!1)}function Ep(s,a,c,d,m){var b=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var N=d.stateNode.containerInfo;if(N===m)break;if(S===4)for(S=d.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===m)return;S=S.return}for(;N!==null;){if(S=ra(N),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){d=b=S;continue e}N=N.parentNode}}d=d.return}sb(function(){var I=b,W=Hf(c),Q=[];e:{var z=Rb.get(s);if(z!==void 0){var H=Ac,ue=s;switch(s){case"keypress":if(Cc(c)===0)break e;case"keydown":case"keyup":H=T2;break;case"focusin":ue="focus",H=Kf;break;case"focusout":ue="blur",H=Kf;break;case"beforeblur":case"afterblur":H=Kf;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ob;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=m2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=O2;break;case Ab:case Mb:case Ob:H=b2;break;case _b:H=R2;break;case"scroll":case"scrollend":H=h2;break;case"wheel":H=D2;break;case"copy":case"cut":case"paste":H=v2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=cb;break;case"toggle":case"beforetoggle":H=I2}var ve=(a&4)!==0,Qe=!ve&&(s==="scroll"||s==="scrollend"),j=ve?z!==null?z+"Capture":null:z;ve=[];for(var _=I,L;_!==null;){var J=_;if(L=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||L===null||j===null||(J=No(_,j),J!=null&&ve.push(sl(_,J,L))),Qe)break;_=_.return}0<ve.length&&(z=new H(z,ue,null,c,W),Q.push({event:z,listeners:ve}))}}if((a&7)===0){e:{if(z=s==="mouseover"||s==="pointerover",H=s==="mouseout"||s==="pointerout",z&&c!==Uf&&(ue=c.relatedTarget||c.fromElement)&&(ra(ue)||ue[na]))break e;if((H||z)&&(z=W.window===W?W:(z=W.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ue=c.relatedTarget||c.toElement,H=I,ue=ue?ra(ue):null,ue!==null&&(Qe=o(ue),ve=ue.tag,ue!==Qe||ve!==5&&ve!==27&&ve!==6)&&(ue=null)):(H=null,ue=I),H!==ue)){if(ve=ob,J="onMouseLeave",j="onMouseEnter",_="mouse",(s==="pointerout"||s==="pointerover")&&(ve=cb,J="onPointerLeave",j="onPointerEnter",_="pointer"),Qe=H==null?z:Eo(H),L=ue==null?z:Eo(ue),z=new ve(J,_+"leave",H,c,W),z.target=Qe,z.relatedTarget=L,J=null,ra(W)===I&&(ve=new ve(j,_+"enter",ue,c,W),ve.target=L,ve.relatedTarget=Qe,J=ve),Qe=J,H&&ue)t:{for(ve=LT,j=H,_=ue,L=0,J=j;J;J=ve(J))L++;J=0;for(var ye=_;ye;ye=ve(ye))J++;for(;0<L-J;)j=ve(j),L--;for(;0<J-L;)_=ve(_),J--;for(;L--;){if(j===_||_!==null&&j===_.alternate){ve=j;break t}j=ve(j),_=ve(_)}ve=null}else ve=null;H!==null&&ev(Q,z,H,ve,!1),ue!==null&&Qe!==null&&ev(Q,Qe,ue,ve,!0)}}e:{if(z=I?Eo(I):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Be=yb;else if(mb(z))if(bb)Be=G2;else{Be=q2;var he=$2}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?I&&Bf(I.elementType)&&(Be=yb):Be=F2;if(Be&&(Be=Be(s,I))){gb(Q,Be,c,W);break e}he&&he(s,z,I),s==="focusout"&&I&&z.type==="number"&&I.memoizedProps.value!=null&&Pf(z,"number",z.value)}switch(he=I?Eo(I):window,s){case"focusin":(mb(he)||he.contentEditable==="true")&&(fa=he,Zf=I,jo=null);break;case"focusout":jo=Zf=fa=null;break;case"mousedown":eh=!0;break;case"contextmenu":case"mouseup":case"dragend":eh=!1,Cb(Q,c,W);break;case"selectionchange":if(W2)break;case"keydown":case"keyup":Cb(Q,c,W)}var Oe;if(Yf)e:{switch(s){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else da?hb(s,c)&&(ze="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(ze="onCompositionStart");ze&&(ub&&c.locale!=="ko"&&(da||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&da&&(Oe=ib()):(ls=W,qf="value"in ls?ls.value:ls.textContent,da=!0)),he=bu(I,ze),0<he.length&&(ze=new lb(ze,s,null,c,W),Q.push({event:ze,listeners:he}),Oe?ze.data=Oe:(Oe=pb(c),Oe!==null&&(ze.data=Oe)))),(Oe=P2?B2(s,c):U2(s,c))&&(ze=bu(I,"onBeforeInput"),0<ze.length&&(he=new lb("onBeforeInput","beforeinput",null,c,W),Q.push({event:he,listeners:ze}),he.data=Oe)),_T(Q,s,I,c,W)}Qx(Q,a)})}function sl(s,a,c){return{instance:s,listener:a,currentTarget:c}}function bu(s,a){for(var c=a+"Capture",d=[];s!==null;){var m=s,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=No(s,c),m!=null&&d.unshift(sl(s,m,b)),m=No(s,a),m!=null&&d.push(sl(s,m,b))),s.tag===3)return d;s=s.return}return[]}function LT(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function ev(s,a,c,d,m){for(var b=a._reactName,S=[];c!==null&&c!==d;){var N=c,A=N.alternate,I=N.stateNode;if(N=N.tag,A!==null&&A===d)break;N!==5&&N!==26&&N!==27||I===null||(A=I,m?(I=No(c,b),I!=null&&S.unshift(sl(c,I,A))):m||(I=No(c,b),I!=null&&S.push(sl(c,I,A)))),c=c.return}S.length!==0&&s.push({event:a,listeners:S})}var IT=/\r\n?/g,zT=/\u0000|\uFFFD/g;function tv(s){return(typeof s=="string"?s:""+s).replace(IT,`
`).replace(zT,"")}function nv(s,a){return a=tv(a),tv(s)===a}function Xe(s,a,c,d,m,b){switch(c){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||la(s,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&la(s,""+d);break;case"className":wc(s,"class",d);break;case"tabIndex":wc(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":wc(s,c,d);break;case"style":nb(s,d,b);break;case"data":if(a!=="object"){wc(s,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=Ec(""+d),s.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(a!=="input"&&Xe(s,a,"name",m.name,m,null),Xe(s,a,"formEncType",m.formEncType,m,null),Xe(s,a,"formMethod",m.formMethod,m,null),Xe(s,a,"formTarget",m.formTarget,m,null)):(Xe(s,a,"encType",m.encType,m,null),Xe(s,a,"method",m.method,m,null),Xe(s,a,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(c);break}d=Ec(""+d),s.setAttribute(c,d);break;case"onClick":d!=null&&(s.onclick=Sr);break;case"onScroll":d!=null&&Le("scroll",s);break;case"onScrollEnd":d!=null&&Le("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}c=Ec(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""+d):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":d===!0?s.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(c,d):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(c,d):s.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(c):s.setAttribute(c,d);break;case"popover":Le("beforetoggle",s),Le("toggle",s),Sc(s,"popover",d);break;case"xlinkActuate":vr(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":vr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":vr(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":vr(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":vr(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":vr(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":vr(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":vr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":vr(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Sc(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=d2.get(c)||c,Sc(s,c,d))}}function Np(s,a,c,d,m,b){switch(c){case"style":nb(s,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof d=="string"?la(s,d):(typeof d=="number"||typeof d=="bigint")&&la(s,""+d);break;case"onScroll":d!=null&&Le("scroll",s);break;case"onScrollEnd":d!=null&&Le("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ky.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),a=c.slice(2,m?c.length-7:void 0),b=s[rn]||null,b=b!=null?b[c]:null,typeof b=="function"&&s.removeEventListener(a,b,m),typeof d=="function")){typeof b!="function"&&b!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,d,m);break e}c in s?s[c]=d:d===!0?s.setAttribute(c,""):Sc(s,c,d)}}}function Bt(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",s),Le("load",s);var d=!1,m=!1,b;for(b in c)if(c.hasOwnProperty(b)){var S=c[b];if(S!=null)switch(b){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Xe(s,a,b,S,c,null)}}m&&Xe(s,a,"srcSet",c.srcSet,c,null),d&&Xe(s,a,"src",c.src,c,null);return;case"input":Le("invalid",s);var N=b=S=m=null,A=null,I=null;for(d in c)if(c.hasOwnProperty(d)){var W=c[d];if(W!=null)switch(d){case"name":m=W;break;case"type":S=W;break;case"checked":A=W;break;case"defaultChecked":I=W;break;case"value":b=W;break;case"defaultValue":N=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,a));break;default:Xe(s,a,d,W,c,null)}}Qy(s,b,N,A,I,S,m,!1);return;case"select":Le("invalid",s),d=S=b=null;for(m in c)if(c.hasOwnProperty(m)&&(N=c[m],N!=null))switch(m){case"value":b=N;break;case"defaultValue":S=N;break;case"multiple":d=N;default:Xe(s,a,m,N,c,null)}a=b,c=S,s.multiple=!!d,a!=null?oa(s,!!d,a,!1):c!=null&&oa(s,!!d,c,!0);return;case"textarea":Le("invalid",s),b=m=d=null;for(S in c)if(c.hasOwnProperty(S)&&(N=c[S],N!=null))switch(S){case"value":d=N;break;case"defaultValue":m=N;break;case"children":b=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:Xe(s,a,S,N,c,null)}eb(s,d,m,b);return;case"option":for(A in c)c.hasOwnProperty(A)&&(d=c[A],d!=null)&&(A==="selected"?s.selected=d&&typeof d!="function"&&typeof d!="symbol":Xe(s,a,A,d,c,null));return;case"dialog":Le("beforetoggle",s),Le("toggle",s),Le("cancel",s),Le("close",s);break;case"iframe":case"object":Le("load",s);break;case"video":case"audio":for(d=0;d<rl.length;d++)Le(rl[d],s);break;case"image":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"embed":case"source":case"link":Le("error",s),Le("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in c)if(c.hasOwnProperty(I)&&(d=c[I],d!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Xe(s,a,I,d,c,null)}return;default:if(Bf(a)){for(W in c)c.hasOwnProperty(W)&&(d=c[W],d!==void 0&&Np(s,a,W,d,c,void 0));return}}for(N in c)c.hasOwnProperty(N)&&(d=c[N],d!=null&&Xe(s,a,N,d,c,null))}function PT(s,a,c,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,S=null,N=null,A=null,I=null,W=null;for(H in c){var Q=c[H];if(c.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":A=Q;default:d.hasOwnProperty(H)||Xe(s,a,H,null,d,Q)}}for(var z in d){var H=d[z];if(Q=c[z],d.hasOwnProperty(z)&&(H!=null||Q!=null))switch(z){case"type":b=H;break;case"name":m=H;break;case"checked":I=H;break;case"defaultChecked":W=H;break;case"value":S=H;break;case"defaultValue":N=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,a));break;default:H!==Q&&Xe(s,a,z,H,d,Q)}}zf(s,S,N,A,I,W,b,m);return;case"select":H=S=N=z=null;for(b in c)if(A=c[b],c.hasOwnProperty(b)&&A!=null)switch(b){case"value":break;case"multiple":H=A;default:d.hasOwnProperty(b)||Xe(s,a,b,null,d,A)}for(m in d)if(b=d[m],A=c[m],d.hasOwnProperty(m)&&(b!=null||A!=null))switch(m){case"value":z=b;break;case"defaultValue":N=b;break;case"multiple":S=b;default:b!==A&&Xe(s,a,m,b,d,A)}a=N,c=S,d=H,z!=null?oa(s,!!c,z,!1):!!d!=!!c&&(a!=null?oa(s,!!c,a,!0):oa(s,!!c,c?[]:"",!1));return;case"textarea":H=z=null;for(N in c)if(m=c[N],c.hasOwnProperty(N)&&m!=null&&!d.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Xe(s,a,N,null,d,m)}for(S in d)if(m=d[S],b=c[S],d.hasOwnProperty(S)&&(m!=null||b!=null))switch(S){case"value":z=m;break;case"defaultValue":H=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==b&&Xe(s,a,S,m,d,b)}Zy(s,z,H);return;case"option":for(var ue in c)z=c[ue],c.hasOwnProperty(ue)&&z!=null&&!d.hasOwnProperty(ue)&&(ue==="selected"?s.selected=!1:Xe(s,a,ue,null,d,z));for(A in d)z=d[A],H=c[A],d.hasOwnProperty(A)&&z!==H&&(z!=null||H!=null)&&(A==="selected"?s.selected=z&&typeof z!="function"&&typeof z!="symbol":Xe(s,a,A,z,d,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in c)z=c[ve],c.hasOwnProperty(ve)&&z!=null&&!d.hasOwnProperty(ve)&&Xe(s,a,ve,null,d,z);for(I in d)if(z=d[I],H=c[I],d.hasOwnProperty(I)&&z!==H&&(z!=null||H!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,a));break;default:Xe(s,a,I,z,d,H)}return;default:if(Bf(a)){for(var Qe in c)z=c[Qe],c.hasOwnProperty(Qe)&&z!==void 0&&!d.hasOwnProperty(Qe)&&Np(s,a,Qe,void 0,d,z);for(W in d)z=d[W],H=c[W],!d.hasOwnProperty(W)||z===H||z===void 0&&H===void 0||Np(s,a,W,z,d,H);return}}for(var j in c)z=c[j],c.hasOwnProperty(j)&&z!=null&&!d.hasOwnProperty(j)&&Xe(s,a,j,null,d,z);for(Q in d)z=d[Q],H=c[Q],!d.hasOwnProperty(Q)||z===H||z==null&&H==null||Xe(s,a,Q,z,d,H)}function rv(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BT(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),d=0;d<c.length;d++){var m=c[d],b=m.transferSize,S=m.initiatorType,N=m.duration;if(b&&N&&rv(S)){for(S=0,N=m.responseEnd,d+=1;d<c.length;d++){var A=c[d],I=A.startTime;if(I>N)break;var W=A.transferSize,Q=A.initiatorType;W&&rv(Q)&&(A=A.responseEnd,S+=W*(A<N?1:(N-I)/(A-I)))}if(--d,a+=8*(b+S)/(m.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Cp=null,Tp=null;function xu(s){return s.nodeType===9?s:s.ownerDocument}function sv(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Ap(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Mp=null;function UT(){var s=window.event;return s&&s.type==="popstate"?s===Mp?!1:(Mp=s,!0):(Mp=null,!1)}var av=typeof setTimeout=="function"?setTimeout:void 0,HT=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,VT=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(s){return ov.resolve(null).then(s).catch($T)}:av;function $T(s){setTimeout(function(){throw s})}function Ns(s){return s==="head"}function lv(s,a){var c=a,d=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"||c==="/&"){if(d===0){s.removeChild(m),Ba(a);return}d--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")d++;else if(c==="html")il(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,il(c);for(var b=c.firstChild;b;){var S=b.nextSibling,N=b.nodeName;b[ko]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=S}}else c==="body"&&il(s.ownerDocument.body);c=m}while(c);Ba(a)}function cv(s,a){var c=s;s=0;do{var d=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),d&&d.nodeType===8)if(c=d.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=d}while(c)}function Op(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Op(c),Lf(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function qT(s,a,c,d){for(;s.nodeType===1;){var m=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[ko])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=zn(s.nextSibling),s===null)break}return null}function FT(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=zn(s.nextSibling),s===null))return null;return s}function uv(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=zn(s.nextSibling),s===null))return null;return s}function _p(s){return s.data==="$?"||s.data==="$~"}function Rp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function GT(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var d=function(){a(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function zn(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var jp=null;function dv(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return zn(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function fv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function hv(s,a,c){switch(a=xu(c),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function il(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Lf(s)}var Pn=new Map,pv=new Set;function vu(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var zr=V.d;V.d={f:KT,r:WT,D:YT,C:JT,L:XT,m:QT,X:eA,S:ZT,M:tA};function KT(){var s=zr.f(),a=du();return s||a}function WT(s){var a=sa(s);a!==null&&a.tag===5&&a.type==="form"?_0(a):zr.r(s)}var Ia=typeof document>"u"?null:document;function mv(s,a,c){var d=Ia;if(d&&typeof a=="string"&&a){var m=On(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),pv.has(m)||(pv.add(m),s={rel:s,crossOrigin:c,href:a},d.querySelector(m)===null&&(a=d.createElement("link"),Bt(a,"link",s),At(a),d.head.appendChild(a)))}}function YT(s){zr.D(s),mv("dns-prefetch",s,null)}function JT(s,a){zr.C(s,a),mv("preconnect",s,a)}function XT(s,a,c){zr.L(s,a,c);var d=Ia;if(d&&s&&a){var m='link[rel="preload"][as="'+On(a)+'"]';a==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+On(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+On(c.imageSizes)+'"]')):m+='[href="'+On(s)+'"]';var b=m;switch(a){case"style":b=za(s);break;case"script":b=Pa(s)}Pn.has(b)||(s=y({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),Pn.set(b,s),d.querySelector(m)!==null||a==="style"&&d.querySelector(al(b))||a==="script"&&d.querySelector(ol(b))||(a=d.createElement("link"),Bt(a,"link",s),At(a),d.head.appendChild(a)))}}function QT(s,a){zr.m(s,a);var c=Ia;if(c&&s){var d=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+On(d)+'"][href="'+On(s)+'"]',b=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Pa(s)}if(!Pn.has(b)&&(s=y({rel:"modulepreload",href:s},a),Pn.set(b,s),c.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(ol(b)))return}d=c.createElement("link"),Bt(d,"link",s),At(d),c.head.appendChild(d)}}}function ZT(s,a,c){zr.S(s,a,c);var d=Ia;if(d&&s){var m=ia(d).hoistableStyles,b=za(s);a=a||"default";var S=m.get(b);if(!S){var N={loading:0,preload:null};if(S=d.querySelector(al(b)))N.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},c),(c=Pn.get(b))&&Dp(s,c);var A=S=d.createElement("link");At(A),Bt(A,"link",s),A._p=new Promise(function(I,W){A.onload=I,A.onerror=W}),A.addEventListener("load",function(){N.loading|=1}),A.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Su(S,a,d)}S={type:"stylesheet",instance:S,count:1,state:N},m.set(b,S)}}}function eA(s,a){zr.X(s,a);var c=Ia;if(c&&s){var d=ia(c).hoistableScripts,m=Pa(s),b=d.get(m);b||(b=c.querySelector(ol(m)),b||(s=y({src:s,async:!0},a),(a=Pn.get(m))&&Lp(s,a),b=c.createElement("script"),At(b),Bt(b,"link",s),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(m,b))}}function tA(s,a){zr.M(s,a);var c=Ia;if(c&&s){var d=ia(c).hoistableScripts,m=Pa(s),b=d.get(m);b||(b=c.querySelector(ol(m)),b||(s=y({src:s,async:!0,type:"module"},a),(a=Pn.get(m))&&Lp(s,a),b=c.createElement("script"),At(b),Bt(b,"link",s),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(m,b))}}function gv(s,a,c,d){var m=(m=Ce.current)?vu(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=za(c.href),c=ia(m).hoistableStyles,d=c.get(a),d||(d={type:"style",instance:null,count:0,state:null},c.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=za(c.href);var b=ia(m).hoistableStyles,S=b.get(s);if(S||(m=m.ownerDocument||m,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,S),(b=m.querySelector(al(s)))&&!b._p&&(S.instance=b,S.state.loading=5),Pn.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Pn.set(s,c),b||nA(m,s,c,S.state))),a&&d===null)throw Error(r(528,""));return S}if(a&&d!==null)throw Error(r(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Pa(c),c=ia(m).hoistableScripts,d=c.get(a),d||(d={type:"script",instance:null,count:0,state:null},c.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function za(s){return'href="'+On(s)+'"'}function al(s){return'link[rel="stylesheet"]['+s+"]"}function yv(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function nA(s,a,c,d){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=s.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),Bt(a,"link",c),At(a),s.head.appendChild(a))}function Pa(s){return'[src="'+On(s)+'"]'}function ol(s){return"script[async]"+s}function bv(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var d=s.querySelector('style[data-href~="'+On(c.href)+'"]');if(d)return a.instance=d,At(d),d;var m=y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),At(d),Bt(d,"style",m),Su(d,c.precedence,s),a.instance=d;case"stylesheet":m=za(c.href);var b=s.querySelector(al(m));if(b)return a.state.loading|=4,a.instance=b,At(b),b;d=yv(c),(m=Pn.get(m))&&Dp(d,m),b=(s.ownerDocument||s).createElement("link"),At(b);var S=b;return S._p=new Promise(function(N,A){S.onload=N,S.onerror=A}),Bt(b,"link",d),a.state.loading|=4,Su(b,c.precedence,s),a.instance=b;case"script":return b=Pa(c.src),(m=s.querySelector(ol(b)))?(a.instance=m,At(m),m):(d=c,(m=Pn.get(b))&&(d=y({},c),Lp(d,m)),s=s.ownerDocument||s,m=s.createElement("script"),At(m),Bt(m,"link",d),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Su(d,c.precedence,s));return a.instance}function Su(s,a,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,b=m,S=0;S<d.length;S++){var N=d[S];if(N.dataset.precedence===a)b=N;else if(b!==m)break}b?b.parentNode.insertBefore(s,b.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function Dp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Lp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var wu=null;function xv(s,a,c){if(wu===null){var d=new Map,m=wu=new Map;m.set(c,d)}else m=wu,d=m.get(c),d||(d=new Map,m.set(c,d));if(d.has(s))return d;for(d.set(s,null),c=c.getElementsByTagName(s),m=0;m<c.length;m++){var b=c[m];if(!(b[ko]||b[Lt]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var S=b.getAttribute(a)||"";S=s+S;var N=d.get(S);N?N.push(b):d.set(S,[b])}}return d}function vv(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function rA(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Sv(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function sA(s,a,c,d){if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var m=za(d.href),b=a.querySelector(al(m));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=ku.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=b,At(b);return}b=a.ownerDocument||a,d=yv(d),(m=Pn.get(m))&&Dp(d,m),b=b.createElement("link"),At(b);var S=b;S._p=new Promise(function(N,A){S.onload=N,S.onerror=A}),Bt(b,"link",d),c.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=ku.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var Ip=0;function iA(s,a){return s.stylesheets&&s.count===0&&Nu(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var d=setTimeout(function(){if(s.stylesheets&&Nu(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+a);0<s.imgBytes&&Ip===0&&(Ip=62500*BT());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Nu(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>Ip?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(d),clearTimeout(m)}}:null}function ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Nu(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Eu=null;function Nu(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Eu=new Map,a.forEach(aA,s),Eu=null,ku.call(s))}function aA(s,a){if(!(a.state.loading&4)){var c=Eu.get(s);if(c)var d=c.get(null);else{c=new Map,Eu.set(s,c);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var S=m[b];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(c.set(S.dataset.precedence,S),d=S)}d&&c.set(null,d)}m=a.instance,S=m.getAttribute("data-precedence"),b=c.get(S)||d,b===d&&c.set(null,m),c.set(S,m),this.count++,d=ku.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),b?b.parentNode.insertBefore(m,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var ll={$$typeof:D,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function oA(s,a,c,d,m,b,S,N,A){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_f(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_f(0),this.hiddenUpdates=_f(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function wv(s,a,c,d,m,b,S,N,A,I,W,Q){return s=new oA(s,a,c,S,A,I,W,Q,N),a=1,b===!0&&(a|=24),b=bn(3,null,null,a),s.current=b,b.stateNode=s,a=mh(),a.refCount++,s.pooledCache=a,a.refCount++,b.memoizedState={element:d,isDehydrated:c,cache:a},xh(b),s}function kv(s){return s?(s=ma,s):ma}function Ev(s,a,c,d,m,b){m=kv(m),d.context===null?d.context=m:d.pendingContext=m,d=ps(a),d.payload={element:c},b=b===void 0?null:b,b!==null&&(d.callback=b),c=ms(s,d,a),c!==null&&(un(c,s,a),Uo(c,s,a))}function Nv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function zp(s,a){Nv(s,a),(s=s.alternate)&&Nv(s,a)}function Cv(s){if(s.tag===13||s.tag===31){var a=gi(s,67108864);a!==null&&un(a,s,67108864),zp(s,67108864)}}function Tv(s){if(s.tag===13||s.tag===31){var a=kn();a=Rf(a);var c=gi(s,a);c!==null&&un(c,s,a),zp(s,a)}}var Cu=!0;function lA(s,a,c,d){var m=O.T;O.T=null;var b=V.p;try{V.p=2,Pp(s,a,c,d)}finally{V.p=b,O.T=m}}function cA(s,a,c,d){var m=O.T;O.T=null;var b=V.p;try{V.p=8,Pp(s,a,c,d)}finally{V.p=b,O.T=m}}function Pp(s,a,c,d){if(Cu){var m=Bp(d);if(m===null)Ep(s,a,d,Tu,c),Mv(s,d);else if(dA(m,s,a,c,d))d.stopPropagation();else if(Mv(s,d),a&4&&-1<uA.indexOf(s)){for(;m!==null;){var b=sa(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var S=di(b.pendingLanes);if(S!==0){var N=b;for(N.pendingLanes|=2,N.entangledLanes|=2;S;){var A=1<<31-gn(S);N.entanglements[1]|=A,S&=~A}dr(b),($e&6)===0&&(cu=Dt()+500,nl(0))}}break;case 31:case 13:N=gi(b,2),N!==null&&un(N,b,2),du(),zp(b,2)}if(b=Bp(d),b===null&&Ep(s,a,d,Tu,c),b===m)break;m=b}m!==null&&d.stopPropagation()}else Ep(s,a,d,null,c)}}function Bp(s){return s=Hf(s),Up(s)}var Tu=null;function Up(s){if(Tu=null,s=ra(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Tu=s,null}function Av(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ee()){case me:return 2;case K:return 8;case Ye:case Jt:return 32;case Py:return 268435456;default:return 32}default:return 32}}var Hp=!1,Cs=null,Ts=null,As=null,cl=new Map,ul=new Map,Ms=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mv(s,a){switch(s){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":cl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(a.pointerId)}}function dl(s,a,c,d,m,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:c,eventSystemFlags:d,nativeEvent:b,targetContainers:[m]},a!==null&&(a=sa(a),a!==null&&Cv(a)),s):(s.eventSystemFlags|=d,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function dA(s,a,c,d,m){switch(a){case"focusin":return Cs=dl(Cs,s,a,c,d,m),!0;case"dragenter":return Ts=dl(Ts,s,a,c,d,m),!0;case"mouseover":return As=dl(As,s,a,c,d,m),!0;case"pointerover":var b=m.pointerId;return cl.set(b,dl(cl.get(b)||null,s,a,c,d,m)),!0;case"gotpointercapture":return b=m.pointerId,ul.set(b,dl(ul.get(b)||null,s,a,c,d,m)),!0}return!1}function Ov(s){var a=ra(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,qy(s.priority,function(){Tv(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,qy(s.priority,function(){Tv(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Au(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Bp(s.nativeEvent);if(c===null){c=s.nativeEvent;var d=new c.constructor(c.type,c);Uf=d,c.target.dispatchEvent(d),Uf=null}else return a=sa(c),a!==null&&Cv(a),s.blockedOn=c,!1;a.shift()}return!0}function _v(s,a,c){Au(s)&&c.delete(a)}function fA(){Hp=!1,Cs!==null&&Au(Cs)&&(Cs=null),Ts!==null&&Au(Ts)&&(Ts=null),As!==null&&Au(As)&&(As=null),cl.forEach(_v),ul.forEach(_v)}function Mu(s,a){s.blockedOn===a&&(s.blockedOn=null,Hp||(Hp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fA)))}var Ou=null;function Rv(s){Ou!==s&&(Ou=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ou===s&&(Ou=null);for(var a=0;a<s.length;a+=3){var c=s[a],d=s[a+1],m=s[a+2];if(typeof d!="function"){if(Up(d||c)===null)continue;break}var b=sa(c);b!==null&&(s.splice(a,3),a-=3,Bh(b,{pending:!0,data:m,method:c.method,action:d},d,m))}}))}function Ba(s){function a(A){return Mu(A,s)}Cs!==null&&Mu(Cs,s),Ts!==null&&Mu(Ts,s),As!==null&&Mu(As,s),cl.forEach(a),ul.forEach(a);for(var c=0;c<Ms.length;c++){var d=Ms[c];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Ms.length&&(c=Ms[0],c.blockedOn===null);)Ov(c),c.blockedOn===null&&Ms.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var m=c[d],b=c[d+1],S=m[rn]||null;if(typeof b=="function")S||Rv(c);else if(S){var N=null;if(b&&b.hasAttribute("formAction")){if(m=b,S=b[rn]||null)N=S.formAction;else if(Up(m)!==null)continue}else N=S.action;typeof N=="function"?c[d+1]=N:(c.splice(d,3),d-=3),Rv(c)}}}function jv(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(S){return m=S})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),d||setTimeout(c,20)}function c(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){d=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function Vp(s){this._internalRoot=s}_u.prototype.render=Vp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var c=a.current,d=kn();Ev(c,d,s,a,null,null)},_u.prototype.unmount=Vp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ev(s.current,2,null,s,null,null),du(),a[na]=null}};function _u(s){this._internalRoot=s}_u.prototype.unstable_scheduleHydration=function(s){if(s){var a=$y();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Ms.length&&a!==0&&a<Ms[c].priority;c++);Ms.splice(c,0,s),c===0&&Ov(s)}};var Dv=e.version;if(Dv!=="19.2.3")throw Error(r(527,Dv,"19.2.3"));V.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var hA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{vo=Ru.inject(hA),mn=Ru}catch{}}return hl.createRoot=function(s,a){if(!i(s))throw Error(r(299));var c=!1,d="",m=H0,b=V0,S=$0;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),a=wv(s,1,!1,null,null,c,d,null,m,b,S,jv),s[na]=a.current,kp(s),new Vp(a)},hl.hydrateRoot=function(s,a,c){if(!i(s))throw Error(r(299));var d=!1,m="",b=H0,S=V0,N=$0,A=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError),c.formState!==void 0&&(A=c.formState)),a=wv(s,1,!0,a,c??null,d,m,A,b,S,N,jv),a.context=kv(null),c=a.current,d=kn(),d=Rf(d),m=ps(d),m.callback=null,ms(c,m,d),c=d,a.current.lanes=c,wo(a,c),dr(a),s[na]=a.current,kp(s),new _u(a)},hl.version="19.2.3",hl}var qv;function wA(){if(qv)return Fp.exports;qv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fp.exports=SA(),Fp.exports}var kA=wA();var Fv="popstate";function EA(t={}){function e(r,i){let{pathname:o,search:l,hash:u}=r.location;return Pm("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Bl(i)}return CA(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NA(){return Math.random().toString(36).substring(2,10)}function Gv(t,e){return{usr:t.state,key:t.key,idx:e}}function Pm(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?uo(e):e,state:n,key:e&&e.key||r||NA()}}function Bl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function uo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function CA(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",f=null,h=g();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function g(){return(l.state||{idx:null}).idx}function y(){u="POP";let k=g(),C=k==null?null:k-h;h=k,f&&f({action:u,location:E.location,delta:C})}function x(k,C){u="PUSH";let R=Pm(E.location,k,C);h=g()+1;let D=Gv(R,h),$=E.createHref(R);try{l.pushState(D,"",$)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign($)}o&&f&&f({action:u,location:E.location,delta:1})}function v(k,C){u="REPLACE";let R=Pm(E.location,k,C);h=g();let D=Gv(R,h),$=E.createHref(R);l.replaceState(D,"",$),o&&f&&f({action:u,location:E.location,delta:0})}function w(k){return TA(k)}let E={get action(){return u},get location(){return t(i,l)},listen(k){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Fv,y),f=k,()=>{i.removeEventListener(Fv,y),f=null}},createHref(k){return e(i,k)},createURL:w,encodeLocation(k){let C=w(k);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:v,go(k){return l.go(k)}};return E}function TA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Bl(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function kw(t,e,n="/"){return AA(t,e,n,!1)}function AA(t,e,n,r){let i=typeof e=="string"?uo(e):e,o=Qr(i.pathname||"/",n);if(o==null)return null;let l=Ew(t);MA(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=UA(o);u=PA(l[f],h,r)}return u}function Ew(t,e=[],n=[],r="",i=!1){let o=(l,u,f=i,h)=>{let g={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;ct(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let y=Wr([r,g.relativePath]),x=n.concat(g);l.children&&l.children.length>0&&(ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Ew(l.children,e,x,y,f)),!(l.path==null&&!l.index)&&e.push({path:y,score:IA(y,l.index),routesMeta:x})};return t.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let f of Nw(l.path))o(l,u,!0,f)}),e}function Nw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=Nw(r.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),i&&u.push(...l),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function MA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:zA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var OA=/^:[\w-]+$/,_A=3,RA=2,jA=1,DA=10,LA=-2,Kv=t=>t==="*";function IA(t,e){let n=t.split("/"),r=n.length;return n.some(Kv)&&(r+=LA),e&&(r+=RA),n.filter(i=>!Kv(i)).reduce((i,o)=>i+(OA.test(o)?_A:o===""?jA:DA),r)}function zA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function PA(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],h=u===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",y=od({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),x=f.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=od({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:Wr([o,y.pathname]),pathnameBase:qA(Wr([o,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(o=Wr([o,y.pathnameBase]))}return l}function od(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=BA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:g,isOptional:y},x)=>{if(g==="*"){let w=u[x]||"";l=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const v=u[x];return y&&!v?h[g]=void 0:h[g]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function BA(t,e=!1,n=!0){Gn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function UA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var Cw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HA=t=>Cw.test(t);function VA(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?uo(t):t,o;if(n)if(HA(n))o=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Gn(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${n}`)}n.startsWith("/")?o=Wv(n.substring(1),"/"):o=Wv(n,e)}else o=e;return{pathname:o,search:FA(r),hash:GA(i)}}function Wv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Yp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $A(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _g(t){let e=$A(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Rg(t,e,n,r=!1){let i;typeof t=="string"?i=uo(t):(i={...t},ct(!i.pathname||!i.pathname.includes("?"),Yp("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),Yp("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),Yp("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),y-=1;i.pathname=x.join("/")}u=y>=0?e[y]:"/"}let f=VA(i,u),h=l&&l!=="/"&&l.endsWith("/"),g=(o||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var Wr=t=>t.join("/").replace(/\/\/+/g,"/"),qA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,KA=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function WA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function YA(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Tw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Aw(t,e){let n=t;if(typeof n!="string"||!Cw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Tw)try{let o=new URL(window.location.href),l=n.startsWith("//")?new URL(o.protocol+n):new URL(n),u=Qr(l.pathname,e);l.origin===o.origin&&u!=null?n=u+l.search+l.hash:i=!0}catch{Gn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Mw=["POST","PUT","PATCH","DELETE"];new Set(Mw);var JA=["GET",...Mw];new Set(JA);var fo=T.createContext(null);fo.displayName="DataRouter";var uf=T.createContext(null);uf.displayName="DataRouterState";var XA=T.createContext(!1),Ow=T.createContext({isTransitioning:!1});Ow.displayName="ViewTransition";var QA=T.createContext(new Map);QA.displayName="Fetchers";var ZA=T.createContext(null);ZA.displayName="Await";var Cn=T.createContext(null);Cn.displayName="Navigation";var rc=T.createContext(null);rc.displayName="Location";var Wn=T.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var jg=T.createContext(null);jg.displayName="RouteError";var _w="REACT_ROUTER_ERROR",eM="REDIRECT",tM="ROUTE_ERROR_RESPONSE";function nM(t){if(t.startsWith(`${_w}:${eM}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function rM(t){if(t.startsWith(`${_w}:${tM}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new KA(e.status,e.statusText,e.data)}catch{}}function sM(t,{relative:e}={}){ct(ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(Cn),{hash:i,pathname:o,search:l}=sc(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Wr([n,o])),r.createHref({pathname:u,search:l,hash:i})}function ho(){return T.useContext(rc)!=null}function ar(){return ct(ho(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(rc).location}var Rw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jw(t){T.useContext(Cn).static||T.useLayoutEffect(t)}function Xi(){let{isDataRoute:t}=T.useContext(Wn);return t?xM():iM()}function iM(){ct(ho(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(fo),{basename:e,navigator:n}=T.useContext(Cn),{matches:r}=T.useContext(Wn),{pathname:i}=ar(),o=JSON.stringify(_g(r)),l=T.useRef(!1);return jw(()=>{l.current=!0}),T.useCallback((f,h={})=>{if(Gn(l.current,Rw),!l.current)return;if(typeof f=="number"){n.go(f);return}let g=Rg(f,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Wr([e,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[e,n,o,i,t])}var aM=T.createContext(null);function oM(t){let e=T.useContext(Wn).outlet;return T.useMemo(()=>e&&T.createElement(aM.Provider,{value:t},e),[e,t])}function Dw(){let{matches:t}=T.useContext(Wn),e=t[t.length-1];return e?e.params:{}}function sc(t,{relative:e}={}){let{matches:n}=T.useContext(Wn),{pathname:r}=ar(),i=JSON.stringify(_g(n));return T.useMemo(()=>Rg(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function lM(t,e){return Lw(t,e)}function Lw(t,e,n,r,i){ct(ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=T.useContext(Cn),{matches:l}=T.useContext(Wn),u=l[l.length-1],f=u?u.params:{},h=u?u.pathname:"/",g=u?u.pathnameBase:"/",y=u&&u.route;{let R=y&&y.path||"";zw(h,!y||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let x=ar(),v;if(e){let R=typeof e=="string"?uo(e):e;ct(g==="/"||R.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${R.pathname}" was given in the \`location\` prop.`),v=R}else v=x;let w=v.pathname||"/",E=w;if(g!=="/"){let R=g.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(R.length).join("/")}let k=kw(t,{pathname:E});Gn(y||k!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Gn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=hM(k&&k.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:Wr([g,o.encodeLocation?o.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:Wr([g,o.encodeLocation?o.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),l,n,r,i);return e&&C?T.createElement(rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},C):C}function cM(){let t=bM(),e=WA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:o},"ErrorBoundary")," or"," ",T.createElement("code",{style:o},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,l)}var uM=T.createElement(cM,null),Iw=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=rM(t.digest);n&&(t=n)}let e=t!==void 0?T.createElement(Wn.Provider,{value:this.props.routeContext},T.createElement(jg.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?T.createElement(dM,{error:t},e):e}};Iw.contextType=XA;var Jp=new WeakMap;function dM({children:t,error:e}){let{basename:n}=T.useContext(Cn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=nM(e.digest);if(r){let i=Jp.get(e);if(i)throw i;let o=Aw(r.location,n);if(Tw&&!Jp.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw Jp.set(e,l),l}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function fM({routeContext:t,match:e,children:n}){let r=T.useContext(fo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Wn.Provider,{value:t},n)}function hM(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=n?.errors;if(l!=null){let g=o.findIndex(y=>y.route.id&&l?.[y.route.id]!==void 0);ct(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let u=!1,f=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:x,errors:v}=n,w=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!v||v[y.route.id]===void 0);if(y.route.lazy||w){u=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let h=n&&r?(g,y)=>{r(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:YA(n.matches),errorInfo:y})}:void 0;return o.reduceRight((g,y,x)=>{let v,w=!1,E=null,k=null;n&&(v=l&&y.route.id?l[y.route.id]:void 0,E=y.route.errorElement||uM,u&&(f<0&&x===0?(zw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,k=null):f===x&&(w=!0,k=y.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,x+1)),R=()=>{let D;return v?D=E:w?D=k:y.route.Component?D=T.createElement(y.route.Component,null):y.route.element?D=y.route.element:D=g,T.createElement(fM,{match:y,routeContext:{outlet:g,matches:C,isDataRoute:n!=null},children:D})};return n&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?T.createElement(Iw,{location:n.location,revalidation:n.revalidation,component:E,error:v,children:R(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:h}):R()},null)}function Dg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pM(t){let e=T.useContext(fo);return ct(e,Dg(t)),e}function mM(t){let e=T.useContext(uf);return ct(e,Dg(t)),e}function gM(t){let e=T.useContext(Wn);return ct(e,Dg(t)),e}function Lg(t){let e=gM(t),n=e.matches[e.matches.length-1];return ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function yM(){return Lg("useRouteId")}function bM(){let t=T.useContext(jg),e=mM("useRouteError"),n=Lg("useRouteError");return t!==void 0?t:e.errors?.[n]}function xM(){let{router:t}=pM("useNavigate"),e=Lg("useNavigate"),n=T.useRef(!1);return jw(()=>{n.current=!0}),T.useCallback(async(i,o={})=>{Gn(n.current,Rw),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var Yv={};function zw(t,e,n){!e&&!Yv[t]&&(Yv[t]=!0,Gn(!1,n))}T.memo(vM);function vM({routes:t,future:e,state:n,onError:r}){return Lw(t,void 0,n,r,e)}function Pw({to:t,replace:e,state:n,relative:r}){ct(ho(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(Cn);Gn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=T.useContext(Wn),{pathname:l}=ar(),u=Xi(),f=Rg(t,_g(o),l,r==="path"),h=JSON.stringify(f);return T.useEffect(()=>{u(JSON.parse(h),{replace:e,state:n,relative:r})},[u,h,r,e,n]),null}function Bw(t){return oM(t.context)}function Ft(t){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function SM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:l}){ct(!ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=T.useMemo(()=>({basename:u,navigator:i,static:o,unstable_useTransitions:l,future:{}}),[u,i,o,l]);typeof n=="string"&&(n=uo(n));let{pathname:h="/",search:g="",hash:y="",state:x=null,key:v="default"}=n,w=T.useMemo(()=>{let E=Qr(h,u);return E==null?null:{location:{pathname:E,search:g,hash:y,state:x,key:v},navigationType:r}},[u,h,g,y,x,v,r]);return Gn(w!=null,`<Router basename="${u}"> is not able to match the URL "${h}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:T.createElement(Cn.Provider,{value:f},T.createElement(rc.Provider,{children:e,value:w}))}function wM({children:t,location:e}){return lM(Bm(t),e)}function Bm(t,e=[]){let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let o=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Bm(r.props.children,o));return}ct(r.type===Ft,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Bm(r.props.children,o)),n.push(l)}),n}var Ju="get",Xu="application/x-www-form-urlencoded";function df(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function kM(t){return df(t)&&t.tagName.toLowerCase()==="button"}function EM(t){return df(t)&&t.tagName.toLowerCase()==="form"}function NM(t){return df(t)&&t.tagName.toLowerCase()==="input"}function CM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TM(t,e){return t.button===0&&(!e||e==="_self")&&!CM(t)}var ju=null;function AM(){if(ju===null)try{new FormData(document.createElement("form"),0),ju=!1}catch{ju=!0}return ju}var MM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xp(t){return t!=null&&!MM.has(t)?(Gn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xu}"`),null):t}function OM(t,e){let n,r,i,o,l;if(EM(t)){let u=t.getAttribute("action");r=u?Qr(u,e):null,n=t.getAttribute("method")||Ju,i=Xp(t.getAttribute("enctype"))||Xu,o=new FormData(t)}else if(kM(t)||NM(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(r=f?Qr(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Ju,i=Xp(t.getAttribute("formenctype"))||Xp(u.getAttribute("enctype"))||Xu,o=new FormData(u,t),!AM()){let{name:h,type:g,value:y}=t;if(g==="image"){let x=h?`${h}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else h&&o.append(h,y)}}else{if(df(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ju,r=null,i=Xu,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ig(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _M(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Qr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function RM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DM(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await RM(o,n);return l.links?l.links():[]}return[]}));return PM(r.flat(1).filter(jM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Jv(t,e,n,r,i,o){let l=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,u=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,h)=>l(f,h)||u(f,h)):o==="data"?e.filter((f,h)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function LM(t,e,{includeHydrateFallback:n}={}){return IM(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function IM(t){return[...new Set(t)]}function zM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function PM(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(zM(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function Uw(){let t=T.useContext(fo);return Ig(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function BM(){let t=T.useContext(uf);return Ig(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zg=T.createContext(void 0);zg.displayName="FrameworkContext";function Hw(){let t=T.useContext(zg);return Ig(t,"You must render this element inside a <HydratedRouter> element"),t}function UM(t,e){let n=T.useContext(zg),[r,i]=T.useState(!1),[o,l]=T.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:y}=e,x=T.useRef(null);T.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=C=>{C.forEach(R=>{l(R.isIntersecting)})},k=new IntersectionObserver(E,{threshold:.5});return x.current&&k.observe(x.current),()=>{k.disconnect()}}},[t]),T.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let v=()=>{i(!0)},w=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,x,{}]:[o,x,{onFocus:pl(u,v),onBlur:pl(f,w),onMouseEnter:pl(h,v),onMouseLeave:pl(g,w),onTouchStart:pl(y,v)}]:[!1,x,{}]}function pl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function HM({page:t,...e}){let{router:n}=Uw(),r=T.useMemo(()=>kw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement($M,{page:t,matches:r,...e}):null}function VM(t){let{manifest:e,routeModules:n}=Hw(),[r,i]=T.useState([]);return T.useEffect(()=>{let o=!1;return DM(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function $M({page:t,matches:e,...n}){let r=ar(),{manifest:i,routeModules:o}=Hw(),{basename:l}=Uw(),{loaderData:u,matches:f}=BM(),h=T.useMemo(()=>Jv(t,e,f,i,r,"data"),[t,e,f,i,r]),g=T.useMemo(()=>Jv(t,e,f,i,r,"assets"),[t,e,f,i,r]),y=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,E=!1;if(e.forEach(C=>{let R=i.routes[C.route.id];!R||!R.hasLoader||(!h.some(D=>D.route.id===C.route.id)&&C.route.id in u&&o[C.route.id]?.shouldRevalidate||R.hasClientLoader?E=!0:w.add(C.route.id))}),w.size===0)return[];let k=_M(t,l,"data");return E&&w.size>0&&k.searchParams.set("_routes",e.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[k.pathname+k.search]},[l,u,r,i,h,e,t,o]),x=T.useMemo(()=>LM(g,i),[g,i]),v=VM(g);return T.createElement(T.Fragment,null,y.map(w=>T.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),x.map(w=>T.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),v.map(({key:w,link:E})=>T.createElement("link",{key:w,nonce:n.nonce,...E})))}function qM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var FM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FM&&(window.__reactRouterVersion="7.11.0")}catch{}function GM({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=T.useRef();i.current==null&&(i.current=EA({window:r,v5Compat:!0}));let o=i.current,[l,u]=T.useState({action:o.action,location:o.location}),f=T.useCallback(h=>{n===!1?u(h):T.startTransition(()=>u(h))},[n]);return T.useLayoutEffect(()=>o.listen(f),[o,f]),T.createElement(SM,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:n})}var Vw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ve=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:f,to:h,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x,...v},w){let{basename:E,unstable_useTransitions:k}=T.useContext(Cn),C=typeof h=="string"&&Vw.test(h),R=Aw(h,E);h=R.to;let D=sM(h,{relative:i}),[$,U,Z]=UM(r,v),q=JM(h,{replace:l,state:u,target:f,preventScrollReset:g,relative:i,viewTransition:y,unstable_defaultShouldRevalidate:x,unstable_useTransitions:k});function B(ce){e&&e(ce),ce.defaultPrevented||q(ce)}let re=T.createElement("a",{...v,...Z,href:R.absoluteURL||D,onClick:R.isExternal||o?e:B,ref:qM(w,U),target:f,"data-discover":!C&&n==="render"?"true":void 0});return $&&!C?T.createElement(T.Fragment,null,re,T.createElement(HM,{page:D})):re});Ve.displayName="Link";var KM=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:f,...h},g){let y=sc(l,{relative:h.relative}),x=ar(),v=T.useContext(uf),{navigator:w,basename:E}=T.useContext(Cn),k=v!=null&&tO(y)&&u===!0,C=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,R=x.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(R=R.toLowerCase(),D=D?D.toLowerCase():null,C=C.toLowerCase()),D&&E&&(D=Qr(D,E)||D);const $=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let U=R===C||!i&&R.startsWith(C)&&R.charAt($)==="/",Z=D!=null&&(D===C||!i&&D.startsWith(C)&&D.charAt(C.length)==="/"),q={isActive:U,isPending:Z,isTransitioning:k},B=U?e:void 0,re;typeof r=="function"?re=r(q):re=[r,U?"active":null,Z?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let ce=typeof o=="function"?o(q):o;return T.createElement(Ve,{...h,"aria-current":B,className:re,ref:g,style:ce,to:l,viewTransition:u},typeof f=="function"?f(q):f)});KM.displayName="NavLink";var WM=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=Ju,action:u,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x,...v},w)=>{let{unstable_useTransitions:E}=T.useContext(Cn),k=ZM(),C=eO(u,{relative:h}),R=l.toLowerCase()==="get"?"get":"post",D=typeof u=="string"&&Vw.test(u),$=U=>{if(f&&f(U),U.defaultPrevented)return;U.preventDefault();let Z=U.nativeEvent.submitter,q=Z?.getAttribute("formmethod")||l,B=()=>k(Z||U.currentTarget,{fetcherKey:e,method:q,navigate:n,replace:i,state:o,relative:h,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x});E&&n!==!1?T.startTransition(()=>B()):B()};return T.createElement("form",{ref:w,method:R,action:C,onSubmit:r?f:$,...v,"data-discover":!D&&t==="render"?"true":void 0})});WM.displayName="Form";function YM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $w(t){let e=T.useContext(fo);return ct(e,YM(t)),e}function JM(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let h=Xi(),g=ar(),y=sc(t,{relative:o});return T.useCallback(x=>{if(TM(x,e)){x.preventDefault();let v=n!==void 0?n:Bl(g)===Bl(y),w=()=>h(t,{replace:v,state:r,preventScrollReset:i,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u});f?T.startTransition(()=>w()):w()}},[g,h,y,n,r,e,t,i,o,l,u,f])}var XM=0,QM=()=>`__${String(++XM)}__`;function ZM(){let{router:t}=$w("useSubmit"),{basename:e}=T.useContext(Cn),n=yM(),r=t.fetch,i=t.navigate;return T.useCallback(async(o,l={})=>{let{action:u,method:f,encType:h,formData:g,body:y}=OM(o,e);if(l.navigate===!1){let x=l.fetcherKey||QM();await r(x,n,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await i(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,i,e,n])}function eO(t,{relative:e}={}){let{basename:n}=T.useContext(Cn),r=T.useContext(Wn);ct(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...sc(t||".",{relative:e})},l=ar();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(g=>g==="")){u.delete("index"),f.filter(y=>y).forEach(y=>u.append("index",y));let g=u.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Wr([n,o.pathname])),Bl(o)}function tO(t,{relative:e}={}){let n=T.useContext(Ow);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=$w("useViewTransitionState"),i=sc(t,{relative:e});if(!n.isTransitioning)return!1;let o=Qr(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Qr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return od(i.pathname,l)!=null||od(i.pathname,o)!=null}var qw=ww();const nO=Sw(qw),Fw=T.createContext(),rO=({children:t})=>{const[e,n]=T.useState(()=>localStorage.getItem("language")||"en");T.useEffect(()=>{localStorage.setItem("language",e)},[e]);const r=()=>{n(o=>o==="en"?"bn":"en")},i=(o,l={})=>typeof o=="object"?o[e]||o.en||"":o;return p.jsx(Fw.Provider,{value:{language:e,setLanguage:n,toggleLanguage:r,t:i},children:t})},Tn=()=>T.useContext(Fw),sO=()=>{};var Xv={};const Gw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],u=t[n++],f=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},Kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,u=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,g=o>>2,y=(o&3)<<4|u>>4;let x=(u&15)<<2|h>>6,v=h&63;f||(v=64,l||(x=64)),r.push(n[g],n[y],n[x],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||h==null||y==null)throw new aO;const x=o<<2|u>>4;if(r.push(x),h!==64){const v=u<<4&240|h>>2;if(r.push(v),y!==64){const w=h<<6&192|y;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oO=function(t){const e=Gw(t);return Kw.encodeByteArray(e,!0)},Ww=function(t){return oO(t).replace(/\./g,"")},Yw=function(t){try{return Kw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const cO=()=>lO().__FIREBASE_DEFAULTS__,uO=()=>{if(typeof process>"u"||typeof Xv>"u")return;const t=Xv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Yw(t[1]);return e&&JSON.parse(e)},Pg=()=>{try{return sO()||cO()||uO()||dO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fO=t=>Pg()?.emulatorHosts?.[t],Jw=()=>Pg()?.config,Xw=t=>Pg()?.[`_${t}`];class hO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function ff(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pO(t){return(await fetch(t,{credentials:"include"})).ok}const Cl={};function mO(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cl))Cl[e]?t.emulator.push(e):t.prod.push(e);return t}function gO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Qv=!1;function yO(t,e){if(typeof window>"u"||typeof document>"u"||!ff(window.location.host)||Cl[t]===e||Cl[t]||Qv)return;Cl[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=mO().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,v){x.setAttribute("width","24"),x.setAttribute("id",v),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Qv=!0,l()},x}function g(x,v){x.setAttribute("id",v),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function y(){const x=gO(r),v=n("text"),w=document.getElementById(v)||document.createElement("span"),E=n("learnmore"),k=document.getElementById(E)||document.createElement("a"),C=n("preprendIcon"),R=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const D=x.element;u(D),g(k,E);const $=h();f(R,C),D.append(R,w,k,$),document.body.appendChild(D)}o?(w.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function xO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wO(){const t=Zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kO(){try{return typeof indexedDB=="object"}catch{return!1}}function EO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const NO="FirebaseError";class ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NO,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?CO(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new ti(i,u,r)}}function CO(t,e){return t.replace(TO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const TO=/\{\$([^}]+)}/g;function AO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function to(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(Zv(o)&&Zv(l)){if(!to(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Zv(t){return t!==null&&typeof t=="object"}function ac(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function vl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function MO(t,e){const n=new OO(t,e);return n.subscribe.bind(n)}class OO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_O(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qp),i.error===void 0&&(i.error=Qp),i.complete===void 0&&(i.complete=Qp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _O(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qp(){}function xr(t){return t&&t._delegate?t._delegate:t}class no{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _i="[DEFAULT]";class RO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DO(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jO(t){return t===_i?void 0:t}function DO(t){return t.instantiationMode==="EAGER"}class LO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const IO={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},zO=tt.INFO,PO={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},BO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=PO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qw{constructor(e){this.name=e,this._logLevel=zO,this._logHandler=BO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const UO=(t,e)=>e.some(n=>t instanceof n);let e1,t1;function HO(){return e1||(e1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VO(){return t1||(t1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zw=new WeakMap,Um=new WeakMap,ek=new WeakMap,Zp=new WeakMap,Bg=new WeakMap;function $O(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Gs(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Zw.set(n,t)}).catch(()=>{}),Bg.set(e,t),e}function qO(t){if(Um.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Um.set(t,e)}let Hm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Um.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ek.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FO(t){Hm=t(Hm)}function GO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(em(this),e,...n);return ek.set(r,e.sort?e.sort():[e]),Gs(r)}:VO().includes(t)?function(...e){return t.apply(em(this),e),Gs(Zw.get(this))}:function(...e){return Gs(t.apply(em(this),e))}}function KO(t){return typeof t=="function"?GO(t):(t instanceof IDBTransaction&&qO(t),UO(t,HO())?new Proxy(t,Hm):t)}function Gs(t){if(t instanceof IDBRequest)return $O(t);if(Zp.has(t))return Zp.get(t);const e=KO(t);return e!==t&&(Zp.set(t,e),Bg.set(e,t)),e}const em=t=>Bg.get(t);function WO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),u=Gs(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Gs(l.result),f.oldVersion,f.newVersion,Gs(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const YO=["get","getKey","getAll","getAllKeys","count"],JO=["put","add","delete","clear"],tm=new Map;function n1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tm.get(e))return tm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||YO.includes(n)))return;const o=async function(l,...u){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),i&&f.done]))[0]};return tm.set(e,o),o}FO(t=>({...t,get:(e,n,r)=>n1(e,n)||t.get(e,n,r),has:(e,n)=>!!n1(e,n)||t.has(e,n)}));class XO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QO(t){return t.getComponent()?.type==="VERSION"}const Vm="@firebase/app",r1="0.14.6";const Zr=new Qw("@firebase/app"),ZO="@firebase/app-compat",e_="@firebase/analytics-compat",t_="@firebase/analytics",n_="@firebase/app-check-compat",r_="@firebase/app-check",s_="@firebase/auth",i_="@firebase/auth-compat",a_="@firebase/database",o_="@firebase/data-connect",l_="@firebase/database-compat",c_="@firebase/functions",u_="@firebase/functions-compat",d_="@firebase/installations",f_="@firebase/installations-compat",h_="@firebase/messaging",p_="@firebase/messaging-compat",m_="@firebase/performance",g_="@firebase/performance-compat",y_="@firebase/remote-config",b_="@firebase/remote-config-compat",x_="@firebase/storage",v_="@firebase/storage-compat",S_="@firebase/firestore",w_="@firebase/ai",k_="@firebase/firestore-compat",E_="firebase",N_="12.6.0";const $m="[DEFAULT]",C_={[Vm]:"fire-core",[ZO]:"fire-core-compat",[t_]:"fire-analytics",[e_]:"fire-analytics-compat",[r_]:"fire-app-check",[n_]:"fire-app-check-compat",[s_]:"fire-auth",[i_]:"fire-auth-compat",[a_]:"fire-rtdb",[o_]:"fire-data-connect",[l_]:"fire-rtdb-compat",[c_]:"fire-fn",[u_]:"fire-fn-compat",[d_]:"fire-iid",[f_]:"fire-iid-compat",[h_]:"fire-fcm",[p_]:"fire-fcm-compat",[m_]:"fire-perf",[g_]:"fire-perf-compat",[y_]:"fire-rc",[b_]:"fire-rc-compat",[x_]:"fire-gcs",[v_]:"fire-gcs-compat",[S_]:"fire-fst",[k_]:"fire-fst-compat",[w_]:"fire-vertex","fire-js":"fire-js",[E_]:"fire-js-all"};const ld=new Map,T_=new Map,qm=new Map;function s1(t,e){try{t.container.addComponent(e)}catch(n){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ul(t){const e=t.name;if(qm.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,t);for(const n of ld.values())s1(n,t);for(const n of T_.values())s1(n,t);return!0}function tk(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vn(t){return t==null?!1:t.settings!==void 0}const A_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new ic("app","Firebase",A_);class M_{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}const oc=N_;function nk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:$m,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ks.create("bad-app-name",{appName:String(i)});if(n||(n=Jw()),!n)throw Ks.create("no-options");const o=ld.get(i);if(o){if(to(n,o.options)&&to(r,o.config))return o;throw Ks.create("duplicate-app",{appName:i})}const l=new LO(i);for(const f of qm.values())l.addComponent(f);const u=new M_(n,r,l);return ld.set(i,u),u}function O_(t=$m){const e=ld.get(t);if(!e&&t===$m&&Jw())return nk();if(!e)throw Ks.create("no-app",{appName:t});return e}function Wa(t,e,n){let r=C_[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(l.join(" "));return}Ul(new no(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const __="firebase-heartbeat-database",R_=1,Hl="firebase-heartbeat-store";let nm=null;function rk(){return nm||(nm=WO(__,R_,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),nm}async function j_(t){try{const n=(await rk()).transaction(Hl),r=await n.objectStore(Hl).get(sk(t));return await n.done,r}catch(e){if(e instanceof ti)Zr.warn(e.message);else{const n=Ks.create("idb-get",{originalErrorMessage:e?.message});Zr.warn(n.message)}}}async function i1(t,e){try{const r=(await rk()).transaction(Hl,"readwrite");await r.objectStore(Hl).put(e,sk(t)),await r.done}catch(n){if(n instanceof ti)Zr.warn(n.message);else{const r=Ks.create("idb-set",{originalErrorMessage:n?.message});Zr.warn(r.message)}}}function sk(t){return`${t.name}!${t.options.appId}`}const D_=1024,L_=30;class I_{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new P_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=a1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>L_){const i=B_(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a1(),{heartbeatsToSend:n,unsentEntries:r}=z_(this._heartbeatsCache.heartbeats),i=Ww(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Zr.warn(e),""}}}function a1(){return new Date().toISOString().substring(0,10)}function z_(t,e=D_){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),o1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),o1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class P_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kO()?EO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await j_(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return i1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return i1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function o1(t){return Ww(JSON.stringify({version:2,heartbeats:t})).length}function B_(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function U_(t){Ul(new no("platform-logger",e=>new XO(e),"PRIVATE")),Ul(new no("heartbeat",e=>new I_(e),"PRIVATE")),Wa(Vm,r1,t),Wa(Vm,r1,"esm2020"),Wa("fire-js","")}U_("");function ik(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const H_=ik,ak=new ic("auth","Firebase",ik());const cd=new Qw("@firebase/auth");function V_(t,...e){cd.logLevel<=tt.WARN&&cd.warn(`Auth (${oc}): ${t}`,...e)}function Qu(t,...e){cd.logLevel<=tt.ERROR&&cd.error(`Auth (${oc}): ${t}`,...e)}function Kn(t,...e){throw Hg(t,...e)}function sr(t,...e){return Hg(t,...e)}function Ug(t,e,n){const r={...H_(),[e]:n};return new ic("auth","Firebase",r).create(e,{appName:t.name})}function Yr(t){return Ug(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $_(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Kn(t,"argument-error"),Ug(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Hg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ak.create(t,...e)}function Se(t,e,...n){if(!t)throw Hg(e,...n)}function Fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qu(e),new Error(e)}function es(t,e){t||Fr(e)}function Fm(){return typeof self<"u"&&self.location?.href||""}function q_(){return l1()==="http:"||l1()==="https:"}function l1(){return typeof self<"u"&&self.location?.protocol||null}function F_(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q_()||vO()||"connection"in navigator)?navigator.onLine:!0}function G_(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=bO()||SO()}get(){return F_()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Vg(t,e){es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ok{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const K_={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const W_=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y_=new lc(3e4,6e4);function ni(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ts(t,e,n,r,i={}){return lk(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=ac({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...o};return xO()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&ff(t.emulatorConfig.host)&&(h.credentials="include"),ok.fetch()(await ck(t,t.config.apiHost,n,u),h)})}async function lk(t,e,n){t._canInitEmulator=!1;const r={...K_,...e};try{const i=new X_(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Du(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,h]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Du(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Du(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Du(t,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Ug(t,g,h);Kn(t,g)}}catch(i){if(i instanceof ti)throw i;Kn(t,"network-request-failed",{message:String(i)})}}async function cc(t,e,n,r,i={}){const o=await ts(t,e,n,r,i);return"mfaPendingCredential"in o&&Kn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function ck(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?Vg(t.config,i):`${t.config.apiScheme}://${i}`;return W_.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function J_(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X_{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),Y_.get())})}}function Du(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sr(t,e,r);return i.customData._tokenResponse=n,i}function c1(t){return t!==void 0&&t.enterprise!==void 0}class Q_{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return J_(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Z_(t,e){return ts(t,"GET","/v2/recaptchaConfig",ni(t,e))}async function eR(t,e){return ts(t,"POST","/v1/accounts:delete",e)}async function ud(t,e){return ts(t,"POST","/v1/accounts:lookup",e)}function Tl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tR(t,e=!1){const n=xr(t),r=await n.getIdToken(e),i=$g(r);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:Tl(rm(i.auth_time)),issuedAtTime:Tl(rm(i.iat)),expirationTime:Tl(rm(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function rm(t){return Number(t)*1e3}function $g(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qu("JWT malformed, contained fewer than 3 sections"),null;try{const i=Yw(n);return i?JSON.parse(i):(Qu("Failed to decode base64 JWT payload"),null)}catch(i){return Qu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function u1(t){const e=$g(t);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ro(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ti&&nR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class rR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function dd(t){const e=t.auth,n=await t.getIdToken(),r=await ro(t,ud(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=i.providerUserInfo?.length?uk(i.providerUserInfo):[],l=iR(t.providerData,o),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!l?.length,h=u?f:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Gm(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,g)}async function sR(t){const e=xr(t);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function aR(t,e){const n=await lk(t,{},async()=>{const r=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await ck(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return t.emulatorConfig&&ff(t.emulatorConfig.host)&&(f.credentials="include"),ok.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oR(t,e){return ts(t,"POST","/v2/accounts:revokeToken",ni(t,e))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=u1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await aR(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Ya;return r&&(Se(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Se(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Se(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Fr("not implemented")}}function _s(t,e){Se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class nr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new rR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ro(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tR(this,e)}reload(){return sR(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new nr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Yr(this.auth));const e=await this.getIdToken();return await ro(this,eR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:y,emailVerified:x,isAnonymous:v,providerData:w,stsTokenManager:E}=n;Se(y&&E,e,"internal-error");const k=Ya.fromJSON(this.name,E);Se(typeof y=="string",e,"internal-error"),_s(r,e.name),_s(i,e.name),Se(typeof x=="boolean",e,"internal-error"),Se(typeof v=="boolean",e,"internal-error"),_s(o,e.name),_s(l,e.name),_s(u,e.name),_s(f,e.name),_s(h,e.name),_s(g,e.name);const C=new nr({uid:y,auth:e,email:i,emailVerified:x,displayName:r,isAnonymous:v,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:k,createdAt:h,lastLoginAt:g});return w&&Array.isArray(w)&&(C.providerData=w.map(R=>({...R}))),f&&(C._redirectEventId=f),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ya;i.updateFromServerResponse(n);const o=new nr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dd(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Se(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?uk(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,u=new Ya;u.updateFromIdToken(r);const f=new nr({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Gm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(f,h),f}}const d1=new Map;function Gr(t){es(t instanceof Function,"Expected a class definition");let e=d1.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,d1.set(t,e),e)}class dk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dk.type="NONE";const f1=dk;function Zu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ja{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Zu(this.userKey,i.apiKey,o),this.fullPersistenceKey=Zu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ud(this.auth,{idToken:e}).catch(()=>{});return n?nr._fromGetAccountInfoResponse(this.auth,n,e):null}return nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ja(Gr(f1),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||Gr(f1);const l=Zu(r,e.config.apiKey,e.name);let u=null;for(const h of n)try{const g=await h._get(l);if(g){let y;if(typeof g=="string"){const x=await ud(e,{idToken:g}).catch(()=>{});if(!x)break;y=await nr._fromGetAccountInfoResponse(e,x,g)}else y=nr._fromJSON(e,g);h!==o&&(u=y),o=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ja(o,e,r):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new Ja(o,e,r))}}function h1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yk(e))return"Blackberry";if(bk(e))return"Webos";if(hk(e))return"Safari";if((e.includes("chrome/")||pk(e))&&!e.includes("edge/"))return"Chrome";if(gk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fk(t=Zt()){return/firefox\//i.test(t)}function hk(t=Zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pk(t=Zt()){return/crios\//i.test(t)}function mk(t=Zt()){return/iemobile/i.test(t)}function gk(t=Zt()){return/android/i.test(t)}function yk(t=Zt()){return/blackberry/i.test(t)}function bk(t=Zt()){return/webos/i.test(t)}function qg(t=Zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lR(t=Zt()){return qg(t)&&!!window.navigator?.standalone}function cR(){return wO()&&document.documentMode===10}function xk(t=Zt()){return qg(t)||gk(t)||bk(t)||yk(t)||/windows phone/i.test(t)||mk(t)}function vk(t,e=[]){let n;switch(t){case"Browser":n=h1(Zt());break;case"Worker":n=`${h1(Zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oc}/${r}`}class uR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,u)=>{try{const f=e(o);l(f)}catch(f){u(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function dR(t,e={}){return ts(t,"GET","/v2/passwordPolicy",ni(t,e))}const fR=6;class hR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class pR{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p1(this),this.idTokenSubscription=new p1(this),this.beforeStateQueue=new uR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ak,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ud(this,{idToken:e}),r=await nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=G_()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(Yr(this));const n=e?xr(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(Yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dR(this),n=new hR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await oR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&V_(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ri(t){return xr(t)}class p1{constructor(e){this.auth=e,this.observer=null,this.addObserver=MO(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mR(t){hf=t}function Sk(t){return hf.loadJS(t)}function gR(){return hf.recaptchaEnterpriseScript}function yR(){return hf.gapiScript}function bR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xR{constructor(){this.enterprise=new vR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class vR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const SR="recaptcha-enterprise",wk="NO_RECAPTCHA";class wR{constructor(e){this.type=SR,this.auth=ri(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{Z_(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new Q_(f);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(f=>{u(f)})})}function i(o,l,u){const f=window.grecaptcha;c1(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(wk)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xR().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!n&&c1(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=gR();f.length!==0&&(f+=u),Sk(f).then(()=>{i(u,o,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function m1(t,e,n,r=!1,i=!1){const o=new wR(t);let l;if(i)l=wk;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Km(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await m1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await m1(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}function kR(t,e){const n=tk(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(to(o,e??{}))return i;Kn(i,"already-initialized")}return n.initialize({options:e})}function ER(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function NR(t,e,n){const r=ri(t);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=kk(e),{host:l,port:u}=CR(e),f=u===null?"":`:${u}`,h={url:`${o}//${l}${f}/`},g=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(to(h,r.config.emulator)&&to(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,ff(l)?(pO(`${o}//${l}${f}`),yO("Auth",!0)):TR()}function kk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CR(t){const e=kk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:g1(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:g1(l)}}}function g1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class Fg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(e){return Fr("not implemented")}_linkToIdToken(e,n){return Fr("not implemented")}_getReauthenticationResolver(e){return Fr("not implemented")}}async function AR(t,e){return ts(t,"POST","/v1/accounts:signUp",e)}async function MR(t,e){return cc(t,"POST","/v1/accounts:signInWithPassword",ni(t,e))}async function OR(t,e){return cc(t,"POST","/v1/accounts:signInWithEmailLink",ni(t,e))}async function _R(t,e){return cc(t,"POST","/v1/accounts:signInWithEmailLink",ni(t,e))}class Vl extends Fg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Vl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,n,"signInWithPassword",MR);case"emailLink":return OR(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,r,"signUpPassword",AR);case"emailLink":return _R(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Xa(t,e){return cc(t,"POST","/v1/accounts:signInWithIdp",ni(t,e))}const RR="http://localhost";class $i extends Fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const l=new $i(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Xa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xa(e,n)}buildRequest(){const e={requestUri:RR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ac(n)}return e}}function jR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DR(t){const e=xl(vl(t)).link,n=e?xl(vl(e)).deep_link_id:null,r=xl(vl(t)).deep_link_id;return(r?xl(vl(r)).link:null)||r||n||e||t}class Gg{constructor(e){const n=xl(vl(e)),r=n.apiKey??null,i=n.oobCode??null,o=jR(n.mode??null);Se(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=DR(e);try{return new Gg(n)}catch{return null}}}class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(e,n){return Vl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gg.parseLink(n);return Se(r,"argument-error"),Vl._fromEmailAndCode(e,r.code,r.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Kg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uc extends Kg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ps extends uc{constructor(){super("facebook.com")}static credential(e){return $i._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class qr extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $i._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qr.credential(n,r)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";class Bs extends uc{constructor(){super("github.com")}static credential(e){return $i._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";class Us extends uc{constructor(){super("twitter.com")}static credential(e,n){return $i._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Us.credential(n,r)}catch{return null}}}Us.TWITTER_SIGN_IN_METHOD="twitter.com";Us.PROVIDER_ID="twitter.com";async function LR(t,e){return cc(t,"POST","/v1/accounts:signUp",ni(t,e))}class qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await nr._fromIdTokenResponse(e,r,i),l=y1(r);return new qi({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=y1(r);return new qi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function y1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class fd extends ti{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fd(e,n,r,i)}}function Ek(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fd._fromErrorAndOperation(t,o,e,r):o})}async function IR(t,e,n=!1){const r=await ro(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qi._forOperation(t,"link",r)}async function zR(t,e,n=!1){const{auth:r}=t;if(Vn(r.app))return Promise.reject(Yr(r));const i="reauthenticate";try{const o=await ro(t,Ek(r,i,e,t),n);Se(o.idToken,r,"internal-error");const l=$g(o.idToken);Se(l,r,"internal-error");const{sub:u}=l;return Se(t.uid===u,r,"user-mismatch"),qi._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Kn(r,"user-mismatch"),o}}async function Nk(t,e,n=!1){if(Vn(t.app))return Promise.reject(Yr(t));const r="signIn",i=await Ek(t,r,e),o=await qi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function PR(t,e){return Nk(ri(t),e)}async function Ck(t){const e=ri(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BR(t,e,n){if(Vn(t.app))return Promise.reject(Yr(t));const r=ri(t),l=await Km(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LR).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Ck(t),f}),u=await qi._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function UR(t,e,n){return Vn(t.app)?Promise.reject(Yr(t)):PR(xr(t),po.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ck(t),r})}async function HR(t,e){return ts(t,"POST","/v1/accounts:update",e)}async function b1(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=xr(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await ro(r,HR(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:f})=>f==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function VR(t,e,n,r){return xr(t).onIdTokenChanged(e,n,r)}function $R(t,e,n){return xr(t).beforeAuthStateChanged(e,n)}function qR(t,e,n,r){return xr(t).onAuthStateChanged(e,n,r)}function FR(t){return xr(t).signOut()}const hd="__sak";class Tk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const GR=1e3,KR=10;class Ak extends Tk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);cR()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,KR):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},GR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ak.type="LOCAL";const WR=Ak;class Mk extends Tk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Mk.type="SESSION";const Ok=Mk;function YR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new pf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(n.origin,o)),f=await YR(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];function Wg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class JR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const h=Wg("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const x=y;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(x.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function gr(){return window}function XR(t){gr().location.href=t}function _k(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function QR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZR(){return navigator?.serviceWorker?.controller||null}function ej(){return _k()?self:null}const Rk="firebaseLocalStorageDb",tj=1,pd="firebaseLocalStorage",jk="fbase_key";class dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mf(t,e){return t.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function nj(){const t=indexedDB.deleteDatabase(Rk);return new dc(t).toPromise()}function Wm(){const t=indexedDB.open(Rk,tj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pd,{keyPath:jk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pd)?e(r):(r.close(),await nj(),e(await Wm()))})})}async function x1(t,e,n){const r=mf(t,!0).put({[jk]:e,value:n});return new dc(r).toPromise()}async function rj(t,e){const n=mf(t,!1).get(e),r=await new dc(n).toPromise();return r===void 0?null:r.value}function v1(t,e){const n=mf(t,!0).delete(e);return new dc(n).toPromise()}const sj=800,ij=3;class Dk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ij)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _k()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(ej()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QR(),!this.activeServiceWorker)return;this.sender=new JR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await x1(e,hd,"1"),await v1(e,hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>x1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>v1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=mf(i,!1).getAll();return new dc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dk.type="LOCAL";const aj=Dk;new lc(3e4,6e4);function Lk(t,e){return e?Gr(e):(Se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Yg extends Fg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oj(t){return Nk(t.auth,new Yg(t),t.bypassAuthState)}function lj(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),zR(n,new Yg(t),t.bypassAuthState)}async function cj(t){const{auth:e,user:n}=t;return Se(n,e,"internal-error"),IR(n,new Yg(t),t.bypassAuthState)}class Ik{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oj;case"linkViaPopup":case"linkViaRedirect":return cj;case"reauthViaPopup":case"reauthViaRedirect":return lj;default:Kn(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uj=new lc(2e3,1e4);async function dj(t,e,n){if(Vn(t.app))return Promise.reject(sr(t,"operation-not-supported-in-this-environment"));const r=ri(t);$_(t,e,Kg);const i=Lk(r,n);return new ji(r,"signInViaPopup",e,i).executeNotNull()}class ji extends Ik{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ji.currentPopupAction&&ji.currentPopupAction.cancel(),ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=Wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uj.get())};e()}}ji.currentPopupAction=null;const fj="pendingRedirect",ed=new Map;class hj extends Ik{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ed.get(this.auth._key());if(!e){try{const r=await pj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ed.set(this.auth._key(),e)}return this.bypassAuthState||ed.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pj(t,e){const n=yj(e),r=gj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function mj(t,e){ed.set(t._key(),e)}function gj(t){return Gr(t._redirectPersistence)}function yj(t){return Zu(fj,t.config.apiKey,t.name)}async function bj(t,e,n=!1){if(Vn(t.app))return Promise.reject(Yr(t));const r=ri(t),i=Lk(r,e),l=await new hj(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const xj=600*1e3;class vj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Sj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!zk(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(sr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xj&&this.cachedEventUids.clear(),this.cachedEventUids.has(S1(e))}saveEventToCache(e){this.cachedEventUids.add(S1(e)),this.lastProcessedEventTime=Date.now()}}function S1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zk({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Sj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zk(t);default:return!1}}async function wj(t,e={}){return ts(t,"GET","/v1/projects",e)}const kj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ej=/^https?/;async function Nj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wj(t);for(const n of e)try{if(Cj(n))return}catch{}Kn(t,"unauthorized-domain")}function Cj(t){const e=Fm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!Ej.test(n))return!1;if(kj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Tj=new lc(3e4,6e4);function w1(){const t=gr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Aj(t){return new Promise((e,n)=>{function r(){w1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{w1(),n(sr(t,"network-request-failed"))},timeout:Tj.get()})}if(gr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gr().gapi?.load)r();else{const i=bR("iframefcb");return gr()[i]=()=>{gapi.load?r():n(sr(t,"network-request-failed"))},Sk(`${yR()}?onload=${i}`).catch(o=>n(o))}}).catch(e=>{throw td=null,e})}let td=null;function Mj(t){return td=td||Aj(t),td}const Oj=new lc(5e3,15e3),_j="__/auth/iframe",Rj="emulator/auth/iframe",jj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lj(t){const e=t.config;Se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vg(e,Rj):`https://${t.config.authDomain}/${_j}`,r={apiKey:e.apiKey,appName:t.name,v:oc},i=Dj.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ac(r).slice(1)}`}async function Ij(t){const e=await Mj(t),n=gr().gapi;return Se(n,t,"internal-error"),e.open({where:document.body,url:Lj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jj,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=sr(t,"network-request-failed"),u=gr().setTimeout(()=>{o(l)},Oj.get());function f(){gr().clearTimeout(u),i(r)}r.ping(f).then(f,()=>{o(l)})}))}const zj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pj=500,Bj=600,Uj="_blank",Hj="http://localhost";class k1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vj(t,e,n,r=Pj,i=Bj){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...zj,width:r.toString(),height:i.toString(),top:o,left:l},h=Zt().toLowerCase();n&&(u=pk(h)?Uj:n),fk(h)&&(e=e||Hj,f.scrollbars="yes");const g=Object.entries(f).reduce((x,[v,w])=>`${x}${v}=${w},`,"");if(lR(h)&&u!=="_self")return $j(e||"",u),new k1(null);const y=window.open(e||"",u,g);Se(y,t,"popup-blocked");try{y.focus()}catch{}return new k1(y)}function $j(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const qj="__/auth/handler",Fj="emulator/auth/handler",Gj=encodeURIComponent("fac");async function E1(t,e,n,r,i,o){Se(t.config.authDomain,t,"auth-domain-config-required"),Se(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oc,eventId:i};if(e instanceof Kg){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",AO(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof uc){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const g of Object.keys(u))u[g]===void 0&&delete u[g];const f=await t._getAppCheckToken(),h=f?`#${Gj}=${encodeURIComponent(f)}`:"";return`${Kj(t)}?${ac(u).slice(1)}${h}`}function Kj({config:t}){return t.emulator?Vg(t,Fj):`https://${t.authDomain}/${qj}`}const sm="webStorageSupport";class Wj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ok,this._completeRedirectFn=bj,this._overrideRedirectResult=mj}async _openPopup(e,n,r,i){es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await E1(e,n,r,Fm(),i);return Vj(e,o,Wg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await E1(e,n,r,Fm(),i);return XR(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(es(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Ij(e),r=new vj(e);return n.register("authEvent",i=>(Se(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sm,{type:sm},i=>{const o=i?.[0]?.[sm];o!==void 0&&n(!!o),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Nj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xk()||hk()||qg()}}const Yj=Wj;var N1="@firebase/auth",C1="1.12.0";class Jj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Xj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qj(t){Ul(new no("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Se(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vk(t)},h=new pR(r,i,o,f);return ER(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ul(new no("auth-internal",e=>{const n=ri(e.getProvider("auth").getImmediate());return(r=>new Jj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wa(N1,C1,Xj(t)),Wa(N1,C1,"esm2020")}const Zj=300,e3=Xw("authIdTokenMaxAge")||Zj;let T1=null;const t3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>e3)return;const i=n?.token;T1!==i&&(T1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function n3(t=O_()){const e=tk(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kR(t,{popupRedirectResolver:Yj,persistence:[aj,WR,Ok]}),r=Xw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=t3(o.toString());$R(n,l,()=>l(n.currentUser)),VR(n,u=>l(u))}}const i=fO("auth");return i&&NR(n,`http://${i}`),n}function r3(){return document.getElementsByTagName("head")?.[0]??document}mR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=sr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",r3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qj("Browser");var s3="firebase",i3="12.7.0";Wa(s3,i3,"app");const a3={apiKey:"AIzaSyAnt1ZX48_GZCLd5mINm1LO5gpz_zwJX_M",authDomain:"the-scholars-page.firebaseapp.com",projectId:"the-scholars-page",storageBucket:"the-scholars-page.firebasestorage.app",messagingSenderId:"241362382902",appId:"1:241362382902:web:dba319e9730b82eb9c2897"},o3=nk(a3),Kt=n3(o3),l3=new qr,Pk=T.createContext(),c3=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0);T.useEffect(()=>{const y=qR(Kt,x=>{n(x?{uid:x.uid,email:x.email,displayName:x.displayName,name:x.displayName,photoURL:x.photoURL,role:"admin"}:null),i(!1)});return()=>y()},[]);const o=async(y,x)=>{try{return{success:!0,user:(await UR(Kt,y,x)).user}}catch(v){return{success:!1,error:v.message}}},l=async(y,x,v)=>{try{const w=await BR(Kt,y,x);return v&&await b1(w.user,{displayName:v}),{success:!0,user:w.user}}catch(w){return{success:!1,error:w.message}}},u=async()=>{try{return{success:!0,user:(await dj(Kt,l3)).user}}catch(y){return{success:!1,error:y.message}}},f=async()=>{try{return await FR(Kt),{success:!0}}catch(y){return{success:!1,error:y.message}}},h=async y=>{try{return Kt.currentUser?(await b1(Kt.currentUser,y),n(x=>({...x,...y})),{success:!0,user:{...e,...y}}):{success:!1,error:"No user logged in"}}catch(x){return{success:!1,error:x.message}}},g=qe.useMemo(()=>({user:e,loading:r,loginWithEmail:o,signupWithEmail:l,loginWithGoogle:u,logout:f,updateProfile:h}),[e,r]);return p.jsx(Pk.Provider,{value:g,children:!r&&t})},si=()=>{const t=T.useContext(Pk);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};const u3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d3=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),A1=t=>{const e=d3(t);return e.charAt(0).toUpperCase()+e.slice(1)},Bk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),f3=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var h3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const p3=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},f)=>T.createElement("svg",{ref:f,...h3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Bk("lucide",i),...!o&&!f3(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,g])=>T.createElement(h,g)),...Array.isArray(o)?o:[o]]));const le=(t,e)=>{const n=T.forwardRef(({className:r,...i},o)=>T.createElement(p3,{ref:o,iconNode:e,className:Bk(`lucide-${u3(A1(t))}`,`lucide-${t}`,r),...i}));return n.displayName=A1(t),n};const m3=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],M1=le("arrow-down",m3);const g3=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jg=le("arrow-left",g3);const y3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qa=le("arrow-right",y3);const b3=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Al=le("arrow-up",b3);const x3=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],v3=le("award",x3);const S3=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],w3=le("bold",S3);const k3=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ym=le("book-open",k3);const E3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],N3=le("calendar",E3);const C3=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],T3=le("camera",C3);const A3=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],M3=le("chart-column",A3);const O3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],O1=le("check",O3);const _3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Jm=le("chevron-down",_3);const R3=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],j3=le("chevron-up",R3);const D3=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],L3=le("code",D3);const I3=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],z3=le("cookie",I3);const P3=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Xm=le("external-link",P3);const B3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],U3=le("eye",B3);const H3=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],V3=le("facebook",H3);const $3=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],q3=le("file-text",$3);const F3=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],G3=le("github",F3);const K3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Uk=le("globe",K3);const W3=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Hk=le("graduation-cap",W3);const Y3=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],J3=le("heading-1",Y3);const X3=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Q3=le("heading-2",X3);const Z3=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],eD=le("heading-3",Z3);const tD=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],nD=le("highlighter",tD);const rD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Vk=le("house",rD);const sD=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],iD=le("italic",sD);const aD=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],oD=le("layout-dashboard",aD);const lD=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],cD=le("link-2",lD);const uD=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],$k=le("linkedin",uD);const dD=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],fD=le("list-ordered",dD);const hD=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],pD=le("list",hD);const mD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qk=le("loader-circle",mD);const gD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Qm=le("log-out",gD);const yD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Fk=le("mail",yD);const bD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],xD=le("menu",bD);const vD=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],SD=le("message-circle",vD);const wD=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],kD=le("message-square",wD);const ED=[["path",{d:"M5 12h14",key:"1ays0h"}]],ND=le("minus",ED);const CD=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],TD=le("pen-tool",CD);const AD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$l=le("pen",AD);const MD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_1=le("plus",MD);const OD=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],_D=le("quote",OD);const RD=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],jD=le("redo",RD);const DD=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],LD=le("reply",DD);const ID=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Gk=le("save",ID);const zD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Kk=le("search",zD);const PD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],R1=le("send",PD);const BD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Zm=le("shield",BD);const UD=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],HD=le("sparkles",UD);const VD=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],$D=le("strikethrough",VD);const qD=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Fi=le("tag",qD);const FD=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],GD=le("text-align-center",FD);const KD=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],WD=le("text-align-end",KD);const YD=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]],JD=le("text-align-justify",YD);const XD=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],QD=le("text-align-start",XD);const ZD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],md=le("trash-2",ZD);const e4=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],t4=le("trending-down",e4);const n4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],gd=le("trending-up",n4);const r4=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],s4=le("underline",r4);const i4=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],a4=le("undo",i4);const o4=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],l4=le("user-cog",o4);const c4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],j1=le("user",c4);const u4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yd=le("users",u4);const d4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fc=le("x",d4);function Wk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Wk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function f4(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Wk(t))&&(r&&(r+=" "),r+=e);return r}const h4=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},p4=(t,e)=>({classGroupId:t,validator:e}),Yk=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),bd="-",D1=[],m4="arbitrary..",g4=t=>{const e=b4(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return y4(l);const u=l.split(bd),f=u[0]===""&&u.length>1?1:0;return Jk(u,f,e)},getConflictingClassGroupIds:(l,u)=>{if(u){const f=r[l],h=n[l];return f?h?h4(h,f):f:h||D1}return n[l]||D1}}},Jk=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],o=n.nextPart.get(i);if(o){const h=Jk(t,e+1,o);if(h)return h}const l=n.validators;if(l===null)return;const u=e===0?t.join(bd):t.slice(e).join(bd),f=l.length;for(let h=0;h<f;h++){const g=l[h];if(g.validator(u))return g.classGroupId}},y4=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?m4+r:void 0})(),b4=t=>{const{theme:e,classGroups:n}=t;return x4(n,e)},x4=(t,e)=>{const n=Yk();for(const r in t){const i=t[r];Xg(i,n,r,e)}return n},Xg=(t,e,n,r)=>{const i=t.length;for(let o=0;o<i;o++){const l=t[o];v4(l,e,n,r)}},v4=(t,e,n,r)=>{if(typeof t=="string"){S4(t,e,n);return}if(typeof t=="function"){w4(t,e,n,r);return}k4(t,e,n,r)},S4=(t,e,n)=>{const r=t===""?e:Xk(e,t);r.classGroupId=n},w4=(t,e,n,r)=>{if(E4(t)){Xg(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(p4(n,t))},k4=(t,e,n,r)=>{const i=Object.entries(t),o=i.length;for(let l=0;l<o;l++){const[u,f]=i[l];Xg(f,Xk(e,u),n,r)}},Xk=(t,e)=>{let n=t;const r=e.split(bd),i=r.length;for(let o=0;o<i;o++){const l=r[o];let u=n.nextPart.get(l);u||(u=Yk(),n.nextPart.set(l,u)),n=u}return n},E4=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,N4=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(o,l)=>{n[o]=l,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let l=n[o];if(l!==void 0)return l;if((l=r[o])!==void 0)return i(o,l),l},set(o,l){o in n?n[o]=l:i(o,l)}}},eg="!",L1=":",C4=[],I1=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),T4=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const o=[];let l=0,u=0,f=0,h;const g=i.length;for(let E=0;E<g;E++){const k=i[E];if(l===0&&u===0){if(k===L1){o.push(i.slice(f,E)),f=E+1;continue}if(k==="/"){h=E;continue}}k==="["?l++:k==="]"?l--:k==="("?u++:k===")"&&u--}const y=o.length===0?i:i.slice(f);let x=y,v=!1;y.endsWith(eg)?(x=y.slice(0,-1),v=!0):y.startsWith(eg)&&(x=y.slice(1),v=!0);const w=h&&h>f?h-f:void 0;return I1(o,v,x,w)};if(e){const i=e+L1,o=r;r=l=>l.startsWith(i)?o(l.slice(i.length)):I1(C4,!1,l,void 0,!0)}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},A4=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let o=0;o<n.length;o++){const l=n[o],u=l[0]==="[",f=e.has(l);u||f?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(l)):i.push(l)}return i.length>0&&(i.sort(),r.push(...i)),r}},M4=t=>({cache:N4(t.cacheSize),parseClassName:T4(t),sortModifiers:A4(t),...g4(t)}),O4=/\s+/,_4=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=e,l=[],u=t.trim().split(O4);let f="";for(let h=u.length-1;h>=0;h-=1){const g=u[h],{isExternal:y,modifiers:x,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:E}=n(g);if(y){f=g+(f.length>0?" "+f:f);continue}let k=!!E,C=r(k?w.substring(0,E):w);if(!C){if(!k){f=g+(f.length>0?" "+f:f);continue}if(C=r(w),!C){f=g+(f.length>0?" "+f:f);continue}k=!1}const R=x.length===0?"":x.length===1?x[0]:o(x).join(":"),D=v?R+eg:R,$=D+C;if(l.indexOf($)>-1)continue;l.push($);const U=i(C,k);for(let Z=0;Z<U.length;++Z){const q=U[Z];l.push(D+q)}f=g+(f.length>0?" "+f:f)}return f},R4=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=Qk(n))&&(i&&(i+=" "),i+=r);return i},Qk=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Qk(t[r]))&&(n&&(n+=" "),n+=e);return n},j4=(t,...e)=>{let n,r,i,o;const l=f=>{const h=e.reduce((g,y)=>y(g),t());return n=M4(h),r=n.cache.get,i=n.cache.set,o=u,u(f)},u=f=>{const h=r(f);if(h)return h;const g=_4(f,n);return i(f,g),g};return o=l,(...f)=>o(R4(...f))},D4=[],Ct=t=>{const e=n=>n[t]||D4;return e.isThemeGetter=!0,e},Zk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,eE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,L4=/^\d+\/\d+$/,I4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,P4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,B4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ua=t=>L4.test(t),je=t=>!!t&&!Number.isNaN(Number(t)),Rs=t=>!!t&&Number.isInteger(Number(t)),im=t=>t.endsWith("%")&&je(t.slice(0,-1)),Pr=t=>I4.test(t),H4=()=>!0,V4=t=>z4.test(t)&&!P4.test(t),tE=()=>!1,$4=t=>B4.test(t),q4=t=>U4.test(t),F4=t=>!de(t)&&!fe(t),G4=t=>mo(t,sE,tE),de=t=>Zk.test(t),Mi=t=>mo(t,iE,V4),am=t=>mo(t,X4,je),z1=t=>mo(t,nE,tE),K4=t=>mo(t,rE,q4),Lu=t=>mo(t,aE,$4),fe=t=>eE.test(t),ml=t=>go(t,iE),W4=t=>go(t,Q4),P1=t=>go(t,nE),Y4=t=>go(t,sE),J4=t=>go(t,rE),Iu=t=>go(t,aE,!0),mo=(t,e,n)=>{const r=Zk.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},go=(t,e,n=!1)=>{const r=eE.exec(t);return r?r[1]?e(r[1]):n:!1},nE=t=>t==="position"||t==="percentage",rE=t=>t==="image"||t==="url",sE=t=>t==="length"||t==="size"||t==="bg-size",iE=t=>t==="length",X4=t=>t==="number",Q4=t=>t==="family-name",aE=t=>t==="shadow",Z4=()=>{const t=Ct("color"),e=Ct("font"),n=Ct("text"),r=Ct("font-weight"),i=Ct("tracking"),o=Ct("leading"),l=Ct("breakpoint"),u=Ct("container"),f=Ct("spacing"),h=Ct("radius"),g=Ct("shadow"),y=Ct("inset-shadow"),x=Ct("text-shadow"),v=Ct("drop-shadow"),w=Ct("blur"),E=Ct("perspective"),k=Ct("aspect"),C=Ct("ease"),R=Ct("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...$(),fe,de],Z=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto","contain","none"],B=()=>[fe,de,f],re=()=>[Ua,"full","auto",...B()],ce=()=>[Rs,"none","subgrid",fe,de],we=()=>["auto",{span:["full",Rs,fe,de]},Rs,fe,de],Ne=()=>[Rs,"auto",fe,de],X=()=>["auto","min","max","fr",fe,de],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],P=()=>["start","end","center","stretch","center-safe","end-safe"],O=()=>["auto",...B()],V=()=>[Ua,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],G=()=>[t,fe,de],ae=()=>[...$(),P1,z1,{position:[fe,de]}],Te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",Y4,G4,{size:[fe,de]}],Y=()=>[im,ml,Mi],te=()=>["","none","full",h,fe,de],ie=()=>["",je,ml,Mi],xe=()=>["solid","dashed","dotted","double"],Ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[je,im,P1,z1],rt=()=>["","none",w,fe,de],Fe=()=>["none",je,fe,de],nn=()=>["none",je,fe,de],pn=()=>[je,fe,de],An=()=>[Ua,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Pr],breakpoint:[Pr],color:[H4],container:[Pr],"drop-shadow":[Pr],ease:["in","out","in-out"],font:[F4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Pr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Pr],shadow:[Pr],spacing:["px",je],text:[Pr],"text-shadow":[Pr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ua,de,fe,k]}],container:["container"],columns:[{columns:[je,de,fe,u]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:re()}],"inset-x":[{"inset-x":re()}],"inset-y":[{"inset-y":re()}],start:[{start:re()}],end:[{end:re()}],top:[{top:re()}],right:[{right:re()}],bottom:[{bottom:re()}],left:[{left:re()}],visibility:["visible","invisible","collapse"],z:[{z:[Rs,"auto",fe,de]}],basis:[{basis:[Ua,"full","auto",u,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[je,Ua,"auto","initial","none",de]}],grow:[{grow:["",je,fe,de]}],shrink:[{shrink:["",je,fe,de]}],order:[{order:[Rs,"first","last","none",fe,de]}],"grid-cols":[{"grid-cols":ce()}],"col-start-end":[{col:we()}],"col-start":[{"col-start":Ne()}],"col-end":[{"col-end":Ne()}],"grid-rows":[{"grid-rows":ce()}],"row-start-end":[{row:we()}],"row-start":[{"row-start":Ne()}],"row-end":[{"row-end":Ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...P(),"normal"]}],"justify-self":[{"justify-self":["auto",...P()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...P(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...P(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...P(),"baseline"]}],"place-self":[{"place-self":["auto",...P()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:O()}],mx:[{mx:O()}],my:[{my:O()}],ms:[{ms:O()}],me:[{me:O()}],mt:[{mt:O()}],mr:[{mr:O()}],mb:[{mb:O()}],ml:[{ml:O()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[u,"screen",...V()]}],"min-w":[{"min-w":[u,"screen","none",...V()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",n,ml,Mi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,fe,am]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",im,de]}],"font-family":[{font:[W4,de,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,fe,de]}],"line-clamp":[{"line-clamp":[je,"none",fe,am]}],leading:[{leading:[o,...B()]}],"list-image":[{"list-image":["none",fe,de]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",fe,de]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[je,"from-font","auto",fe,Mi]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[je,"auto",fe,de]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe,de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe,de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ae()}],"bg-repeat":[{bg:Te()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Rs,fe,de],radial:["",fe,de],conic:[Rs,fe,de]},J4,K4]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[je,fe,de]}],"outline-w":[{outline:["",je,ml,Mi]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",g,Iu,Lu]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",y,Iu,Lu]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[je,Mi]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",x,Iu,Lu]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[je,fe,de]}],"mix-blend":[{"mix-blend":[...Ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[je]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[fe,de]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[je]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ae()}],"mask-repeat":[{mask:Te()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",fe,de]}],filter:[{filter:["","none",fe,de]}],blur:[{blur:rt()}],brightness:[{brightness:[je,fe,de]}],contrast:[{contrast:[je,fe,de]}],"drop-shadow":[{"drop-shadow":["","none",v,Iu,Lu]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",je,fe,de]}],"hue-rotate":[{"hue-rotate":[je,fe,de]}],invert:[{invert:["",je,fe,de]}],saturate:[{saturate:[je,fe,de]}],sepia:[{sepia:["",je,fe,de]}],"backdrop-filter":[{"backdrop-filter":["","none",fe,de]}],"backdrop-blur":[{"backdrop-blur":rt()}],"backdrop-brightness":[{"backdrop-brightness":[je,fe,de]}],"backdrop-contrast":[{"backdrop-contrast":[je,fe,de]}],"backdrop-grayscale":[{"backdrop-grayscale":["",je,fe,de]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[je,fe,de]}],"backdrop-invert":[{"backdrop-invert":["",je,fe,de]}],"backdrop-opacity":[{"backdrop-opacity":[je,fe,de]}],"backdrop-saturate":[{"backdrop-saturate":[je,fe,de]}],"backdrop-sepia":[{"backdrop-sepia":["",je,fe,de]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",fe,de]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[je,"initial",fe,de]}],ease:[{ease:["linear","initial",C,fe,de]}],delay:[{delay:[je,fe,de]}],animate:[{animate:["none",R,fe,de]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,fe,de]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:Fe()}],"rotate-x":[{"rotate-x":Fe()}],"rotate-y":[{"rotate-y":Fe()}],"rotate-z":[{"rotate-z":Fe()}],scale:[{scale:nn()}],"scale-x":[{"scale-x":nn()}],"scale-y":[{"scale-y":nn()}],"scale-z":[{"scale-z":nn()}],"scale-3d":["scale-3d"],skew:[{skew:pn()}],"skew-x":[{"skew-x":pn()}],"skew-y":[{"skew-y":pn()}],transform:[{transform:[fe,de,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:An()}],"translate-x":[{"translate-x":An()}],"translate-y":[{"translate-y":An()}],"translate-z":[{"translate-z":An()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe,de]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe,de]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[je,ml,Mi,am]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},eL=j4(Z4);function ql(...t){return eL(f4(t))}const B1=()=>{const{language:t,toggleLanguage:e}=Tn();return p.jsxs("div",{className:"relative inline-flex items-center bg-surface border border-border rounded-full p-1 shadow-sm",children:[p.jsx("button",{onClick:()=>t==="bn"&&e(),className:`px-3 py-1 text-xs font-medium rounded-full transition-all duration-200 ${t==="en"?"bg-accent text-white shadow-md":"text-muted hover:text-foreground"}`,children:"EN"}),p.jsx("button",{onClick:()=>t==="en"&&e(),className:`px-3 py-1 text-xs font-medium rounded-full transition-all duration-200 ${t==="bn"?"bg-accent text-white shadow-md":"text-muted hover:text-foreground"}`,children:"BN"})]})},tL=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),i=ar(),o=Xi(),{t:l}=Tn(),{user:u,logout:f}=si(),h=async()=>{(await f()).success&&o("/")},g=[{href:"/",label:{en:"Home",bn:""}},{href:"/article",label:{en:"Opportunities",bn:""}},{href:"/about",label:{en:"About",bn:""}}];return p.jsxs("header",{className:"sticky top-0 z-50 w-full border-b border-border/30 bg-background shadow-2xl shadow-black/20",children:[p.jsxs("div",{className:"container mx-auto max-w-4xl px-4 flex h-16 items-center justify-between",children:[p.jsx(Ve,{to:"/",className:"font-serif text-xl font-semibold tracking-tight hover:text-accent transition-colors",children:"The Scholars Page"}),p.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[g.map(y=>p.jsx(Ve,{to:y.href,className:ql("text-sm font-medium transition-colors hover:text-accent",i.pathname===y.href?"text-accent":"text-muted"),children:l(y.label)},y.href)),p.jsx("div",{className:"h-4 w-px bg-border mx-2"}),p.jsx(B1,{}),u?p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[u.photoURL?p.jsx("img",{src:u.photoURL,alt:u.displayName||"User",className:"w-8 h-8 rounded-full object-cover border-2 border-accent"}):p.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center text-white font-medium text-sm",children:(u.displayName||u.email||"U").charAt(0).toUpperCase()}),p.jsx(Jm,{className:"w-4 h-4 text-muted"})]}),n&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 z-[100]",onClick:()=>r(!1)}),p.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-surface border border-border rounded-lg shadow-2xl shadow-black/50 py-2 z-[101] animate-in fade-in slide-in-from-top-2 duration-200",children:[p.jsxs("div",{className:"px-4 py-3 border-b border-border",children:[p.jsx("p",{className:"text-sm font-medium text-foreground",children:u.displayName||"User"}),p.jsx("p",{className:"text-xs text-muted truncate",children:u.email})]}),p.jsxs(Ve,{to:"/profile",onClick:()=>r(!1),className:"flex items-center gap-2 px-4 py-2 text-sm text-muted hover:bg-surface-hover hover:text-accent transition-colors",children:[p.jsx(j1,{className:"w-4 h-4"}),l({en:"View Profile",bn:" "})]}),p.jsxs("button",{onClick:()=>{r(!1),h()},className:"flex items-center gap-2 px-4 py-2 text-sm text-muted hover:bg-surface-hover hover:text-accent transition-colors w-full text-left",children:[p.jsx(Qm,{className:"w-4 h-4"}),l({en:"Logout",bn:""})]})]})]})]}):p.jsx(Ve,{to:"/login",className:"text-sm font-medium text-muted hover:text-accent transition-colors",children:l({en:"Sign In",bn:" "})})]}),p.jsx("button",{className:"md:hidden",onClick:()=>e(!t),children:t?p.jsx(fc,{className:"h-6 w-6"}):p.jsx(xD,{className:"h-6 w-6"})})]}),t&&p.jsx("div",{className:"md:hidden border-t border-border/30 bg-surface/80 backdrop-blur-xl p-4 animate-in slide-in-from-top-2 shadow-xl",children:p.jsxs("nav",{className:"flex flex-col gap-4",children:[g.map(y=>p.jsx(Ve,{to:y.href,onClick:()=>e(!1),className:ql("text-lg font-medium transition-colors hover:text-accent py-2",i.pathname===y.href?"text-accent":"text-muted"),children:l(y.label)},y.href)),p.jsx("div",{className:"border-t border-border pt-4",children:p.jsx(B1,{})}),u?p.jsxs("div",{className:"border-t border-border pt-4 space-y-3",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted",children:[p.jsx(j1,{className:"h-4 w-4"}),p.jsx("span",{children:u.displayName||u.email})]}),p.jsxs("button",{onClick:()=>{h(),e(!1)},className:"flex items-center gap-2 text-sm text-muted hover:text-accent transition-colors",children:[p.jsx(Qm,{className:"h-4 w-4"}),l({en:"Logout",bn:""})]})]}):p.jsx("div",{className:"border-t border-border pt-4",children:p.jsx(Ve,{to:"/login",onClick:()=>e(!1),className:"text-lg font-medium text-muted hover:text-accent transition-colors",children:l({en:"Sign In",bn:" "})})})]})})]})},nL=()=>{const{t}=Tn();return p.jsxs("div",{className:"min-h-screen flex flex-col font-sans",children:[p.jsx(tL,{}),p.jsx("main",{className:"flex-1 w-full max-w-4xl mx-auto px-4 py-12 animate-in fade-in duration-500",children:p.jsx(Bw,{})}),p.jsx("footer",{className:"border-t border-border/30 bg-surface/20 backdrop-blur-xl py-10 mt-16 shadow-2xl shadow-black/10",children:p.jsx("div",{className:"container mx-auto max-w-4xl px-4",children:p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 text-sm text-muted",children:[p.jsxs("div",{className:"text-center md:text-left",children:[p.jsx("p",{className:"font-semibold text-foreground mb-1",children:"The Scholars Page"}),p.jsxs("p",{children:[" ",new Date().getFullYear()," ",t({en:"All rights reserved.",bn:" "})]})]}),p.jsxs("div",{className:"text-center md:text-right",children:[p.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-end gap-3 mb-2 text-xs",children:[p.jsx(Ve,{to:"/terms",className:"hover:text-accent transition-colors",children:t({en:"Terms of Service",bn:" "})}),p.jsx("span",{className:"text-border",children:""}),p.jsx(Ve,{to:"/privacy",className:"hover:text-accent transition-colors",children:t({en:"Privacy Policy",bn:" "})}),p.jsx("span",{className:"text-border",children:""}),p.jsx(Ve,{to:"/cookies",className:"hover:text-accent transition-colors",children:t({en:"Cookie Policy",bn:" "})})]}),p.jsxs("div",{className:"flex items-center justify-center md:justify-end gap-3",children:[p.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"w-6 h-6 flex items-center justify-center rounded-full bg-surface border border-border text-muted hover:text-accent hover:border-accent/50 transition-colors","aria-label":"Facebook",children:p.jsx(V3,{className:"w-3 h-3"})}),p.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"w-6 h-6 flex items-center justify-center rounded-full bg-surface border border-border text-muted hover:text-accent hover:border-accent/50 transition-colors","aria-label":"LinkedIn",children:p.jsx($k,{className:"w-3 h-3"})}),p.jsx("a",{href:"mailto:contact@thescholarspage.com",className:"w-6 h-6 flex items-center justify-center rounded-full bg-surface border border-border text-muted hover:text-accent hover:border-accent/50 transition-colors","aria-label":"Email",children:p.jsx(Fk,{className:"w-3 h-3"})})]})]})]})})})]})},rL="https://thescholarspage-api.vercel.app/api",U1=()=>Kt.currentUser?Kt.currentUser.uid||Kt.currentUser.email:null,He=async(t,e={})=>{const n={headers:{"Content-Type":"application/json",...e.headers},...e};try{const r=await fetch(`${rL}${t}`,n),i=await r.json();if(!r.ok)throw console.error("API Error Response:",{status:r.status,message:i.message,endpoint:t}),new Error(i.message||"Something went wrong");return i}catch(r){throw console.error("API Error:",r),r}},at={getAll:async(t={})=>{const e=new URLSearchParams(t).toString(),n=e?`/posts?${e}`:"/posts";return await He(n)},getById:async t=>await He(`/posts/${t}`),search:async(t,e={})=>{const n=new URLSearchParams({q:t,...e}).toString();return await He(`/posts/search?${n}`)},getByAuthor:async(t,e={})=>{const n=new URLSearchParams(e).toString(),r=n?`/posts/author/${t}?${n}`:`/posts/author/${t}`;return await He(r)},getByTag:async(t,e={})=>{const n=new URLSearchParams(e).toString(),r=n?`/posts/tag/${t}?${n}`:`/posts/tag/${t}`;return await He(r)},getPopular:async(t=5)=>await He(`/posts/popular?limit=${t}`),getRecent:async(t=5)=>await He(`/posts/recent?limit=${t}`),getStatistics:async t=>await He(`/posts/${t}/statistics`),create:async t=>{const e=t.authorName||Kt.currentUser?.displayName||Kt.currentUser?.email||"Anonymous";return await He("/posts",{method:"POST",body:JSON.stringify({...t,authorName:e})})},update:async(t,e)=>await He(`/posts/${t}`,{method:"PUT",body:JSON.stringify(e)}),delete:async t=>await He(`/posts/${t}`,{method:"DELETE"}),addComment:async(t,e)=>{const n=e.authorName||Kt.currentUser?.displayName||Kt.currentUser?.email||"Anonymous";return await He(`/posts/${t}/comments`,{method:"POST",body:JSON.stringify({authorName:n,content:e.content})})},getComment:async(t,e)=>await He(`/posts/${t}/comments/${e}`),updateComment:async(t,e,n)=>await He(`/posts/${t}/comments/${e}`,{method:"PUT",body:JSON.stringify(n)}),deleteComment:async(t,e)=>await He(`/posts/${t}/comments/${e}`,{method:"DELETE"}),getComments:async t=>await He(`/posts/${t}/comments`),voteComment:async(t,e,n)=>{const r=U1();if(!r)throw new Error("You must be logged in to vote");return await He(`/posts/${t}/comments/${e}/vote`,{method:"POST",body:JSON.stringify({userId:r,voteType:n})})},replyToComment:async(t,e,n)=>{const r=n.authorName||Kt.currentUser?.displayName||Kt.currentUser?.email||"Anonymous";return await He(`/posts/${t}/comments/${e}/replies`,{method:"POST",body:JSON.stringify({authorName:r,content:n.content})})},getReply:async(t,e,n)=>await He(`/posts/${t}/comments/${e}/replies/${n}`),updateReply:async(t,e,n,r)=>await He(`/posts/${t}/comments/${e}/replies/${n}`,{method:"PUT",body:JSON.stringify(r)}),deleteReply:async(t,e,n)=>await He(`/posts/${t}/comments/${e}/replies/${n}`,{method:"DELETE"}),getReplies:async(t,e)=>await He(`/posts/${t}/comments/${e}/replies`),vote:async(t,e)=>{const n=U1();if(!n)throw new Error("You must be logged in to vote");return await He(`/posts/${t}/vote`,{method:"POST",body:JSON.stringify({userId:n,voteType:e})})}},mr={getAll:async(t={})=>{const e=new URLSearchParams(t).toString(),n=e?`/admins?${e}`:"/admins";return await He(n)},getById:async t=>await He(`/admins/${t}`),checkAccess:async(t,e=null)=>{const n=e?`?role=${e}`:"";return await He(`/admins/check/${t}${n}`)},create:async t=>await He("/admins",{method:"POST",body:JSON.stringify(t)}),update:async(t,e)=>await He(`/admins/${t}`,{method:"PUT",body:JSON.stringify(e)}),delete:async t=>await He(`/admins/${t}`,{method:"DELETE"}),bulkAdd:async t=>await He("/admins/bulk",{method:"POST",body:JSON.stringify({admins:t})}),getStats:async()=>await He("/admins/stats"),getFirebaseUsers:async()=>await He("/admins/firebase/users")},oE=T.createContext(),sL=({children:t})=>{const[e,n]=T.useState([]),[r,i]=T.useState(!0),[o,l]=T.useState(null),[u,f]=T.useState({currentPage:1,totalPages:1,totalPosts:0,hasNextPage:!1,hasPrevPage:!1});T.useEffect(()=>{h()},[]);const h=async(X={})=>{try{i(!0),l(null);const F=await at.getAll(X);if(F.success){const P=F.posts||F.data?.posts||[];n(Array.isArray(P)?P:[]),F.pagination&&f(F.pagination)}else l(F.message||"Failed to fetch posts"),n([])}catch(F){console.error("Error fetching posts:",F),l(F.message||"Failed to fetch posts"),n([])}finally{i(!1)}},g=async(X,F={})=>{try{i(!0),l(null);const P=await at.search(X,F);if(P.success){const O=P.posts||P.data?.posts||[];return n(Array.isArray(O)?O:[]),P.pagination&&f(P.pagination),{success:!0,data:O}}else return l(P.message||"Search failed"),{success:!1,error:P.message}}catch(P){return console.error("Error searching posts:",P),l(P.message||"Search failed"),{success:!1,error:P.message}}finally{i(!1)}},y=qe.useCallback(async X=>{try{const F=await at.create(X);return F.success?(n(P=>Array.isArray(P)?[F.data,...P]:[F.data]),{success:!0,data:F.data}):{success:!1,error:F.message||"Failed to create post"}}catch(F){return console.error("Error creating post:",F),{success:!1,error:F.message||"Failed to create post"}}},[]),x=qe.useCallback(async(X,F)=>{try{const P=await at.update(X,F);return P.success?(n(O=>Array.isArray(O)?O.map(V=>V._id===X?P.data:V):[P.data]),{success:!0,data:P.data}):{success:!1,error:P.message||"Failed to update post"}}catch(P){return console.error("Error updating post:",P),{success:!1,error:P.message||"Failed to update post"}}},[]),v=qe.useCallback(async X=>{try{const F=await at.delete(X);return F.success?(n(P=>Array.isArray(P)?P.filter(O=>O._id!==X):[]),{success:!0}):{success:!1,error:F.message||"Failed to delete post"}}catch(F){return console.error("Error deleting post:",F),{success:!1,error:F.message||"Failed to delete post"}}},[]),w=qe.useCallback(async X=>{try{const F=Array.isArray(e)?e.find(O=>O._id===X||O.id===X):null;if(F)return{success:!0,data:F};const P=await at.getById(X);return P.success?{success:!0,data:P.data}:{success:!1,error:P.message||"Post not found"}}catch(F){return console.error("Error fetching post:",F),{success:!1,error:F.message||"Post not found"}}},[e]),E=qe.useCallback(async(X,F)=>{try{const P=await at.vote(X,F);return P.success?(n(O=>Array.isArray(O)?O.map(V=>V._id===X?{...V,upvotes:P.data.upvotes,downvotes:P.data.downvotes,votes:P.data.votes}:V):O),{success:!0,data:P.data}):{success:!1,error:P.message||"Failed to vote"}}catch(P){return console.error("Error voting on post:",P),{success:!1,error:P.message||"Failed to vote"}}},[]),k=qe.useCallback(async(X,F)=>{try{const P=await at.addComment(X,F);return P.success?(n(O=>Array.isArray(O)?O.map(V=>V._id===X?{...V,comments:V.comments?[...V.comments,P.data]:[P.data]}:V):O),{success:!0,data:P.data}):{success:!1,error:P.message||"Failed to add comment"}}catch(P){return console.error("Error adding comment:",P),{success:!1,error:P.message||"Failed to add comment"}}},[]),C=qe.useCallback(async(X,F,P)=>{try{const O=await at.replyToComment(X,F,P);if(O.success){const V=await at.getById(X);return V.success&&n(G=>Array.isArray(G)?G.map(ae=>ae._id===X?V.data:ae):G),{success:!0,data:O.data}}return{success:!1,error:O.message||"Failed to reply"}}catch(O){return console.error("Error replying to comment:",O),{success:!1,error:O.message||"Failed to reply"}}},[]),R=qe.useCallback(async(X,F,P)=>{try{const O=await at.updateComment(X,F,P);if(O.success){const V=await at.getById(X);return V.success&&n(G=>Array.isArray(G)?G.map(ae=>ae._id===X?V.data:ae):G),{success:!0,data:O.data}}return{success:!1,error:O.message||"Failed to update comment"}}catch(O){return console.error("Error updating comment:",O),{success:!1,error:O.message||"Failed to update comment"}}},[]),D=qe.useCallback(async(X,F)=>{try{const P=await at.deleteComment(X,F);if(P.success){const O=await at.getById(X);return O.success&&n(V=>Array.isArray(V)?V.map(G=>G._id===X?O.data:G):V),{success:!0}}return{success:!1,error:P.message||"Failed to delete comment"}}catch(P){return console.error("Error deleting comment:",P),{success:!1,error:P.message||"Failed to delete comment"}}},[]),$=qe.useCallback(async(X,F,P,O)=>{try{const V=await at.updateReply(X,F,P,O);if(V.success){const G=await at.getById(X);return G.success&&n(ae=>Array.isArray(ae)?ae.map(Te=>Te._id===X?G.data:Te):ae),{success:!0,data:V.data}}return{success:!1,error:V.message||"Failed to update reply"}}catch(V){return console.error("Error updating reply:",V),{success:!1,error:V.message||"Failed to update reply"}}},[]),U=qe.useCallback(async(X,F,P)=>{try{const O=await at.deleteReply(X,F,P);if(O.success){const V=await at.getById(X);return V.success&&n(G=>Array.isArray(G)?G.map(ae=>ae._id===X?V.data:ae):G),{success:!0}}return{success:!1,error:O.message||"Failed to delete reply"}}catch(O){return console.error("Error deleting reply:",O),{success:!1,error:O.message||"Failed to delete reply"}}},[]),Z=qe.useCallback(async(X,F,P)=>{try{const O=await at.voteComment(X,F,P);if(O.success){const V=await at.getById(X);return V.success&&n(G=>Array.isArray(G)?G.map(ae=>ae._id===X?V.data:ae):G),{success:!0,data:O.data}}return{success:!1,error:O.message||"Failed to vote on comment"}}catch(O){return console.error("Error voting on comment:",O),{success:!1,error:O.message||"Failed to vote on comment"}}},[]),q=qe.useCallback(async(X=5)=>{try{const F=await at.getPopular(X);return F.success?{success:!0,data:F.posts||F.data}:{success:!1,error:F.message||"Failed to fetch popular posts"}}catch(F){return console.error("Error fetching popular posts:",F),{success:!1,error:F.message||"Failed to fetch popular posts"}}},[]),B=qe.useCallback(async(X=5)=>{try{const F=await at.getRecent(X);return F.success?{success:!0,data:F.posts||F.data}:{success:!1,error:F.message||"Failed to fetch recent posts"}}catch(F){return console.error("Error fetching recent posts:",F),{success:!1,error:F.message||"Failed to fetch recent posts"}}},[]),re=qe.useCallback(async(X,F={})=>{try{const P=await at.getByAuthor(X,F);return P.success?{success:!0,data:P.data}:{success:!1,error:P.message||"Failed to fetch posts by author"}}catch(P){return console.error("Error fetching posts by author:",P),{success:!1,error:P.message||"Failed to fetch posts by author"}}},[]),ce=qe.useCallback(async(X,F={})=>{try{const P=await at.getByTag(X,F);return P.success?{success:!0,data:P.data}:{success:!1,error:P.message||"Failed to fetch posts by tag"}}catch(P){return console.error("Error fetching posts by tag:",P),{success:!1,error:P.message||"Failed to fetch posts by tag"}}},[]),we=qe.useCallback(async X=>{try{const F=await at.getStatistics(X);return F.success?{success:!0,data:F.data}:{success:!1,error:F.message||"Failed to fetch statistics"}}catch(F){return console.error("Error fetching statistics:",F),{success:!1,error:F.message||"Failed to fetch statistics"}}},[]),Ne=qe.useMemo(()=>({posts:e,loading:r,error:o,pagination:u,addPost:y,updatePost:x,deletePost:v,getPost:w,votePost:E,searchPosts:g,getPopularPosts:q,getRecentPosts:B,getPostsByAuthor:re,getPostsByTag:ce,getPostStatistics:we,addComment:k,updateComment:R,deleteComment:D,voteComment:Z,replyToComment:C,updateReply:$,deleteReply:U,refreshPosts:h}),[e,r,o,u,y,x,v,w,E,k,R,D,Z,C,$,U,g,q,B,re,ce,we]);return p.jsx(oE.Provider,{value:Ne,children:t})},yo=()=>{const t=T.useContext(oE);if(!t)throw new Error("usePosts must be used within a PostProvider");return t},iL=()=>{const{posts:t,loading:e,error:n,refreshPosts:r}=yo(),{t:i}=Tn();T.useEffect(()=>{document.title="The Scholars Page - Home"},[]);const o=(u,f=120)=>{if(!u)return"";const h=document.createElement("div");h.innerHTML=u;const g=h.textContent||h.innerText||"";return g.length>f?g.substring(0,f)+"...":g},l=Array.isArray(t)?t.filter(u=>u.isPublished).sort((u,f)=>new Date(f.createdAt)-new Date(u.createdAt)).slice(0,3):[];return n?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("p",{className:"text-red-500 mb-4",children:n}),p.jsx("p",{className:"text-muted mb-4",children:"Make sure the backend server is running at http://localhost:5000"}),p.jsx("button",{onClick:r,className:"px-4 py-2 bg-accent text-white rounded hover:bg-accent/90",children:"Retry"})]}):p.jsxs("div",{className:"space-y-16",children:[p.jsxs("section",{className:"text-center py-10 animate-in slide-in-from-bottom-4 duration-700",children:[p.jsx("div",{className:"inline-block px-4 py-1.5 bg-accent/10 backdrop-blur-sm border border-accent/30 rounded-full mb-6 shadow-lg shadow-accent/5",children:p.jsx("span",{className:"text-sm font-medium text-accent",children:i({en:"Your Gateway to Academic Success",bn:"   "})})}),p.jsx("h1",{className:"text-4xl md:text-6xl font-serif font-light text-foreground mb-6 leading-tight",children:i({en:"The Scholars Page",bn:"  "})}),p.jsx("p",{className:"text-lg md:text-xl text-muted max-w-3xl mx-auto leading-relaxed mb-8",children:i({en:"Discover scholarships, internships, and career opportunities tailored for ambitious students and researchers. Your next opportunity awaits.",bn:"       ,           "})}),p.jsxs("div",{className:"flex gap-4 justify-center flex-wrap text-sm text-muted/80",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 bg-success rounded-full"}),p.jsx("span",{children:i({en:"Scholarships",bn:""})})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 bg-accent rounded-full"}),p.jsx("span",{children:i({en:"Internships",bn:""})})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 bg-warning rounded-full"}),p.jsx("span",{children:i({en:"Opportunities",bn:""})})]})]})]}),p.jsxs("section",{className:"space-y-10",children:[p.jsxs("div",{className:"flex items-center justify-between border-b border-border pb-3",children:[p.jsx("h2",{className:"text-2xl font-serif font-normal",children:i({en:"Latest Opportunities",bn:" "})}),p.jsxs(Ve,{to:"/article",className:"text-sm text-accent hover:text-accent-hover transition-colors flex items-center gap-1",children:[i({en:"View all",bn:" "})," ",p.jsx(Qa,{className:"w-4 h-4"})]})]}),p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(u=>p.jsxs("article",{className:"group relative flex flex-col items-start bg-surface/40 backdrop-blur-xl hover:bg-surface/60 border border-border/50 rounded-2xl p-6 transition-all duration-300 shadow-xl shadow-black/20 hover:shadow-2xl hover:shadow-accent/10 hover:border-accent/30",children:[p.jsxs("div",{className:"flex items-center justify-between w-full mb-3",children:[p.jsx("span",{className:"text-xs font-medium text-muted font-sans tracking-wider",children:new Date(u.createdAt).toLocaleDateString()}),u.category&&p.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 bg-accent/10 text-accent border border-accent/20 rounded-full text-xs font-medium uppercase",children:[p.jsx(Fi,{className:"w-3 h-3"}),u.category]})]}),p.jsx("h3",{className:"text-xl font-serif font-medium mb-3 group-hover:text-accent transition-colors leading-snug",children:p.jsxs(Ve,{to:`/article/${u._id||u.id}`,children:[p.jsx("span",{className:"absolute inset-0"}),u.title]})}),p.jsx("p",{className:"text-sm text-muted/80 leading-relaxed line-clamp-3 mb-4 flex-grow",children:o(u.content)}),p.jsxs("div",{className:"mt-auto pt-3 border-t border-border/50 w-full flex items-center justify-between",children:[p.jsx("span",{className:"text-xs text-muted",children:u.authorName}),p.jsxs("div",{className:"text-sm font-medium text-accent group-hover:text-accent-hover transition-colors flex items-center gap-1.5",children:[i({en:"Read More",bn:" "}),p.jsx(Qa,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]},u._id||u.id))})]}),p.jsxs("section",{className:"py-16 bg-gradient-to-br from-surface/40 to-surface/20 backdrop-blur-xl border border-border/50 rounded-3xl shadow-2xl",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent/10 border border-accent/30 rounded-full mb-4",children:[p.jsx(HD,{className:"w-4 h-4 text-accent"}),p.jsx("span",{className:"text-sm font-medium text-accent",children:i({en:"Why Choose Us",bn:"   "})})]}),p.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-light mb-4",children:i({en:"Your Success Journey Starts Here",bn:"     "})}),p.jsx("p",{className:"text-muted max-w-2xl mx-auto",children:i({en:"We curate the best opportunities from around the world to help you achieve your academic and career goals.",bn:"             "})})]}),p.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 px-8",children:[p.jsxs("div",{className:"text-center p-6 bg-background/50 border border-border/30 rounded-2xl hover:border-accent/50 transition-all duration-300 hover:shadow-lg",children:[p.jsx("div",{className:"w-14 h-14 mx-auto mb-4 bg-accent/10 rounded-2xl flex items-center justify-center",children:p.jsx(Hk,{className:"w-7 h-7 text-accent"})}),p.jsx("h3",{className:"text-lg font-medium mb-2",children:i({en:"Global Reach",bn:" "})}),p.jsx("p",{className:"text-sm text-muted",children:i({en:"Opportunities from top universities and organizations worldwide",bn:"      "})})]}),p.jsxs("div",{className:"text-center p-6 bg-background/50 border border-border/30 rounded-2xl hover:border-accent/50 transition-all duration-300 hover:shadow-lg",children:[p.jsx("div",{className:"w-14 h-14 mx-auto mb-4 bg-success/10 rounded-2xl flex items-center justify-center",children:p.jsx(gd,{className:"w-7 h-7 text-success"})}),p.jsx("h3",{className:"text-lg font-medium mb-2",children:i({en:"Daily Updates",bn:" "})}),p.jsx("p",{className:"text-sm text-muted",children:i({en:"Fresh opportunities added regularly to keep you ahead",bn:"        "})})]}),p.jsxs("div",{className:"text-center p-6 bg-background/50 border border-border/30 rounded-2xl hover:border-accent/50 transition-all duration-300 hover:shadow-lg",children:[p.jsx("div",{className:"w-14 h-14 mx-auto mb-4 bg-blue-500/10 rounded-2xl flex items-center justify-center",children:p.jsx(Uk,{className:"w-7 h-7 text-blue-500"})}),p.jsx("h3",{className:"text-lg font-medium mb-2",children:i({en:"Verified Sources",bn:" "})}),p.jsx("p",{className:"text-sm text-muted",children:i({en:"All opportunities verified from official sources",bn:"     "})})]}),p.jsxs("div",{className:"text-center p-6 bg-background/50 border border-border/30 rounded-2xl hover:border-accent/50 transition-all duration-300 hover:shadow-lg",children:[p.jsx("div",{className:"w-14 h-14 mx-auto mb-4 bg-purple-500/10 rounded-2xl flex items-center justify-center",children:p.jsx(yd,{className:"w-7 h-7 text-purple-500"})}),p.jsx("h3",{className:"text-lg font-medium mb-2",children:i({en:"Community Support",bn:" "})}),p.jsx("p",{className:"text-sm text-muted",children:i({en:"Join thousands of students achieving their dreams",bn:"       "})})]})]})]}),p.jsxs("section",{className:"text-center py-10 bg-gradient-to-r from-accent/10 via-accent/5 to-accent/10 border border-accent/20 rounded-3xl",children:[p.jsx(Ym,{className:"w-10 h-10 mx-auto mb-3 text-accent"}),p.jsx("h2",{className:"text-2xl md:text-3xl font-serif font-light mb-3",children:i({en:"Ready to Explore?",bn:"  ?"})}),p.jsx("p",{className:"text-base text-muted mb-6 max-w-xl mx-auto",children:i({en:"Browse through hundreds of opportunities and find the perfect match for your goals.",bn:"           "})}),p.jsx(Ve,{to:"/article",children:p.jsxs("button",{className:"px-6 py-2.5 bg-accent text-white rounded-lg text-sm font-medium hover:bg-accent-hover transition-all duration-300 shadow-md shadow-accent/20 hover:shadow-lg hover:shadow-accent/30 flex items-center gap-2 mx-auto",children:[i({en:"View All Opportunities",bn:"  "}),p.jsx(Qa,{className:"w-4 h-4"})]})})]})]})},Ht=qe.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:ql("flex h-10 w-full rounded-lg border border-border/50 bg-surface/40 backdrop-blur-xl px-3 py-2 text-sm text-foreground ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:border-accent/50 transition-all shadow-lg shadow-black/10 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Ht.displayName="Input";const ke=qe.forwardRef(({className:t,variant:e="default",size:n="default",isLoading:r,children:i,...o},l)=>{const u={default:"bg-accent/90 backdrop-blur-xl text-background hover:bg-accent shadow-lg shadow-accent/20 hover:shadow-xl hover:shadow-accent/30 border border-accent/20",outline:"border border-border/50 bg-surface/20 backdrop-blur-xl hover:bg-surface/40 shadow-lg shadow-black/10",ghost:"hover:bg-surface/40 backdrop-blur-sm hover:text-accent",destructive:"bg-red-500/90 backdrop-blur-xl text-white hover:bg-red-600 shadow-lg shadow-red-500/20",link:"text-accent underline-offset-4 hover:underline hover:text-accent-hover"},f={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",icon:"h-10 w-10"};return p.jsxs("button",{className:ql("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",u[e],f[n],t),ref:l,disabled:r,...o,children:[r&&p.jsx(qk,{className:"mr-2 h-4 w-4 animate-spin"}),i]})});ke.displayName="Button";const aL=()=>{const{posts:t,loading:e,error:n,searchPosts:r}=yo(),{t:i}=Tn(),[o,l]=T.useState(""),[u,f]=T.useState(!1),[h,g]=T.useState("All"),[y,x]=T.useState({}),[v,w]=T.useState([]),[E,k]=T.useState(!1),[C,R]=T.useState(!0),[D,$]=T.useState(1);T.useEffect(()=>{document.title="Opportunities - The Scholars Page"},[]),T.useEffect(()=>{U()},[]);const U=async()=>{if(!(E||!C)){k(!0);try{const F=await(await fetch(`https://thescholarspage-api.vercel.app/api/posts?page=${D}&limit=18&published=true&sortBy=createdAt&order=desc`)).json();F.success&&F.posts&&(w(P=>{const O=new Set(P.map(G=>G._id||G.id)),V=F.posts.filter(G=>!O.has(G._id||G.id));return[...P,...V]}),$(P=>P+1),R(F.pagination.page<F.pagination.pages))}catch(X){console.error("Error fetching posts:",X)}finally{k(!1)}}},q=(Array.isArray(v)?v:[]).reduce((X,F)=>{const P=F.category||"Uncategorized";return X[P]||(X[P]=[]),X[P].push(F),X},{}),B=Object.keys(q).sort((X,F)=>q[F].length-q[X].length);T.useEffect(()=>{if(B.length>0&&Object.keys(y).length===0){const X={};B.forEach(F=>{X[F]=9}),x(X)}},[B.length]);const re=X=>{x(F=>({...F,[X]:(F[X]||9)+6}))},ce=X=>{x(F=>({...F,[X]:9}))},we=async X=>{X.preventDefault(),o.trim()&&(f(!0),await r(o),f(!1))},Ne=async()=>{l(""),w([]),$(1),R(!0),await U()};return n?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("p",{className:"text-red-500 mb-4",children:n}),p.jsx("p",{className:"text-muted mb-4",children:"Make sure the backend server is running at http://localhost:5000"}),p.jsx(ke,{onClick:refreshPosts,children:"Retry"})]}):p.jsxs("div",{className:"space-y-12",children:[p.jsxs("header",{className:"pb-8",children:[p.jsx("h1",{className:"text-3xl md:text-4xl font-serif mb-4",children:i({en:"All Opportunities",bn:" "})}),p.jsx("p",{className:"text-muted text-lg max-w-2xl mb-6",children:i({en:"Browse our comprehensive collection of scholarships, internships, fellowships, and academic opportunities from around the world.",bn:" , ,         "})}),p.jsxs("form",{onSubmit:we,className:"flex gap-2 max-w-xl",children:[p.jsx("div",{className:"flex-1",children:p.jsx(Ht,{placeholder:i({en:"Search posts...",bn:" ..."}),value:o,onChange:X=>l(X.target.value),icon:p.jsx(Kk,{className:"w-4 h-4"})})}),p.jsx(ke,{type:"submit",disabled:u||!o.trim(),children:i(u?{en:"Searching...",bn:" ..."}:{en:"Search",bn:""})}),o&&p.jsx(ke,{type:"button",variant:"outline",onClick:Ne,children:i({en:"Clear",bn:""})})]})]}),p.jsxs("div",{className:"space-y-16",children:[B.length>0?B.map(X=>{const F=q[X],P=y[X]!==void 0?y[X]:9,O=F.slice(0,P),V=F.length>P,G=P>9;return p.jsxs("section",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3 border-b border-border pb-3",children:[p.jsx(Fi,{className:"w-5 h-5 text-accent"}),p.jsx("h2",{className:"text-2xl font-serif font-medium",children:X})]}),p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map(ae=>p.jsxs("article",{className:"group relative flex flex-col bg-surface/40 backdrop-blur-xl hover:bg-surface/60 border border-border/50 rounded-2xl p-6 transition-all duration-300 shadow-xl shadow-black/20 hover:shadow-2xl hover:shadow-accent/10 hover:border-accent/30",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("span",{className:"text-xs text-muted font-sans",children:new Date(ae.createdAt).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}),ae.category&&p.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 bg-accent/10 text-accent border border-accent/20 rounded-full text-xs font-medium uppercase tracking-wide",children:[p.jsx(Fi,{className:"w-3 h-3"}),ae.category]})]}),p.jsx("h3",{className:"text-lg font-serif font-medium mb-3 group-hover:text-accent transition-colors leading-snug",children:p.jsxs(Ve,{to:`/article/${ae._id||ae.id}`,children:[p.jsx("span",{className:"absolute inset-0"}),ae.title]})}),ae.content&&p.jsxs("p",{className:"text-sm text-muted/80 mb-4 line-clamp-2 flex-grow",children:[ae.content.replace(/<[^>]*>/g,"").substring(0,120),"..."]}),ae.tags&&ae.tags.length>0&&p.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-4",children:[ae.tags.slice(0,3).map((Te,M)=>p.jsx("span",{className:"px-2 py-1 bg-surface-hover/50 text-muted border border-border/30 rounded text-xs",children:Te},M)),ae.tags.length>3&&p.jsxs("span",{className:"px-2 py-1 text-muted text-xs",children:["+",ae.tags.length-3]})]}),p.jsxs("div",{className:"mt-auto pt-3 border-t border-border/50 flex items-center justify-between",children:[p.jsx("span",{className:"text-xs text-muted",children:ae.authorName}),p.jsx("div",{className:"text-sm font-medium text-accent group-hover:text-accent-hover transition-colors flex items-center gap-1",children:p.jsx(Qa,{className:"w-4 h-4"})})]})]},ae._id||ae.id))}),(V||G)&&p.jsxs("div",{className:"flex justify-center gap-3 pt-4",children:[V&&p.jsxs(ke,{variant:"outline",onClick:()=>re(X),className:"flex items-center gap-2",children:[i({en:"See More",bn:" "}),p.jsx(Jm,{className:"w-4 h-4"})]}),G&&p.jsxs(ke,{variant:"outline",onClick:()=>ce(X),className:"flex items-center gap-2",children:[i({en:"See Less",bn:" "}),p.jsx(j3,{className:"w-4 h-4"})]})]})]},X)}):p.jsx("div",{className:"text-center py-20 text-muted italic",children:i({en:"No posts found.",bn:"   "})}),C&&!E&&B.length>0&&p.jsx("div",{className:"flex justify-center pt-12",children:p.jsxs(ke,{onClick:U,variant:"outline",className:"flex items-center gap-2 px-8 py-3",children:[p.jsx(Jm,{className:"w-5 h-5"}),i({en:"Load More Posts",bn:"   "})]})}),E&&p.jsx("div",{className:"flex justify-center py-8",children:p.jsx("div",{className:"text-muted",children:i({en:"Loading more posts...",bn:"   ..."})})})]})]})},Sl=qe.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:ql("flex min-h-[80px] w-full rounded-lg border border-border/50 bg-surface/40 backdrop-blur-xl px-3 py-2 text-sm text-foreground ring-offset-background placeholder:text-muted/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:border-accent/50 transition-all shadow-lg shadow-black/10 disabled:cursor-not-allowed disabled:opacity-50 resize-y",t),ref:n,...e}));Sl.displayName="Textarea";const oL=()=>{const{id:t}=Dw(),{getPost:e,votePost:n,addComment:r,replyToComment:i,updateComment:o,deleteComment:l,updateReply:u,deleteReply:f,voteComment:h,getPostStatistics:g}=yo(),{t:y}=Tn(),{user:x}=si(),v=Xi(),[w,E]=T.useState(null),[k,C]=T.useState(!0),[R,D]=T.useState(!1);T.useEffect(()=>{w?.title?document.title=`${w.title} - The Scholars Page`:document.title="Article - The Scholars Page"},[w]);const[$,U]=T.useState(null),[Z,q]=T.useState(""),[B,re]=T.useState(""),[ce,we]=T.useState({}),[Ne,X]=T.useState({}),[F,P]=T.useState({}),[O,V]=T.useState(null),[G,ae]=T.useState(null),[Te,M]=T.useState(""),[Y,te]=T.useState(!1),[ie,xe]=T.useState(!1);T.useEffect(()=>{(async()=>{if(x&&x.email)try{const me=await mr.checkAccess(x.email);D(me.success&&me.data.hasAccess)}catch{D(!1)}})()},[x]),T.useEffect(()=>{(async()=>{C(!0);const me=await e(t);me.success&&E(me.data),C(!1)})()},[t,e]);const Ce=async()=>{const ee=await g(t);ee.success&&(U(ee.data),xe(!0))},pe=async()=>{if(!x){alert(y({en:"Please login to upvote",bn:"   "}));return}const ee=await n(t,"upvote");ee.success&&E(me=>({...me,upvotes:ee.data.upvotes,downvotes:ee.data.downvotes,votes:ee.data.votes}))},rt=async()=>{if(!x){alert(y({en:"Please login to vote",bn:"   "}));return}const ee=await n(t,"downvote");ee.success&&E(me=>({...me,upvotes:ee.data.upvotes,downvotes:ee.data.downvotes,votes:ee.data.votes}))},Fe=async ee=>{if(ee.preventDefault(),!Z.trim()||!B.trim())return;if(te(!0),(await r(t,{authorName:B,content:Z})).success){const K=await e(t);K.success&&E(K.data),q(""),re("")}te(!1)},nn=async ee=>{if(!ce[ee]?.trim()||!Ne[ee]?.trim())return;if(te(!0),(await i(t,ee,{authorName:Ne[ee],content:ce[ee]})).success){const K=await e(t);K.success&&E(K.data),we(Ye=>({...Ye,[ee]:""})),X(Ye=>({...Ye,[ee]:""})),P(Ye=>({...Ye,[ee]:!1}))}te(!1)},pn=ee=>{P(me=>({...me,[ee]:!me[ee]}))},An=(ee,me)=>{V(ee),M(me)},ea=async ee=>{if(te(!0),(await o(t,ee,{content:Te})).success){const K=await e(t);K.success&&E(K.data),V(null),M("")}te(!1)},Yn=async ee=>{if(!window.confirm(y({en:"Delete this comment?",bn:"  ?"})))return;if((await l(t,ee)).success){const K=await e(t);K.success&&E(K.data)}},ss=(ee,me,K)=>{ae(`${ee}-${me}`),M(K)},li=async(ee,me)=>{if(te(!0),(await u(t,ee,me,{content:Te})).success){const Ye=await e(t);Ye.success&&E(Ye.data),ae(null),M("")}te(!1)},xo=async(ee,me)=>{if(!window.confirm(y({en:"Delete this reply?",bn:"  ?"})))return;if((await f(t,ee,me)).success){const Ye=await e(t);Ye.success&&E(Ye.data)}},ci=async(ee,me)=>{if(!x){alert(y({en:"Please login to vote",bn:"   "}));return}if((await h(t,ee,me)).success){const Ye=await e(t);Ye.success&&E(Ye.data)}};if(k)return p.jsx("div",{className:"text-center py-20",children:p.jsxs("div",{className:"animate-pulse",children:[p.jsx("div",{className:"h-8 bg-surface rounded w-3/4 mx-auto mb-4"}),p.jsx("div",{className:"h-4 bg-surface rounded w-1/2 mx-auto"})]})});if(!w)return p.jsxs("div",{className:"text-center py-20",children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:y({en:"Opportunity not found",bn:"  "})}),p.jsx(Ve,{to:"/article",className:"text-accent hover:text-accent-hover transition-colors",children:y({en:"Browse All Opportunities",bn:"   "})})]});const or=w.upvotes||0,Jn=w.downvotes||0,Xn=w.comments||[],ta=w.votes||[],ui=x?.uid||x?.email,Dt=ui&&ta.some(ee=>ee.userId===ui&&ee.voteType==="upvote");return p.jsxs("article",{className:"animate-in fade-in duration-700",children:[p.jsxs("button",{onClick:()=>v(-1),className:"group flex items-center text-sm text-muted mb-8 hover:text-accent transition-colors",children:[p.jsx(Jg,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),y({en:"Back",bn:" "})]}),p.jsxs("header",{className:"mb-10 text-center mx-auto bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-8 shadow-2xl shadow-black/20",children:[p.jsx("div",{className:"text-sm font-medium text-accent mb-4 tracking-widest uppercase",children:new Date(w.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}),w.category&&p.jsx("div",{className:"mb-4",children:p.jsxs("span",{className:"inline-flex items-center gap-1 px-4 py-1.5 bg-accent/15 text-accent border border-accent/30 rounded-full text-sm font-semibold uppercase tracking-wider",children:[p.jsx(Fi,{className:"w-4 h-4"}),w.category]})}),p.jsx("h1",{className:"text-3xl md:text-5xl font-serif font-medium leading-tight mb-6",children:w.title}),p.jsxs("div",{className:"text-muted text-base mb-4",children:[y({en:"By",bn:""})," ",p.jsx("span",{className:"text-foreground font-medium",children:w.authorName})]}),w.tags&&w.tags.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-4",children:w.tags.map((ee,me)=>p.jsx("span",{className:"px-3 py-1 bg-accent/10 text-accent rounded-full text-sm",children:ee},me))}),w.views!==void 0&&p.jsxs("div",{className:"text-sm text-muted mt-2",children:[w.views," ",y({en:"views",bn:" "})]})]}),p.jsx("div",{className:"prose prose-lg mx-auto prose-headings:font-serif prose-p:font-sans prose-p:font-light prose-a:text-accent",dangerouslySetInnerHTML:{__html:w.content}}),(w.applyLink||w.officialLink)&&p.jsx("div",{className:"mt-12 pt-8 border-t border-border mx-auto",children:p.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[w.applyLink&&p.jsxs("a",{href:w.applyLink,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 px-5 py-2.5 text-accent border border-accent/30 rounded-lg hover:bg-accent hover:text-white transition-all duration-200 text-sm font-medium",children:[p.jsx(Xm,{className:"w-4 h-4"}),y({en:"Apply Now",bn:"  "})]}),w.officialLink&&p.jsxs("a",{href:w.officialLink,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex items-center gap-2 px-5 py-2.5 text-muted border border-border rounded-lg hover:border-accent/30 hover:text-accent transition-all duration-200 text-sm font-medium",children:[p.jsx(Xm,{className:"w-4 h-4"}),y({en:"Official Link",bn:" "})]})]})}),p.jsxs("div",{className:"mt-12 pt-8 border-t border-border mx-auto",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("button",{onClick:pe,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${Dt?"bg-accent text-white":"bg-surface border border-border hover:bg-surface-hover"}`,children:[p.jsx(Al,{className:"w-5 h-5"}),p.jsx("span",{className:"font-medium",children:or})]}),R&&p.jsxs("button",{onClick:rt,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all bg-surface border border-border hover:bg-surface-hover",children:[p.jsx(M1,{className:"w-5 h-5"}),p.jsx("span",{className:"font-medium",children:Jn})]})]}),p.jsxs("button",{onClick:Ce,className:"flex items-center gap-2 px-4 py-2 rounded-lg transition-all bg-surface border border-border hover:bg-surface-hover",children:[p.jsx(M3,{className:"w-5 h-5"}),y({en:"Statistics",bn:""})]})]}),ie&&$&&p.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4 p-4 bg-surface/40 rounded-lg border border-border",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold text-accent",children:$.views}),p.jsx("div",{className:"text-xs text-muted",children:y({en:"Views",bn:" "})})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold text-success",children:$.upvotes}),p.jsx("div",{className:"text-xs text-muted",children:y({en:"Upvotes",bn:""})})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold",children:$.totalComments}),p.jsx("div",{className:"text-xs text-muted",children:y({en:"Comments",bn:""})})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold",children:$.totalReplies}),p.jsx("div",{className:"text-xs text-muted",children:y({en:"Replies",bn:""})})]})]})]}),p.jsxs("div",{className:"pt-8 mx-auto",children:[p.jsxs("h2",{className:"text-2xl font-serif mb-6 flex items-center gap-2",children:[p.jsx(SD,{className:"w-6 h-6"}),y({en:"Comments",bn:""})," (",Xn.length,")"]}),p.jsxs("div",{className:"mb-8 bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-6",children:[p.jsx("h3",{className:"text-lg font-medium mb-4",children:y({en:"Leave a Comment",bn:"  "})}),p.jsxs("form",{onSubmit:Fe,className:"space-y-4",children:[p.jsx("div",{children:p.jsx(Ht,{placeholder:y({en:"Your Name",bn:" "}),value:B,onChange:ee=>re(ee.target.value),required:!0})}),p.jsx("div",{children:p.jsx(Sl,{placeholder:y({en:"Write your comment...",bn:"  ..."}),value:Z,onChange:ee=>q(ee.target.value),rows:3,required:!0})}),p.jsxs(ke,{type:"submit",disabled:Y,children:[p.jsx(R1,{className:"w-4 h-4 mr-2"}),y({en:"Post Comment",bn:"  "})]})]})]}),p.jsxs("div",{className:"space-y-6",children:[Xn.map(ee=>p.jsxs("div",{className:"bg-surface/20 border border-border/30 rounded-xl p-6",children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"font-medium",children:ee.authorName}),p.jsx("p",{className:"text-sm text-muted",children:new Date(ee.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:()=>pn(ee._id||ee.id),className:"text-sm text-accent hover:text-accent-hover flex items-center gap-1",children:[p.jsx(LD,{className:"w-4 h-4"}),y({en:"Reply",bn:" "})]}),x&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>An(ee._id||ee.id,ee.content),className:"p-1 hover:bg-surface-hover rounded",title:"Edit",children:p.jsx($l,{className:"w-4 h-4 text-blue-500"})}),p.jsx("button",{onClick:()=>Yn(ee._id||ee.id),className:"p-1 hover:bg-surface-hover rounded",title:"Delete",children:p.jsx(md,{className:"w-4 h-4 text-red-500"})})]})]})]}),O===(ee._id||ee.id)?p.jsxs("div",{className:"mb-4",children:[p.jsx(Sl,{value:Te,onChange:me=>M(me.target.value),className:"mb-2"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(ke,{size:"sm",onClick:()=>ea(ee._id||ee.id),disabled:Y,children:y({en:"Save",bn:""})}),p.jsx(ke,{size:"sm",variant:"outline",onClick:()=>{V(null),M("")},children:y({en:"Cancel",bn:""})})]})]}):p.jsx("p",{className:"text-foreground mb-4",children:ee.content}),p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsxs("button",{onClick:()=>ci(ee._id||ee.id,"upvote"),className:"flex items-center gap-1 px-2 py-1 rounded hover:bg-surface-hover text-sm",children:[p.jsx(Al,{className:"w-4 h-4"}),p.jsx("span",{children:ee.upvotes||0})]}),R&&p.jsxs("button",{onClick:()=>ci(ee._id||ee.id,"downvote"),className:"flex items-center gap-1 px-2 py-1 rounded hover:bg-surface-hover text-sm",children:[p.jsx(M1,{className:"w-4 h-4"}),p.jsx("span",{children:ee.downvotes||0})]})]}),F[ee._id||ee.id]&&p.jsx("div",{className:"ml-6 mt-4 p-4 bg-surface/40 rounded-lg border border-border/50",children:p.jsxs("form",{onSubmit:me=>{me.preventDefault(),nn(ee._id||ee.id)},className:"space-y-3",children:[p.jsx(Ht,{placeholder:y({en:"Your Name",bn:" "}),value:Ne[ee._id||ee.id]||"",onChange:me=>X(K=>({...K,[ee._id||ee.id]:me.target.value})),required:!0}),p.jsx(Sl,{placeholder:y({en:"Write your reply...",bn:"  ..."}),value:ce[ee._id||ee.id]||"",onChange:me=>we(K=>({...K,[ee._id||ee.id]:me.target.value})),rows:2,required:!0}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(ke,{type:"submit",size:"sm",disabled:Y,children:[p.jsx(R1,{className:"w-3 h-3 mr-1"}),y({en:"Reply",bn:" "})]}),p.jsx(ke,{type:"button",variant:"outline",size:"sm",onClick:()=>pn(ee._id||ee.id),children:y({en:"Cancel",bn:""})})]})]})}),ee.replies&&ee.replies.length>0&&p.jsx("div",{className:"ml-6 mt-4 space-y-4",children:ee.replies.map(me=>p.jsxs("div",{className:"bg-surface/40 border border-border/30 rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-start justify-between mb-2",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h5",{className:"font-medium text-sm",children:me.authorName}),p.jsx("p",{className:"text-xs text-muted",children:new Date(me.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),x&&p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:()=>ss(ee._id||ee.id,me._id||me.id,me.content),className:"p-1 hover:bg-surface-hover rounded",title:"Edit",children:p.jsx($l,{className:"w-3 h-3 text-blue-500"})}),p.jsx("button",{onClick:()=>xo(ee._id||ee.id,me._id||me.id),className:"p-1 hover:bg-surface-hover rounded",title:"Delete",children:p.jsx(md,{className:"w-3 h-3 text-red-500"})})]})]}),G===`${ee._id||ee.id}-${me._id||me.id}`?p.jsxs("div",{children:[p.jsx(Sl,{value:Te,onChange:K=>M(K.target.value),className:"mb-2 text-sm",rows:2}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(ke,{size:"sm",onClick:()=>li(ee._id||ee.id,me._id||me.id),disabled:Y,children:y({en:"Save",bn:""})}),p.jsx(ke,{size:"sm",variant:"outline",onClick:()=>{ae(null),M("")},children:y({en:"Cancel",bn:""})})]})]}):p.jsx("p",{className:"text-sm",children:me.content})]},me._id||me.id))})]},ee._id||ee.id)),Xn.length===0&&p.jsx("p",{className:"text-center text-muted py-8",children:y({en:"No comments yet. Be the first to comment!",bn:"      !"})})]})]}),p.jsx("div",{className:"mt-16 pt-8 border-t border-border flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-muted mx-auto",children:p.jsx(Ve,{to:"/blog",className:"text-accent hover:text-accent-hover transition-colors",children:y({en:"Explore More Opportunities",bn:"   "})})})]})},lL="/assets/editor-B8fEfyIW.jpg",cL=()=>{const{t}=Tn();T.useEffect(()=>{document.title="About Us - The Scholars Page"},[]);const e=[{icon:p.jsx(Hk,{className:"w-8 h-8"}),title:{en:"Scholarships",bn:""},description:{en:"Curated opportunities from top universities worldwide.",bn:"     "}},{icon:p.jsx(Ym,{className:"w-8 h-8"}),title:{en:"Internships",bn:""},description:{en:"Professional programs to gain real-world experience.",bn:"     "}},{icon:p.jsx(v3,{className:"w-8 h-8"}),title:{en:"Fellowships",bn:""},description:{en:"Research grants for aspiring scholars and academics.",bn:"    "}},{icon:p.jsx(Uk,{className:"w-8 h-8"}),title:{en:"Global Reach",bn:" "},description:{en:"Opportunities from institutions across the globe.",bn:"   "}},{icon:p.jsx(yd,{className:"w-8 h-8"}),title:{en:"Community",bn:""},description:{en:"Join ambitious students pursuing excellence.",bn:"     "}},{icon:p.jsx(gd,{className:"w-8 h-8"}),title:{en:"Career Growth",bn:" "},description:{en:"Resources to advance your academic journey.",bn:"     "}}];return p.jsxs("div",{className:"space-y-16 animate-in fade-in duration-700",children:[p.jsxs("section",{className:"text-center py-10 bg-surface/20 backdrop-blur-3xl border border-border/30 rounded-3xl p-12 shadow-2xl shadow-black/30",children:[p.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-light text-foreground mb-4",children:t({en:"About The Scholars Page",bn:"   "})}),p.jsx("p",{className:"text-lg text-muted max-w-2xl mx-auto",children:t({en:"Connecting students with life-changing opportunities worldwide.",bn:"       "})})]}),p.jsxs("section",{className:"bg-gradient-to-br from-surface/60 via-surface/40 to-surface/60 backdrop-blur-3xl border border-border/40 rounded-3xl p-10 shadow-2xl shadow-black/30",children:[p.jsx("h2",{className:"text-3xl font-serif font-medium text-center mb-6",children:t({en:"Our Mission",bn:" "})}),p.jsx("p",{className:"text-muted text-lg leading-relaxed text-center max-w-2xl mx-auto",children:t({en:"We democratize access to educational opportunities. Every student deserves the chance to pursue their academic dreams, regardless of background.",bn:"               "})})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-3xl font-serif font-medium text-center mb-10",children:t({en:"What We Offer",bn:"   "})}),p.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((n,r)=>p.jsxs("div",{className:"bg-gradient-to-br from-surface/50 via-surface/30 to-surface/50 backdrop-blur-2xl hover:backdrop-blur-3xl border border-border/40 rounded-2xl p-6 transition-all duration-300 group shadow-xl shadow-black/30 hover:shadow-2xl hover:shadow-accent/20 hover:border-accent/40",children:[p.jsx("div",{className:"text-accent mb-3 group-hover:scale-110 transition-transform",children:n.icon}),p.jsx("h3",{className:"text-lg font-serif font-medium mb-2",children:t(n.title)}),p.jsx("p",{className:"text-muted text-sm leading-relaxed",children:t(n.description)})]},r))})]}),p.jsx("section",{className:"bg-gradient-to-br from-accent/15 via-accent/10 to-accent/15 backdrop-blur-3xl border border-accent/40 rounded-3xl p-10 shadow-2xl shadow-accent/20",children:p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-4xl md:text-5xl font-serif font-bold text-accent mb-2",children:"500+"}),p.jsx("div",{className:"text-muted text-sm md:text-base",children:t({en:"Opportunities",bn:""})})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-4xl md:text-5xl font-serif font-bold text-accent mb-2",children:"50+"}),p.jsx("div",{className:"text-muted text-sm md:text-base",children:t({en:"Countries",bn:""})})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-4xl md:text-5xl font-serif font-bold text-accent mb-2",children:"100+"}),p.jsx("div",{className:"text-muted text-sm md:text-base",children:t({en:"Universities",bn:""})})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-4xl md:text-5xl font-serif font-bold text-accent mb-2",children:"24/7"}),p.jsx("div",{className:"text-muted text-sm md:text-base",children:t({en:"Updated",bn:" "})})]})]})}),p.jsxs("section",{className:"bg-gradient-to-br from-surface/60 via-surface/40 to-surface/60 backdrop-blur-3xl border border-border/40 rounded-3xl p-10 shadow-2xl shadow-black/30",children:[p.jsx("h2",{className:"text-3xl font-serif font-medium text-center mb-8",children:t({en:"Meet the Editor",bn:"   "})}),p.jsx("div",{className:"max-w-3xl mx-auto",children:p.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("img",{src:lL,alt:"Editor Profile",className:"w-40 h-40 rounded-full object-cover border-4 border-accent shadow-2xl shadow-accent/30"})}),p.jsxs("div",{className:"flex-1 text-center md:text-left",children:[p.jsx("h3",{className:"text-2xl font-serif font-medium mb-1",children:t({en:"Md. Abid Hasan Rafi",bn:"   "})}),p.jsx("p",{className:"text-accent font-medium mb-4 text-sm",children:t({en:"Founder & Editor",bn:"  "})}),p.jsx("p",{className:"text-muted text-sm leading-relaxed mb-5",children:t({en:"Passionate about education and helping students worldwide access life-changing opportunities.",bn:"          "})}),p.jsxs("div",{className:"flex gap-3 justify-center md:justify-start",children:[p.jsx("a",{href:"https://www.linkedin.com/in/abid-hasan-rafi",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-full bg-surface/60 backdrop-blur-xl border border-border/60 hover:border-accent hover:bg-accent/10 flex items-center justify-center transition-all group",title:"LinkedIn",children:p.jsx($k,{className:"w-4 h-4 text-muted group-hover:text-accent transition-colors"})}),p.jsx("a",{href:"https://www.researchgate.net/profile/Md-Abid-Hasan-Rafi",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-full bg-surface/60 backdrop-blur-xl border border-border/60 hover:border-accent hover:bg-accent/10 flex items-center justify-center transition-all group",title:"ResearchGate",children:p.jsx(Ym,{className:"w-4 h-4 text-muted group-hover:text-accent transition-colors"})}),p.jsx("a",{href:"https://github.com/abidhasanrafi",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-full bg-surface/60 backdrop-blur-xl border border-border/60 hover:border-accent hover:bg-accent/10 flex items-center justify-center transition-all group",title:"GitHub",children:p.jsx(G3,{className:"w-4 h-4 text-muted group-hover:text-accent transition-colors"})}),p.jsx("a",{href:"https://abidhasanrafi.github.io",target:"_blank",rel:"noopener noreferrer",className:"w-9 h-9 rounded-full bg-surface/60 backdrop-blur-xl border border-border/60 hover:border-accent hover:bg-accent/10 flex items-center justify-center transition-all group",title:"Portfolio Website",children:p.jsx(Xm,{className:"w-4 h-4 text-muted group-hover:text-accent transition-colors"})}),p.jsx("a",{href:"mailto:ahr16.abidhasanrafi@gmail.com",className:"w-9 h-9 rounded-full bg-surface/60 backdrop-blur-xl border border-border/60 hover:border-accent hover:bg-accent/10 flex items-center justify-center transition-all group",title:"Email",children:p.jsx(Fk,{className:"w-4 h-4 text-muted group-hover:text-accent transition-colors"})})]})]})]})})]}),p.jsxs("section",{className:"text-center py-10 bg-gradient-to-br from-surface/60 via-surface/40 to-surface/60 backdrop-blur-3xl border border-border/40 rounded-3xl shadow-2xl shadow-black/30",children:[p.jsx("h2",{className:"text-3xl font-serif font-medium mb-4",children:t({en:"Ready to Start Your Journey?",bn:"    ?"})}),p.jsx("p",{className:"text-muted mb-6 max-w-xl mx-auto",children:t({en:"Browse opportunities and take the first step towards your goals.",bn:"         "})}),p.jsxs(Ve,{to:"/article",className:"inline-flex items-center gap-2 bg-accent hover:bg-accent-hover text-white px-8 py-3 rounded-lg font-medium transition-all duration-300 shadow-lg shadow-accent/20 hover:shadow-xl hover:shadow-accent/30",children:[t({en:"Explore Opportunities",bn:"  "}),p.jsx(gd,{className:"w-5 h-5"})]})]})]})},uL=()=>{const[t,e]=T.useState(""),[n,r]=T.useState(""),[i,o]=T.useState(""),[l,u]=T.useState(""),[f,h]=T.useState(!1),[g,y]=T.useState(!1);T.useEffect(()=>{document.title=f?"Sign Up - The Scholars Page":"Login - The Scholars Page"},[f]);const{loginWithEmail:x,signupWithEmail:v,loginWithGoogle:w}=si(),E=Xi(),k=ar(),{t:C}=Tn(),R=async $=>{$.preventDefault(),u(""),y(!0);try{let U;if(f?U=await v(t,n,i):U=await x(t,n),U.success){const Z=k.state?.from?.pathname||"/";E(Z,{replace:!0})}else u(U.error)}catch{u("An unexpected error occurred")}finally{y(!1)}},D=async()=>{u(""),y(!0);try{const $=await w();if($.success){const U=k.state?.from?.pathname||"/";E(U,{replace:!0})}else u($.error)}catch{u("An unexpected error occurred")}finally{y(!1)}};return p.jsx("div",{className:"flex min-h-[80vh] items-center justify-center px-4",children:p.jsxs("div",{className:"w-full max-w-md p-8 border border-border/50 bg-surface/40 backdrop-blur-2xl rounded-2xl shadow-2xl shadow-black/30",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-serif text-foreground mb-2",children:C({en:"Scholar Access",bn:" "})}),p.jsx("p",{className:"text-sm text-muted",children:C(f?{en:"Create your account",bn:"   "}:{en:"Sign in to manage opportunities",bn:"     "})})]}),p.jsxs("form",{onSubmit:R,className:"space-y-6",children:[f&&p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium mb-2 block text-foreground",children:C({en:"Display Name",bn:" "})}),p.jsx(Ht,{type:"text",value:i,onChange:$=>o($.target.value),placeholder:C({en:"Dr. Scholar",bn:". "}),required:f})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium mb-2 block text-foreground",children:C({en:"Email",bn:""})}),p.jsx(Ht,{type:"email",value:t,onChange:$=>e($.target.value),placeholder:"scholar@example.com",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-sm font-medium mb-2 block text-foreground",children:C({en:"Password",bn:""})}),p.jsx(Ht,{type:"password",value:n,onChange:$=>r($.target.value),placeholder:"",required:!0})]}),l&&p.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-400 px-4 py-3 rounded-lg text-sm",children:l}),p.jsx(ke,{type:"submit",className:"w-full",disabled:g,children:C(g?{en:"Please wait...",bn:" ..."}:f?{en:"Sign Up",bn:"  "}:{en:"Sign In",bn:" "})})]}),p.jsxs("div",{className:"mt-6",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-border/50"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"px-2 bg-surface/40 text-muted",children:C({en:"Or continue with",bn:"  "})})})]}),p.jsxs(ke,{type:"button",onClick:D,disabled:g,className:"w-full mt-4 bg-white text-gray-800 hover:bg-gray-100 border border-gray-300",children:[p.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[p.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),p.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),p.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),p.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),C({en:"Google Sign In",bn:"  "})]})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{type:"button",onClick:()=>{h(!f),u("")},className:"text-sm text-primary hover:underline",children:C(f?{en:"Already have an account? Sign in",bn:"   ?   "}:{en:"Don't have an account? Sign up",bn:" ?   "})})})]})})},dL=()=>{const{user:t,updateProfile:e}=si(),{posts:n}=yo(),{t:r}=Tn(),[i,o]=T.useState([]),[l,u]=T.useState(!1),[f,h]=T.useState({displayName:"",photoURL:""}),[g,y]=T.useState(!1),[x,v]=T.useState("");T.useEffect(()=>{document.title="My Profile - The Scholars Page"},[]),T.useEffect(()=>{if(t&&n){const k=t.uid||t.email,C=n.filter(R=>(R.upvotedBy||[]).includes(k));o(C),h({displayName:t.displayName||"",photoURL:t.photoURL||""})}},[t,n]);const w=()=>{l&&(h({displayName:t.displayName||"",photoURL:t.photoURL||""}),v("")),u(!l)},E=async()=>{y(!0),v("");const k={};if(f.displayName!==t.displayName&&(k.displayName=f.displayName),f.photoURL!==t.photoURL&&(k.photoURL=f.photoURL),Object.keys(k).length===0){v(r({en:"No changes to save",bn:"     "})),y(!1);return}const C=await e(k);C.success?(v(r({en:"Profile updated successfully!",bn:"   !"})),u(!1),setTimeout(()=>v(""),3e3)):v(C.error||r({en:"Failed to update profile",bn:"   "})),y(!1)};return t?p.jsxs("div",{className:"space-y-12 animate-in fade-in duration-700",children:[p.jsxs("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-8 shadow-2xl shadow-black/20",children:[p.jsxs("div",{className:"flex items-start justify-between mb-6",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("div",{className:"relative group",children:[t.photoURL&&!l?p.jsx("img",{src:t.photoURL,alt:t.displayName||"User",className:"w-20 h-20 rounded-full object-cover border-2 border-accent"}):p.jsx("div",{className:"w-20 h-20 rounded-full bg-accent flex items-center justify-center text-white font-bold text-3xl",children:(t.displayName||t.email||"U").charAt(0).toUpperCase()}),l&&p.jsx("div",{className:"absolute inset-0 rounded-full bg-black/50 flex items-center justify-center cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsx(T3,{className:"w-6 h-6 text-white"})})]}),p.jsx("div",{className:"flex-1",children:l?p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:r({en:"Display Name",bn:" "})}),p.jsx(Ht,{value:f.displayName,onChange:k=>h({...f,displayName:k.target.value}),placeholder:r({en:"Enter your name",bn:"  "})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:r({en:"Photo URL",bn:" URL"})}),p.jsx(Ht,{value:f.photoURL,onChange:k=>h({...f,photoURL:k.target.value}),placeholder:"https://example.com/photo.jpg"})]}),p.jsx("p",{className:"text-xs text-muted",children:t.email})]}):p.jsxs(p.Fragment,{children:[p.jsx("h1",{className:"text-3xl font-serif font-medium mb-2",children:t.displayName||r({en:"User",bn:""})}),p.jsx("p",{className:"text-muted",children:t.email})]})})]}),p.jsx("div",{className:"flex gap-2",children:l?p.jsxs(p.Fragment,{children:[p.jsxs(ke,{variant:"outline",onClick:w,className:"flex items-center gap-2",children:[p.jsx(fc,{className:"w-4 h-4"}),r({en:"Cancel",bn:""})]}),p.jsxs(ke,{onClick:E,isLoading:g,className:"flex items-center gap-2",children:[p.jsx(Gk,{className:"w-4 h-4"}),r({en:"Save",bn:""})]})]}):p.jsxs(ke,{variant:"outline",onClick:w,className:"flex items-center gap-2",children:[p.jsx($l,{className:"w-4 h-4"}),r({en:"Edit Profile",bn:" "})]})})]}),x&&p.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm ${x.includes("success")||x.includes("")?"bg-success/10 text-success border border-success/20":"bg-warning/10 text-warning border border-warning/20"}`,children:x})]}),i.length>0&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-3 border-b border-border pb-3",children:[p.jsx(Al,{className:"w-5 h-5 text-accent"}),p.jsx("h2",{className:"text-2xl font-serif font-normal",children:r({en:"Favourite Opportunities",bn:" "})}),p.jsxs("span",{className:"text-sm text-muted",children:["(",i.length,")"]})]}),p.jsx("div",{className:"grid gap-6",children:i.map(k=>p.jsx("article",{className:"bg-surface/40 backdrop-blur-xl hover:bg-surface/60 border border-border/50 rounded-2xl p-6 transition-all duration-300 shadow-xl shadow-black/20 hover:shadow-2xl hover:shadow-accent/10 hover:border-accent/30",children:p.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-4",children:[p.jsxs("div",{className:"text-sm text-muted font-sans md:min-w-[160px] flex items-center gap-2",children:[p.jsx(N3,{className:"w-4 h-4"}),new Date(k.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"flex items-center gap-2 mb-2",children:k.category&&p.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 bg-accent/10 text-accent border border-accent/20 rounded-full text-xs font-medium uppercase",children:[p.jsx(Fi,{className:"w-3 h-3"}),k.category]})}),p.jsx("h3",{className:"text-xl font-serif font-medium mb-2 hover:text-accent transition-colors",children:p.jsx(Ve,{to:`/article/${k._id||k.id}`,children:k.title})}),p.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(Al,{className:"w-4 h-4"}),k.upvotes||0]}),p.jsx("span",{children:k.authorName})]}),p.jsxs(Ve,{to:`/article/${k._id||k.id}`,className:"inline-flex items-center gap-2 mt-3 text-sm font-medium text-accent hover:text-accent-hover transition-colors",children:[r({en:"View Details",bn:" "}),p.jsx(Qa,{className:"w-4 h-4"})]})]})]})},k._id||k.id))})]}),i.length===0&&p.jsxs("div",{className:"text-center py-20 bg-surface/20 border border-border/30 rounded-2xl",children:[p.jsx(Al,{className:"w-12 h-12 text-muted/50 mx-auto mb-4"}),p.jsx("p",{className:"text-muted italic",children:r({en:"You haven't upvoted any opportunities yet. Explore opportunities and upvote the ones you find interesting!",bn:"             !"})}),p.jsxs(Ve,{to:"/article",className:"inline-flex items-center gap-2 mt-4 text-accent hover:text-accent-hover transition-colors",children:[r({en:"Browse Opportunities",bn:"  "}),p.jsx(Qa,{className:"w-4 h-4"})]})]})]}):p.jsxs("div",{className:"text-center py-20",children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:r({en:"Please login to view your profile",bn:"    "})}),p.jsx(Ve,{to:"/login",className:"text-accent hover:text-accent-hover transition-colors",children:r({en:"Go to Login",bn:" "})})]})},fL=()=>{const t=Xi();return T.useEffect(()=>{document.title="404 - Page Not Found | The Scholars Page"},[]),p.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-gradient-to-br from-background via-background to-surface",children:p.jsxs("div",{className:"max-w-2xl w-full text-center",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 rounded-full bg-surface/40 backdrop-blur-xl border border-border/50 mb-6",children:p.jsx(Kk,{className:"w-16 h-16 text-accent/50"})}),p.jsx("h1",{className:"text-8xl font-bold text-accent mb-4 font-serif",children:"404"}),p.jsx("h2",{className:"text-3xl font-serif mb-2",children:"Page Not Found"}),p.jsx("p",{className:"text-lg text-text/70 mb-8",children:"Oops! The page you're looking for doesn't exist. It might have been moved or deleted."})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[p.jsxs(ke,{onClick:()=>t(-1),variant:"secondary",className:"flex items-center gap-2 min-w-[160px]",children:[p.jsx(Jg,{className:"w-5 h-5"}),"Go Back"]}),p.jsx(Ve,{to:"/",children:p.jsxs(ke,{className:"flex items-center gap-2 min-w-[160px]",children:[p.jsx(Vk,{className:"w-5 h-5"}),"Go Home"]})})]}),p.jsxs("div",{className:"mt-12 p-6 bg-surface/30 backdrop-blur-xl border border-border/50 rounded-2xl",children:[p.jsx("h3",{className:"text-lg font-medium mb-3",children:"Looking for something?"}),p.jsxs("div",{className:"flex flex-wrap gap-3 justify-center text-sm",children:[p.jsx(Ve,{to:"/article",className:"text-accent hover:underline",children:"Browse Opportunities"}),p.jsx("span",{className:"text-text/30",children:""}),p.jsx(Ve,{to:"/about",className:"text-accent hover:underline",children:"About Us"}),p.jsx("span",{className:"text-text/30",children:""}),p.jsx(Ve,{to:"/profile",className:"text-accent hover:underline",children:"Your Profile"})]})]})]})})},hL=()=>{const{t}=Tn();return T.useEffect(()=>{document.title="Terms of Service - The Scholars Page"},[]),p.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-accent/10 mb-4",children:p.jsx(q3,{className:"w-8 h-8 text-accent"})}),p.jsx("h1",{className:"text-4xl font-serif mb-4",children:t({en:"Terms of Service",bn:" "})}),p.jsx("p",{className:"text-muted",children:t({en:"Last updated: January 8, 2026",bn:" :  , "})})]}),p.jsxs("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-8 space-y-6",children:[p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"1. Acceptance of Terms"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"By accessing and using The Scholars Page, you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these terms, please do not use our service."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"2. Use License"}),p.jsx("p",{className:"text-muted leading-relaxed mb-3",children:"Permission is granted to temporarily access the materials (information or software) on The Scholars Page for personal, non-commercial use only. This is the grant of a license, not a transfer of title, and under this license you may not:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4",children:[p.jsx("li",{children:"Modify or copy the materials"}),p.jsx("li",{children:"Use the materials for any commercial purpose"}),p.jsx("li",{children:"Attempt to decompile or reverse engineer any software contained on the website"}),p.jsx("li",{children:"Remove any copyright or other proprietary notations from the materials"})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"3. User Accounts"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"When you create an account with us, you must provide accurate, complete, and current information. Failure to do so constitutes a breach of the Terms. You are responsible for safeguarding the password and for all activities that occur under your account."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"4. Content"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"Our service allows you to post, link, store, share and otherwise make available certain information. You are responsible for the content that you post on or through the service, including its legality, reliability, and appropriateness."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"5. Intellectual Property"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"The service and its original content, features, and functionality are and will remain the exclusive property of The Scholars Page. The service is protected by copyright, trademark, and other laws."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"6. Disclaimer"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"The materials on The Scholars Page are provided on an 'as is' basis. We make no warranties, expressed or implied, and hereby disclaim and negate all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"7. Limitations"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"In no event shall The Scholars Page or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on our website."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"8. Changes to Terms"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"We reserve the right, at our sole discretion, to modify or replace these Terms at any time. We will provide notice of any significant changes by posting the new Terms on this page."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"9. Contact Us"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"If you have any questions about these Terms, please contact us through our contact information provided on the website."})]})]})]})},pL=()=>{const{t}=Tn();return T.useEffect(()=>{document.title="Privacy Policy - The Scholars Page"},[]),p.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-accent/10 mb-4",children:p.jsx(Zm,{className:"w-8 h-8 text-accent"})}),p.jsx("h1",{className:"text-4xl font-serif mb-4",children:t({en:"Privacy Policy",bn:" "})}),p.jsx("p",{className:"text-muted",children:t({en:"Last updated: January 8, 2026",bn:" :  , "})})]}),p.jsxs("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-8 space-y-6",children:[p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"1. Information We Collect"}),p.jsx("p",{className:"text-muted leading-relaxed mb-3",children:"We collect information that you provide directly to us, including:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4",children:[p.jsx("li",{children:"Name and email address when you create an account"}),p.jsx("li",{children:"Profile information you choose to add"}),p.jsx("li",{children:"Comments and interactions on posts"}),p.jsx("li",{children:"Communications with us"})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"2. How We Use Your Information"}),p.jsx("p",{className:"text-muted leading-relaxed mb-3",children:"We use the information we collect to:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4",children:[p.jsx("li",{children:"Provide, maintain, and improve our services"}),p.jsx("li",{children:"Send you technical notices and support messages"}),p.jsx("li",{children:"Respond to your comments and questions"}),p.jsx("li",{children:"Personalize your experience"}),p.jsx("li",{children:"Monitor and analyze trends and usage"})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"3. Information Sharing"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"We do not share your personal information with third parties except in the following circumstances:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4 mt-3",children:[p.jsx("li",{children:"With your consent"}),p.jsx("li",{children:"To comply with legal obligations"}),p.jsx("li",{children:"To protect our rights and prevent fraud"}),p.jsx("li",{children:"In connection with a business transfer or acquisition"})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"4. Data Security"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"We take reasonable measures to protect your personal information from unauthorized access, use, or disclosure. However, no internet transmission is ever completely secure, and we cannot guarantee absolute security."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"5. Firebase Authentication"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"We use Firebase Authentication for user account management. Your authentication data is stored and processed according to Google's privacy policy. We recommend reviewing Firebase's privacy practices."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"6. Cookies and Tracking"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"We use cookies and similar tracking technologies to track activity on our service and store certain information. You can instruct your browser to refuse all cookies or indicate when a cookie is being sent."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"7. Your Rights"}),p.jsx("p",{className:"text-muted leading-relaxed mb-3",children:"You have the right to:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4",children:[p.jsx("li",{children:"Access and receive a copy of your personal data"}),p.jsx("li",{children:"Correct or update your information"}),p.jsx("li",{children:"Delete your account and associated data"}),p.jsx("li",{children:"Object to processing of your data"})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"8. Children's Privacy"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"Our service is not directed to individuals under the age of 13. We do not knowingly collect personal information from children under 13. If you become aware that a child has provided us with personal information, please contact us."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"9. Changes to Privacy Policy"}),p.jsx("p",{className:"text-muted leading-relaxed",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date.'})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"10. Contact Us"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"If you have any questions about this Privacy Policy, please contact us through the information provided on our website."})]})]})]})},mL=()=>{const{t}=Tn();return T.useEffect(()=>{document.title="Cookie Policy - The Scholars Page"},[]),p.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-accent/10 mb-4",children:p.jsx(z3,{className:"w-8 h-8 text-accent"})}),p.jsx("h1",{className:"text-4xl font-serif mb-4",children:t({en:"Cookie Policy",bn:" "})}),p.jsx("p",{className:"text-muted",children:t({en:"Last updated: January 8, 2026",bn:" :  , "})})]}),p.jsxs("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-8 space-y-6",children:[p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"1. What Are Cookies"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"Cookies are small text files that are placed on your computer or mobile device when you visit a website. They are widely used to make websites work more efficiently and provide information to website owners."})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"2. How We Use Cookies"}),p.jsx("p",{className:"text-muted leading-relaxed mb-3",children:"The Scholars Page uses cookies for the following purposes:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Essential Cookies:"})," Required for the website to function properly, including authentication and security"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Preference Cookies:"})," Remember your settings and preferences (e.g., language selection)"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Analytics Cookies:"})," Help us understand how visitors interact with our website"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Performance Cookies:"})," Improve website performance and user experience"]})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"3. Types of Cookies We Use"}),p.jsxs("div",{className:"space-y-4 mt-4",children:[p.jsxs("div",{className:"border-l-4 border-accent/50 pl-4",children:[p.jsx("h3",{className:"font-medium mb-2",children:"Session Cookies"}),p.jsx("p",{className:"text-muted text-sm",children:"Temporary cookies that expire when you close your browser. Used to maintain your session while browsing."})]}),p.jsxs("div",{className:"border-l-4 border-accent/50 pl-4",children:[p.jsx("h3",{className:"font-medium mb-2",children:"Persistent Cookies"}),p.jsx("p",{className:"text-muted text-sm",children:"Remain on your device for a set period or until you delete them. Used to remember your preferences."})]}),p.jsxs("div",{className:"border-l-4 border-accent/50 pl-4",children:[p.jsx("h3",{className:"font-medium mb-2",children:"Authentication Cookies"}),p.jsx("p",{className:"text-muted text-sm",children:"Firebase Authentication uses cookies to manage user sessions and keep you logged in."})]})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"4. Third-Party Cookies"}),p.jsx("p",{className:"text-muted leading-relaxed mb-3",children:"We may use third-party services that set cookies on our behalf:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Firebase:"})," For authentication and user management"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Analytics Services:"})," To understand website usage and improve our services"]})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"5. Managing Cookies"}),p.jsx("p",{className:"text-muted leading-relaxed mb-3",children:"You can control and manage cookies in various ways:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4",children:[p.jsx("li",{children:"Most browsers allow you to block or delete cookies through their settings"}),p.jsx("li",{children:"You can set your browser to notify you when cookies are being sent"}),p.jsx("li",{children:"You can opt out of third-party cookies through your browser preferences"})]}),p.jsxs("p",{className:"text-muted leading-relaxed mt-4",children:[p.jsx("strong",{children:"Please note:"})," Blocking or deleting cookies may affect your ability to use certain features of our website, including authentication and personalized settings."]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"6. Browser-Specific Instructions"}),p.jsx("p",{className:"text-muted leading-relaxed mb-3",children:"To manage cookies in your browser:"}),p.jsxs("ul",{className:"list-disc list-inside text-muted space-y-2 ml-4",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Chrome:"})," Settings  Privacy and Security  Cookies and other site data"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Firefox:"})," Options  Privacy & Security  Cookies and Site Data"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Safari:"})," Preferences  Privacy  Manage Website Data"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Edge:"})," Settings  Privacy, search, and services  Cookies"]})]})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"7. Updates to This Policy"}),p.jsx("p",{className:"text-muted leading-relaxed",children:'We may update this Cookie Policy from time to time to reflect changes in technology or legal requirements. We will post any changes on this page and update the "Last updated" date.'})]}),p.jsxs("section",{children:[p.jsx("h2",{className:"text-2xl font-serif mb-4",children:"8. Contact Us"}),p.jsx("p",{className:"text-muted leading-relaxed",children:"If you have any questions about our use of cookies, please contact us through the information provided on our website."})]})]})]})},gL=()=>{const{user:t,loading:e,logout:n}=si();return e?p.jsx("div",{className:"flex h-screen items-center justify-center",children:"Loading..."}):t?p.jsxs("div",{className:"min-h-screen grid grid-cols-[240px_1fr] font-sans bg-background text-foreground",children:[p.jsxs("aside",{className:"border-r border-border/30 bg-surface/30 backdrop-blur-xl p-6 flex flex-col h-screen sticky top-0 shadow-2xl",children:[p.jsx("div",{className:"font-serif text-xl font-bold mb-8 px-2 text-accent",children:"TSP Admin"}),p.jsxs("nav",{className:"flex flex-col gap-2 flex-1",children:[p.jsx(Ve,{to:"/admin",children:p.jsxs(ke,{variant:"ghost",className:"w-full justify-start",children:[p.jsx(oD,{className:"mr-2 h-4 w-4"})," Dashboard"]})}),p.jsx(Ve,{to:"/admin/new",children:p.jsxs(ke,{variant:"ghost",className:"w-full justify-start",children:[p.jsx(TD,{className:"mr-2 h-4 w-4"})," New Post"]})})]}),p.jsxs(ke,{variant:"outline",className:"mt-auto w-full",onClick:n,children:[p.jsx(Qm,{className:"mr-2 h-4 w-4"})," Logout"]})]}),p.jsx("main",{className:"p-8 overflow-y-auto",children:p.jsx("div",{className:"max-w-4xl mx-auto",children:p.jsx(Bw,{})})})]}):p.jsx(Pw,{to:"/login",replace:!0})},lE=T.createContext(),yL=({children:t})=>{const{user:e}=si(),[n,r]=T.useState(null),[i,o]=T.useState(!0);T.useEffect(()=>{(async()=>{if(!e||!e.email){r(null),o(!1);return}try{const x=await mr.checkAccess(e.email);x.success&&x.data.hasAccess?r(x.data.role):r(null)}catch(x){console.error("Error fetching user role:",x),r(null)}finally{o(!1)}})()},[e]);const l=y=>{if(!n)return!1;const x={admin:3,moderator:2,editor:1},v=x[n]||0,w=x[y]||0;return v>=w},u=()=>n==="admin",f=()=>n==="admin"||n==="moderator",h=()=>n==="admin"||n==="moderator"||n==="editor",g=()=>n==="admin";return p.jsx(lE.Provider,{value:{userRole:n,loading:i,hasPermission:l,canDelete:u,canEdit:f,canAdd:h,isAdmin:g},children:t})},bL=()=>{const t=T.useContext(lE);if(!t)throw new Error("useAdminRole must be used within AdminRoleProvider");return t},Qg=({isOpen:t,onClose:e,title:n,children:r,footer:i,closable:o=!0})=>{if(T.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;const l=p.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[p.jsx("div",{className:"absolute inset-0 bg-black/70",style:{backdropFilter:"blur(12px)"},onClick:o?e:void 0}),p.jsxs("div",{className:"relative bg-surface border border-border/50 rounded-2xl shadow-2xl shadow-black/40 mx-4",style:{maxWidth:"28rem",width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column",zIndex:51},onClick:u=>u.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border/50 flex-shrink-0",children:[p.jsx("h3",{className:"text-lg font-semibold text-foreground",children:n}),o&&p.jsx("button",{onClick:e,className:"text-muted hover:text-foreground transition-all duration-200 hover:scale-110 hover:rotate-90 rounded-full p-1 hover:bg-surface-hover",children:p.jsx(fc,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"p-6 text-foreground overflow-y-auto flex-1",children:r}),i&&p.jsx("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-border/50 bg-surface/50 flex-shrink-0",children:i})]})]});return qw.createPortal(l,document.body)},H1=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i,confirmText:o="Confirm",cancelText:l="Cancel",isDanger:u=!1,isLoading:f=!1})=>p.jsx(Qg,{isOpen:t,onClose:e,title:r,footer:p.jsxs(p.Fragment,{children:[p.jsx(ke,{variant:"outline",onClick:e,disabled:f,className:"transition-all duration-200 hover:scale-105",children:l}),p.jsx(ke,{onClick:()=>{n()},isLoading:f,disabled:f,className:`transition-all duration-200 hover:scale-105 ${u?"bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-600/30":""}`,children:o})]}),children:p.jsx("p",{className:"text-muted leading-relaxed",children:i})}),cE=({isOpen:t,onClose:e,title:n,message:r,type:i="info"})=>{const[o,l]=qe.useState(10);T.useEffect(()=>{if(t){l(10);const h=setInterval(()=>{l(g=>g<=1?(clearInterval(h),e(),0):g-1)},1e3);return()=>clearInterval(h)}},[t,e]);const u={success:"text-success bg-success/10 border border-success/30 rounded-lg p-4",error:"text-red-500 bg-red-500/10 border border-red-500/30 rounded-lg p-4",info:"text-blue-500 bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",warning:"text-warning bg-warning/10 border border-warning/30 rounded-lg p-4"},f={success:"",error:"",info:"",warning:""};return p.jsx(Qg,{isOpen:t,onClose:e,title:n,footer:p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsxs("span",{className:"text-sm text-muted",children:["Auto-closing in ",o,"s"]}),p.jsx(ke,{onClick:e,className:"transition-all duration-200 hover:scale-105",children:"Okay"})]}),children:p.jsx("div",{className:u[i],children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("span",{className:"text-2xl flex-shrink-0",children:f[i]}),p.jsx("p",{className:"leading-relaxed",children:r})]})})})},xL=({isOpen:t,title:e="Processing",message:n="Please wait..."})=>p.jsx(Qg,{isOpen:t,onClose:()=>{},title:e,closable:!1,footer:p.jsx(ke,{isLoading:!0,variant:"outline",disabled:!0,className:"cursor-wait",children:"Working..."}),children:p.jsxs("div",{className:"flex items-center gap-3 text-muted",children:[p.jsx(qk,{className:"w-5 h-5 animate-spin"}),p.jsx("p",{className:"leading-relaxed",children:n})]})}),vL=()=>{const{posts:t,deletePost:e,loading:n,error:r,refreshPosts:i}=yo(),{user:o}=si(),{userRole:l,canDelete:u,canEdit:f,canAdd:h,isAdmin:g}=bL(),{t:y}=Tn();T.useEffect(()=>{document.title="Admin Dashboard - The Scholars Page"},[]);const[x,v]=T.useState("posts"),[w,E]=T.useState({isOpen:!1,postId:null,postTitle:""}),[k,C]=T.useState(!1),[R,D]=T.useState({isOpen:!1,type:"info",title:"",message:""}),[$,U]=T.useState(1),[Z]=T.useState(10),[q,B]=T.useState([]),[re,ce]=T.useState(!1),[we,Ne]=T.useState(!1),[X,F]=T.useState(null),[P,O]=T.useState({name:"",email:"",role:"editor",isActive:!0}),[V,G]=T.useState(null),[ae,Te]=T.useState({isOpen:!1,adminId:null,adminName:""}),[M,Y]=T.useState([]),[te,ie]=T.useState(!1),[xe,Ce]=T.useState(!1);qe.useEffect(()=>{x==="admins"&&(pe(),rt())},[x]);const pe=async()=>{try{ce(!0);const K=await mr.getAll();K.success&&B(K.data)}catch(K){console.error("Error loading admins:",K),D({isOpen:!0,type:"error",title:"Error",message:"Failed to load admins: "+K.message})}finally{ce(!1)}},rt=async()=>{try{const K=await mr.getStats();K.success&&G(K.data)}catch(K){console.error("Error loading admin stats:",K)}},Fe=async()=>{try{if(!P.name||!P.email){D({isOpen:!0,type:"error",title:"Validation Error",message:"Name and email are required"});return}(await mr.create(P)).success&&(D({isOpen:!0,type:"success",title:"Success",message:"Admin added successfully"}),Ne(!1),O({name:"",email:"",role:"editor",isActive:!0}),pe(),rt())}catch(K){D({isOpen:!0,type:"error",title:"Error",message:K.message||"Failed to add role"})}},nn=async()=>{try{if(!P.name||!P.email){D({isOpen:!0,type:"error",title:"Validation Error",message:"Name and email are required"});return}(await mr.update(X._id,P)).success&&(D({isOpen:!0,type:"success",title:"Success",message:"Admin updated successfully"}),F(null),O({name:"",email:"",role:"editor",isActive:!0}),pe())}catch(K){D({isOpen:!0,type:"error",title:"Error",message:K.message||"Failed to update admin"})}},pn=async()=>{try{(await mr.delete(ae.adminId)).success&&(D({isOpen:!0,type:"success",title:"Success",message:"Admin removed successfully"}),Te({isOpen:!1,adminId:null,adminName:""}),pe(),rt())}catch(K){D({isOpen:!0,type:"error",title:"Error",message:K.message||"Failed to delete admin"})}},An=K=>{F(K),O({name:K.name,email:K.email,role:K.role,isActive:K.isActive}),Ne(!0)},ea=()=>{Ne(!1),F(null),O({name:"",email:"",role:"editor",isActive:!0})},Yn=K=>{switch(K){case"admin":return"bg-purple-500/20 text-purple-500 border-purple-500/30";case"moderator":return"bg-blue-500/20 text-blue-500 border-blue-500/30";case"editor":return"bg-green-500/20 text-green-500 border-green-500/30";default:return"bg-muted/20 text-muted border-muted/30"}},ss=async()=>{try{Ce(!0);const K=await mr.getFirebaseUsers();K.success&&(Y(K.data),ie(!0))}catch(K){console.error("Error loading Firebase users:",K),D({isOpen:!0,type:"error",title:"Error",message:K.message||"Failed to load Firebase users. Make sure Firebase Admin SDK is configured in the backend."})}finally{Ce(!1)}},li=async K=>{try{(await mr.create({name:K.displayName,email:K.email,role:"editor",isActive:!0})).success&&(D({isOpen:!0,type:"success",title:"Success",message:`${K.displayName} added as admin`}),pe(),rt(),ss())}catch(Ye){D({isOpen:!0,type:"error",title:"Error",message:Ye.message||"Failed to add user as admin"})}},xo=K=>{E({isOpen:!0,postId:K._id||K.id,postTitle:K.title})},ci=async()=>{try{C(!0);const K=await e(w.postId);K.success?(E({isOpen:!1,postId:null,postTitle:""}),await i()):D({isOpen:!0,type:"error",title:"Error",message:"Failed to delete post: "+K.error})}finally{C(!1)}};if(n)return p.jsx("div",{className:"flex justify-center items-center py-20",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent"})});const or=Array.isArray(t)?[...t].sort((K,Ye)=>new Date(Ye.createdAt)-new Date(K.createdAt)):[],Jn=Math.ceil(or.length/Z),Xn=$*Z,ta=Xn-Z,ui=or.slice(ta,Xn),Dt=K=>{U(K),window.scrollTo({top:0,behavior:"smooth"})},ee=()=>{$>1&&(U($-1),window.scrollTo({top:0,behavior:"smooth"}))},me=()=>{$<Jn&&(U($+1),window.scrollTo({top:0,behavior:"smooth"}))};return r?p.jsxs("div",{className:"text-center py-12",children:[p.jsx("p",{className:"text-red-500 mb-4",children:r}),p.jsx("p",{className:"text-muted mb-4",children:"Make sure the backend server is running at http://localhost:5000"}),p.jsx(ke,{onClick:i,children:"Retry"})]}):p.jsxs("div",{className:"space-y-8 animate-in fade-in",children:[p.jsx(H1,{isOpen:w.isOpen,onClose:()=>E({isOpen:!1,postId:null,postTitle:""}),onConfirm:ci,title:"Delete Post",message:`Are you sure you want to delete "${w.postTitle}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",isDanger:!0,isLoading:k}),p.jsx(H1,{isOpen:ae.isOpen,onClose:()=>Te({isOpen:!1,adminId:null,adminName:""}),onConfirm:pn,title:"Remove Admin",message:`Are you sure you want to remove "${ae.adminName}" from admin whitelist?`,confirmText:"Remove",cancelText:"Cancel",isDanger:!0}),p.jsx(cE,{isOpen:R.isOpen,onClose:()=>D({isOpen:!1,type:"info",title:"",message:""}),title:R.title,message:R.message,type:R.type}),p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("h1",{className:"text-3xl font-serif",children:"Dashboard"}),l&&p.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${l==="admin"?"bg-purple-500/20 text-purple-500 border-purple-500/30":l==="moderator"?"bg-blue-500/20 text-blue-500 border-blue-500/30":"bg-green-500/20 text-green-500 border-green-500/30"}`,children:l.charAt(0).toUpperCase()+l.slice(1)})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Ve,{to:"/",children:p.jsxs(ke,{variant:"outline",children:[p.jsx(Vk,{className:"w-4 h-4 mr-2"})," Go to Home"]})}),x==="posts"&&p.jsx(Ve,{to:"/admin/new",children:p.jsxs(ke,{children:[p.jsx(_1,{className:"w-4 h-4 mr-2"})," New Post"]})}),x==="admins"&&p.jsxs(p.Fragment,{children:[!we&&p.jsxs(ke,{onClick:()=>Ne(!0),children:[p.jsx(_1,{className:"w-4 h-4 mr-2"})," Add Role"]}),p.jsxs(ke,{variant:"outline",onClick:ss,isLoading:xe,children:[p.jsx(yd,{className:"w-4 h-4 mr-2"})," View Users"]})]})]})]}),p.jsx("div",{className:"border-b border-border",children:p.jsxs("div",{className:"flex gap-6",children:[p.jsxs("button",{onClick:()=>v("posts"),className:`pb-3 px-1 font-medium transition-colors border-b-2 flex items-center gap-2 ${x==="posts"?"border-accent text-accent":"border-transparent text-muted hover:text-foreground"}`,children:[p.jsx(Fi,{className:"w-4 h-4"}),"Posts Management"]}),g()&&p.jsxs("button",{onClick:()=>v("admins"),className:`pb-3 px-1 font-medium transition-colors border-b-2 flex items-center gap-2 ${x==="admins"?"border-accent text-accent":"border-transparent text-muted hover:text-foreground"}`,children:[p.jsx(Zm,{className:"w-4 h-4"}),"Admin Whitelist"]})]})}),x==="posts"&&p.jsxs("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl shadow-2xl shadow-black/30 overflow-hidden",children:[p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left text-sm table-fixed",children:[p.jsx("thead",{className:"bg-surface/60 backdrop-blur-sm border-b border-border/50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 font-medium text-muted",style:{width:"32%"},children:"Title"}),p.jsx("th",{className:"p-4 font-medium text-muted",style:{width:"14%"},children:"Author"}),p.jsx("th",{className:"p-4 font-medium text-muted",style:{width:"16%"},children:"Tags"}),p.jsx("th",{className:"p-4 font-medium text-muted",style:{width:"10%"},children:"Stats"}),p.jsx("th",{className:"p-4 font-medium text-muted",style:{width:"10%"},children:"Date"}),p.jsx("th",{className:"p-4 font-medium text-muted",style:{width:"10%"},children:"Status"}),p.jsx("th",{className:"p-4 font-medium text-muted text-right",style:{width:"8%"},children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-border",children:ui.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"7",className:"p-8 text-center text-muted",children:"No posts found. Create one!"})}):ui.map(K=>p.jsxs("tr",{className:"hover:bg-surface-hover transition-colors",children:[p.jsx("td",{className:"p-4 font-medium",children:p.jsx("div",{className:"truncate",title:K.title,children:K.title})}),p.jsx("td",{className:"p-4",children:K.authorName}),p.jsx("td",{className:"p-4",children:K.tags&&K.tags.length>0?p.jsxs("div",{className:"flex flex-wrap gap-1",children:[K.tags.slice(0,2).map((Ye,Jt)=>p.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-accent/10 text-accent rounded text-xs",children:[p.jsx(Fi,{className:"w-3 h-3"}),Ye]},Jt)),K.tags.length>2&&p.jsxs("span",{className:"text-xs text-muted",children:["+",K.tags.length-2]})]}):p.jsx("span",{className:"text-muted text-sm",children:"-"})}),p.jsx("td",{className:"p-4 text-sm",children:p.jsxs("div",{className:"flex flex-col gap-0.5",children:[p.jsxs("span",{className:"inline-flex items-center gap-1 text-muted",children:[K.views||0," views"]}),p.jsxs("span",{className:"inline-flex items-center gap-1 text-success",children:[p.jsx(gd,{className:"w-3.5 h-3.5"}),K.upvotes||0]}),p.jsxs("span",{className:"inline-flex items-center gap-1 text-red-500",children:[p.jsx(t4,{className:"w-3.5 h-3.5"}),K.downvotes||0]}),p.jsxs("span",{className:"inline-flex items-center gap-1 text-blue-500",children:[p.jsx(kD,{className:"w-3.5 h-3.5"}),K.comments?.length||0]})]})}),p.jsx("td",{className:"p-4 tabular-nums",children:new Date(K.createdAt).toLocaleDateString()}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${K.isPublished?"bg-success/20 text-success border border-success/30":"bg-warning/20 text-warning border border-warning/30"}`,children:K.isPublished?"Published":"Draft"})}),p.jsx("td",{className:"p-4 text-right",children:p.jsxs("div",{className:"flex flex-col items-end gap-1",children:[p.jsx(Ve,{to:`/article/${K._id||K.id}`,target:"_blank",children:p.jsx(ke,{variant:"ghost",size:"icon",title:"View",children:p.jsx(U3,{className:"w-4 h-4 text-muted"})})}),f()&&p.jsx(Ve,{to:`/admin/edit/${K._id||K.id}`,children:p.jsx(ke,{variant:"ghost",size:"icon",title:"Edit",children:p.jsx($l,{className:"w-4 h-4 text-blue-600"})})}),u()&&p.jsx(ke,{variant:"ghost",size:"icon",onClick:()=>xo(K),title:"Delete",children:p.jsx(md,{className:"w-4 h-4 text-red-600"})})]})})]},K._id||K.id))})]})}),Jn>1&&p.jsxs("div",{className:"mt-6 flex items-center justify-between bg-surface/40 backdrop-blur-xl border border-border/50 rounded-xl p-4",children:[p.jsxs("div",{className:"text-sm text-muted",children:["Showing ",ta+1," to ",Math.min(Xn,or.length)," of ",or.length," posts"]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(ke,{onClick:ee,disabled:$===1,variant:"outline",className:"px-3 py-1.5 text-sm",children:"Previous"}),p.jsx("div",{className:"flex gap-1",children:[...Array(Jn)].map((K,Ye)=>{const Jt=Ye+1;return Jt===1||Jt===Jn||Jt>=$-1&&Jt<=$+1?p.jsx("button",{onClick:()=>Dt(Jt),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${$===Jt?"bg-accent text-white":"bg-surface hover:bg-surface-hover text-foreground"}`,children:Jt},Jt):Jt===$-2||Jt===$+2?p.jsx("span",{className:"px-2 text-muted",children:"..."},Jt):null})}),p.jsx(ke,{onClick:me,disabled:$===Jn,variant:"outline",className:"px-3 py-1.5 text-sm",children:"Next"})]})]})]}),x==="admins"&&p.jsxs("div",{className:"space-y-6",children:[V&&p.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[p.jsx("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-xl p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(yd,{className:"w-8 h-8 text-accent"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted",children:"Total Admins"}),p.jsx("p",{className:"text-2xl font-bold",children:V.total})]})]})}),p.jsx("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-xl p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(O1,{className:"w-8 h-8 text-success"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted",children:"Active"}),p.jsx("p",{className:"text-2xl font-bold",children:V.active})]})]})}),p.jsx("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-xl p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Zm,{className:"w-8 h-8 text-purple-500"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted",children:"Admins"}),p.jsx("p",{className:"text-2xl font-bold",children:V.byRole?.admin||0})]})]})}),p.jsx("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-xl p-4",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(l4,{className:"w-8 h-8 text-blue-500"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted",children:"Moderators"}),p.jsx("p",{className:"text-2xl font-bold",children:V.byRole?.moderator||0})]})]})})]}),te&&p.jsxs("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-6 shadow-xl",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:"text-xl font-serif",children:"Users"}),p.jsx(ke,{variant:"ghost",size:"icon",onClick:()=>ie(!1),children:p.jsx(fc,{className:"w-4 h-4"})})]}),p.jsx("p",{className:"text-sm text-muted mb-4",children:"Select users from your Firebase Authentication to add them to the admin whitelist."}),p.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:M.map(K=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-surface/60 border border-border/30 rounded-lg hover:border-accent/30 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[K.photoURL?p.jsx("img",{src:K.photoURL,alt:K.displayName,className:"w-10 h-10 rounded-full"}):p.jsx("div",{className:"w-10 h-10 rounded-full bg-accent flex items-center justify-center text-white font-medium",children:K.displayName.charAt(0).toUpperCase()}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:K.displayName}),p.jsx("p",{className:"text-xs text-muted",children:K.email})]})]}),K.isAdmin?p.jsxs("span",{className:"text-xs text-success flex items-center gap-1",children:[p.jsx(O1,{className:"w-4 h-4"})," Added Role"]}):p.jsx(ke,{size:"sm",onClick:()=>li(K),children:"Add Role"})]},K.uid))})]}),we&&p.jsxs("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl p-6 shadow-xl",children:[p.jsx("h3",{className:"text-xl font-serif mb-4",children:X?"Edit Role":"Add New Role"}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),p.jsx(Ht,{value:P.name,onChange:K=>O({...P,name:K.target.value}),placeholder:"John Doe"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),p.jsx(Ht,{type:"email",value:P.email,onChange:K=>O({...P,email:K.target.value}),placeholder:"john@example.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role"}),p.jsxs("select",{value:P.role,onChange:K=>O({...P,role:K.target.value}),className:"w-full pl-3 pr-12 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent appearance-none bg-no-repeat bg-[length:1.5em_1.5em] bg-[center_right_0.5rem]",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`},children:[p.jsx("option",{value:"editor",children:"Editor"}),p.jsx("option",{value:"moderator",children:"Moderator"}),p.jsx("option",{value:"admin",children:"Admin"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),p.jsxs("select",{value:P.isActive.toString(),onChange:K=>O({...P,isActive:K.target.value==="true"}),className:"w-full pl-3 pr-12 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent appearance-none bg-no-repeat bg-[length:1.5em_1.5em] bg-[center_right_0.5rem]",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`},children:[p.jsx("option",{value:"true",children:"Active"}),p.jsx("option",{value:"false",children:"Inactive"})]})]})]}),p.jsxs("div",{className:"flex gap-2 mt-4",children:[p.jsx(ke,{onClick:X?nn:Fe,children:X?"Update Role":"Add Role"}),p.jsx(ke,{variant:"outline",onClick:ea,children:"Cancel"})]})]}),p.jsx("div",{className:"bg-surface/40 backdrop-blur-xl border border-border/50 rounded-2xl shadow-2xl shadow-black/30 overflow-hidden",children:p.jsx("div",{className:"overflow-x-auto",children:re?p.jsx("div",{className:"flex justify-center items-center py-20",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent"})}):p.jsxs("table",{className:"w-full text-left text-sm",children:[p.jsx("thead",{className:"bg-surface/60 backdrop-blur-sm border-b border-border/50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-4 font-medium text-muted",children:"Name"}),p.jsx("th",{className:"p-4 font-medium text-muted",children:"Email"}),p.jsx("th",{className:"p-4 font-medium text-muted",children:"Role"}),p.jsx("th",{className:"p-4 font-medium text-muted",children:"Status"}),p.jsx("th",{className:"p-4 font-medium text-muted",children:"Added On"}),p.jsx("th",{className:"p-4 font-medium text-muted text-right",children:"Actions"})]})}),p.jsx("tbody",{className:"divide-y divide-border",children:q.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"6",className:"p-8 text-center text-muted",children:"No admins found. Add one to get started!"})}):q.map(K=>p.jsxs("tr",{className:"hover:bg-surface-hover transition-colors",children:[p.jsx("td",{className:"p-4 font-medium",children:K.name}),p.jsx("td",{className:"p-4 text-muted",children:K.email}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${Yn(K.role)}`,children:K.role})}),p.jsx("td",{className:"p-4",children:p.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${K.isActive?"bg-success/20 text-success border border-success/30":"bg-muted/20 text-muted border border-muted/30"}`,children:K.isActive?"Active":"Inactive"})}),p.jsx("td",{className:"p-4 tabular-nums text-muted",children:new Date(K.createdAt).toLocaleDateString()}),p.jsx("td",{className:"p-4 text-right",children:p.jsxs("div",{className:"flex justify-end gap-1",children:[p.jsx(ke,{variant:"ghost",size:"icon",onClick:()=>An(K),title:"Edit",children:p.jsx($l,{className:"w-4 h-4 text-blue-600"})}),p.jsx(ke,{variant:"ghost",size:"icon",onClick:()=>Te({isOpen:!0,adminId:K._id,adminName:K.name}),title:"Delete",children:p.jsx(md,{className:"w-4 h-4 text-red-600"})})]})})]},K._id))})]})})})]})]})};var om={exports:{}},lm={};var V1;function SL(){if(V1)return lm;V1=1;var t=nc();function e(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function u(y,x){var v=x(),w=r({inst:{value:v,getSnapshot:x}}),E=w[0].inst,k=w[1];return o(function(){E.value=v,E.getSnapshot=x,f(E)&&k({inst:E})},[y,v,x]),i(function(){return f(E)&&k({inst:E}),y(function(){f(E)&&k({inst:E})})},[y]),l(v),v}function f(y){var x=y.getSnapshot;y=y.value;try{var v=x();return!n(y,v)}catch{return!0}}function h(y,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return lm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,lm}var $1;function uE(){return $1||($1=1,om.exports=SL()),om.exports}var dE=uE();function Ut(t){this.content=t}Ut.prototype={constructor:Ut,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Ut(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ut(n)},addToStart:function(t,e){return new Ut([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ut(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Ut(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ut.from(t),t.size?new Ut(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ut.from(t),t.size?new Ut(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ut.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ut.from=function(t){if(t instanceof Ut)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ut(e)};function fE(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let l=0;i.text[l]==o.text[l];l++)n++;return n}if(i.content.size||o.content.size){let l=fE(i.content,o.content,n+1);if(l!=null)return l}n+=i.nodeSize}}function hE(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let l=t.child(--i),u=e.child(--o),f=l.nodeSize;if(l==u){n-=f,r-=f;continue}if(!l.sameMarkup(u))return{a:n,b:r};if(l.isText&&l.text!=u.text){let h=0,g=Math.min(l.text.length,u.text.length);for(;h<g&&l.text[l.text.length-h-1]==u.text[u.text.length-h-1];)h++,n--,r--;return{a:n,b:r}}if(l.content.size||u.content.size){let h=hE(l.content,u.content,n-1,r-1);if(h)return h}n-=f,r-=f}}class ne{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let l=0,u=0;u<n;l++){let f=this.content[l],h=u+f.nodeSize;if(h>e&&r(f,i+u,o||null,l)!==!1&&f.content.size){let g=u+1;f.nodesBetween(Math.max(0,e-g),Math.min(f.content.size,n-g),r,i+g)}u=h}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",l=!0;return this.nodesBetween(e,n,(u,f)=>{let h=u.isText?u.text.slice(Math.max(e,f)-f,n-f):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&h||u.isTextblock)&&r&&(l?l=!1:o+=r),o+=h},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new ne(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,l=0;l<n;o++){let u=this.content[o],f=l+u.nodeSize;f>e&&((l<e||f>n)&&(u.isText?u=u.cut(Math.max(0,e-l),Math.min(u.text.length,n-l)):u=u.cut(Math.max(0,e-l-1),Math.min(u.content.size,n-l-1))),r.push(u),i+=u.nodeSize),l=f}return new ne(r,i)}cutByIndex(e,n){return e==n?ne.empty:e==0&&n==this.content.length?this:new ne(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new ne(i,o)}addToStart(e){return new ne([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ne(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return fE(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return hE(this,e,n,r)}findIndex(e){if(e==0)return zu(0,e);if(e==this.size)return zu(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=e)return o==e?zu(n+1,o):zu(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ne.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ne(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ne.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new ne(n||e,r)}static from(e){if(!e)return ne.empty;if(e instanceof ne)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ne([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ne.empty=new ne([],0);const cm={index:0,offset:0};function zu(t,e){return cm.index=t,cm.offset=e,cm}function xd(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!xd(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!xd(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let nt=class tg{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&xd(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return tg.none;if(e instanceof tg)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};nt.none=[];class vd extends Error{}class oe{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=mE(this.content,e+this.openStart,n);return r&&new oe(r,this.openStart,this.openEnd)}removeBetween(e,n){return new oe(pE(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return oe.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new oe(ne.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new oe(e,r,i)}}oe.empty=new oe(ne.empty,0,0);function pE(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:l,offset:u}=t.findIndex(n);if(i==e||o.isText){if(u!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(pE(o.content,e-i-1,n-i-1)))}function mE(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),l=t.maybeChild(i);if(o==e||l.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let u=mE(l.content,e-o-1,n,l);return u&&t.replaceChild(i,l.copy(u))}function wL(t,e,n){if(n.openStart>t.depth)throw new vd("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new vd("Inconsistent open depths");return gE(t,e,n,0)}function gE(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let l=gE(t,e,n,r+1);return o.copy(o.content.replaceChild(i,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,u=l.content;return Bi(l,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{let{start:l,end:u}=kL(n,t);return Bi(o,bE(t,l,u,e,r))}else return Bi(o,Sd(t,e,r))}function yE(t,e){if(!e.type.compatibleContent(t.type))throw new vd("Cannot join "+e.type.name+" onto "+t.type.name)}function ng(t,e,n){let r=t.node(n);return yE(r,e.node(n)),r}function Pi(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ml(t,e,n,r){let i=(e||t).node(n),o=0,l=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Pi(t.nodeAfter,r),o++));for(let u=o;u<l;u++)Pi(i.child(u),r);e&&e.depth==n&&e.textOffset&&Pi(e.nodeBefore,r)}function Bi(t,e){return t.type.checkContent(e),t.copy(e)}function bE(t,e,n,r,i){let o=t.depth>i&&ng(t,e,i+1),l=r.depth>i&&ng(n,r,i+1),u=[];return Ml(null,t,i,u),o&&l&&e.index(i)==n.index(i)?(yE(o,l),Pi(Bi(o,bE(t,e,n,r,i+1)),u)):(o&&Pi(Bi(o,Sd(t,e,i+1)),u),Ml(e,n,i,u),l&&Pi(Bi(l,Sd(n,r,i+1)),u)),Ml(r,null,i,u),new ne(u)}function Sd(t,e,n){let r=[];if(Ml(null,t,n,r),t.depth>n){let i=ng(t,e,n+1);Pi(Bi(i,Sd(t,e,n+1)),r)}return Ml(e,null,n,r),new ne(r)}function kL(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(ne.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Fl{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return nt.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let u=r;r=i,i=u}let o=r.marks;for(var l=0;l<o.length;l++)o[l].type.spec.inclusive===!1&&(!i||!o[l].isInSet(i.marks))&&(o=o[l--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new wd(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let l=e;;){let{index:u,offset:f}=l.content.findIndex(o),h=o-f;if(r.push(l,u,i+f),!h||(l=l.child(u),l.isText))break;o=h-1,i+=f+1}return new Fl(n,r,o)}static resolveCached(e,n){let r=q1.get(e);if(r)for(let o=0;o<r.elts.length;o++){let l=r.elts[o];if(l.pos==n)return l}else q1.set(e,r=new EL);let i=r.elts[r.i]=Fl.resolve(e,n);return r.i=(r.i+1)%NL,i}}class EL{constructor(){this.elts=[],this.i=0}}const NL=12,q1=new WeakMap;class wd{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const CL=Object.create(null);class ir{constructor(e,n,r,i=nt.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||ne.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&xd(this.attrs,n||e.defaultAttrs||CL)&&nt.sameSet(this.marks,r||nt.none)}copy(e=null){return e==this.content?this:new ir(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ir(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return oe.empty;let i=this.resolve(e),o=this.resolve(n),l=r?0:i.sharedDepth(n),u=i.start(l),h=i.node(l).content.cut(i.pos-u,o.pos-u);return new oe(h,i.depth-l,o.depth-l)}replace(e,n,r){return wL(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Fl.resolveCached(this,e)}resolveNoCache(e){return Fl.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),xE(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=ne.empty,i=0,o=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,o),u=l&&l.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let f=i;f<o;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),l=o&&o.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=nt.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!nt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=ne.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}}ir.prototype.text=void 0;class kd extends ir{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):xE(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new kd(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new kd(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function xE(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Gi{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new TL(e,n);if(r.next==null)return Gi.empty;let i=vE(r);r.next&&r.err("Unexpected trailing text");let o=DL(jL(i));return LL(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(l,u){let f=l.matchFragment(e,r);if(f&&(!n||f.validEnd))return ne.from(u.map(h=>h.createAndFill()));for(let h=0;h<l.next.length;h++){let{type:g,next:y}=l.next[h];if(!(g.isText||g.hasRequiredAttrs())&&i.indexOf(y)==-1){i.push(y);let x=o(y,u.concat(g));if(x)return x}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let l=[];for(let u=i;u.type;u=u.via)l.push(u.type);return l.reverse()}for(let l=0;l<o.next.length;l++){let{type:u,next:f}=o.next[l];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!i.type||f.validEnd)&&(r.push({match:u.contentMatch,type:u,via:i}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)o+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return o}).join(`
`)}}Gi.empty=new Gi(!0);class TL{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function vE(t){let e=[];do e.push(AL(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function AL(t){let e=[];do e.push(ML(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function ML(t){let e=RL(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=OL(t,e);else break;return e}function F1(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function OL(t,e){let n=F1(t),r=n;return t.eat(",")&&(t.next!="}"?r=F1(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function _L(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let l=n[o];l.isInGroup(e)&&i.push(l)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function RL(t){if(t.eat("(")){let e=vE(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=_L(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function jL(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(l,u,f){let h={term:f,to:u};return e[l].push(h),h}function i(l,u){l.forEach(f=>f.to=u)}function o(l,u){if(l.type=="choice")return l.exprs.reduce((f,h)=>f.concat(o(h,u)),[]);if(l.type=="seq")for(let f=0;;f++){let h=o(l.exprs[f],u);if(f==l.exprs.length-1)return h;i(h,u=n())}else if(l.type=="star"){let f=n();return r(u,f),i(o(l.expr,f),f),[r(f)]}else if(l.type=="plus"){let f=n();return i(o(l.expr,u),f),i(o(l.expr,f),f),[r(f)]}else{if(l.type=="opt")return[r(u)].concat(o(l.expr,u));if(l.type=="range"){let f=u;for(let h=0;h<l.min;h++){let g=n();i(o(l.expr,f),g),f=g}if(l.max==-1)i(o(l.expr,f),f);else for(let h=l.min;h<l.max;h++){let g=n();r(f,g),i(o(l.expr,f),g),f=g}return[r(f)]}else{if(l.type=="name")return[r(u,void 0,l.value)];throw new Error("Unknown expr type")}}}}function SE(t,e){return e-t}function G1(t,e){let n=[];return r(e),n.sort(SE);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let l=0;l<o.length;l++){let{term:u,to:f}=o[l];!u&&n.indexOf(f)==-1&&r(f)}}}function DL(t){let e=Object.create(null);return n(G1(t,0));function n(r){let i=[];r.forEach(l=>{t[l].forEach(({term:u,to:f})=>{if(!u)return;let h;for(let g=0;g<i.length;g++)i[g][0]==u&&(h=i[g][1]);G1(t,f).forEach(g=>{h||i.push([u,h=[]]),h.indexOf(g)==-1&&h.push(g)})})});let o=e[r.join(",")]=new Gi(r.indexOf(t.length-1)>-1);for(let l=0;l<i.length;l++){let u=i[l][1].sort(SE);o.next.push({type:i[l][0],next:e[u.join(",")]||n(u)})}return o}}function LL(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,l=[];for(let u=0;u<i.next.length;u++){let{type:f,next:h}=i.next[u];l.push(f.name),o&&!(f.isText||f.hasRequiredAttrs())&&(o=!1),r.indexOf(h)==-1&&r.push(h)}o&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function wE(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function kE(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function EE(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function NE(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new zL(t,r,e[r]);return n}let K1=class CE{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=NE(e,r.attrs),this.defaultAttrs=wE(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Gi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:kE(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new ir(this,this.computeAttrs(e),ne.from(n),nt.setFrom(r))}createChecked(e=null,n,r){return n=ne.from(n),this.checkContent(n),new ir(this,this.computeAttrs(e),n,nt.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=ne.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(ne.empty,!0);return o?new ir(this,e,n.append(o),nt.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){EE(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:nt.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,l)=>r[o]=new CE(o,n,l));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function IL(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class zL{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?IL(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class gf{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=NE(e,i.attrs),this.excluded=null;let o=wE(this.attrs);this.instance=o?new nt(this,o):null}create(e=null){return!e&&this.instance?this.instance:new nt(this,kE(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,l)=>r[o]=new gf(o,i++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){EE(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class TE{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Ut.from(e.nodes),n.marks=Ut.from(e.marks||{}),this.nodes=K1.compile(this.spec.nodes,this),this.marks=gf.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],l=o.spec.content||"",u=o.spec.marks;if(o.contentMatch=r[l]||(r[l]=Gi.parse(l,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=u=="_"?null:u?W1(this,u.split(" ")):u==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],l=o.spec.excludes;o.excluded=l==null?[o]:l==""?[]:W1(this,l.split(" "))}this.nodeFromJSON=i=>ir.fromJSON(this,i),this.markFromJSON=i=>nt.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof K1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new kd(r,r.defaultAttrs,e,nt.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function W1(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],l=o;if(o)n.push(o);else for(let u in t.marks){let f=t.marks[u];(i=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(i)>-1)&&n.push(l=f)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function PL(t){return t.tag!=null}function BL(t){return t.style!=null}class Ws{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(PL(i))this.tags.push(i);else if(BL(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new J1(this,n,!1);return r.addAll(e,nt.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new J1(this,n,!0);return r.addAll(e,nt.none,n.from,n.to),oe.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(VL(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let l=o.getAttrs(e);if(l===!1)continue;o.attrs=l||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let l=this.styles[o],u=l.style;if(!(u.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(l.getAttrs){let f=l.getAttrs(n);if(f===!1)continue;l.attrs=f||void 0}return l}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,l=0;for(;l<n.length;l++){let u=n[l];if((u.priority==null?50:u.priority)<o)break}n.splice(l,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(l=>{r(l=X1(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(l=>{r(l=X1(l)),l.node||l.ignore||l.mark||(l.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ws(e,Ws.schemaRules(e)))}}const AE={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},UL={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ME={ol:!0,ul:!0},Gl=1,rg=2,Ol=4;function Y1(t,e,n){return e!=null?(e?Gl:0)|(e==="full"?rg:0):t&&t.whitespace=="pre"?Gl|rg:n&~Ol}class Pu{constructor(e,n,r,i,o,l){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=nt.none,this.match=o||(l&Ol?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ne.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Gl)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=ne.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ne.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!AE.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class J1{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,l=Y1(null,n.preserveWhitespace,0)|(r?Ol:0);i?o=new Pu(i.type,i.attrs,nt.none,!0,n.topMatch||i.type.contentMatch,l):r?o=new Pu(null,null,nt.none,!0,null,l):o=new Pu(e.schema.topNodeType,null,nt.none,!0,null,l),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top,o=i.options&rg?"full":this.localPreserveWS||(i.options&Gl)>0,{schema:l}=this.parser;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(l.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(l.linebreakReplacement.create())){let u=r.split(/\r?\n|\r/);for(let f=0;f<u.length;f++)f&&this.insertNode(l.linebreakReplacement.create(),n,!0),u[f]&&this.insertNode(l.text(u[f]),n,!/\S/.test(u[f]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let u=i.content[i.content.length-1],f=e.previousSibling;(!u||f&&f.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(r=r.slice(1))}r&&this.insertNode(l.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),u;ME.hasOwnProperty(l)&&this.parser.normalizeLists&&HL(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(f?f.ignore:UL.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,n);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let h,g=this.needsBlock;if(AE.hasOwnProperty(l))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),h=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let y=f&&f.skip?n:this.readStyles(e,n);y&&this.addAll(e,y),h&&this.sync(o),this.needsBlock=g}else{let h=this.readStyles(e,n);h&&this.addElementByRule(e,f,h,f.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],l=r.getPropertyValue(o);if(l)for(let u=void 0;;){let f=this.parser.matchStyle(o,l,this,u);if(!f)break;if(f.ignore)return null;if(f.clearMark?n=n.filter(h=>!f.clearMark(h)):n=n.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)u=f;else break}}return n}addElementByRule(e,n,r,i){let o,l;if(n.node)if(l=this.parser.schema.nodes[n.node],l.isLeaf)this.insertNode(l.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let f=this.enter(l,n.attrs||null,r,n.preserveWhitespace);f&&(o=!0,r=f)}else{let f=this.parser.schema.marks[n.mark];r=r.concat(f.create(n.attrs))}let u=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,r,!1));else{let f=e;typeof n.contentElement=="string"?f=e.querySelector(n.contentElement):typeof n.contentElement=="function"?f=n.contentElement(e):n.contentElement&&(f=n.contentElement),this.findAround(e,f,!0),this.addAll(f,r),this.findAround(e,f,!1)}o&&this.sync(u)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let l=r?e.childNodes[r]:e.firstChild,u=i==null?null:e.childNodes[i];l!=u;l=l.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(l,n);this.findAtPoint(e,o)}findPlace(e,n,r){let i,o;for(let l=this.open,u=0;l>=0;l--){let f=this.nodes[l],h=f.findWrapping(e);if(h&&(!i||i.length>h.length+u)&&(i=h,o=f,!h.length))break;if(f.solid){if(r)break;u+=2}}if(!i)return null;this.sync(o);for(let l=0;l<i.length;l++)n=this.enterInner(i[l],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(e,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let l=nt.none;for(let u of i.concat(e.marks))(o.type?o.type.allowsMarkType(u.type):Q1(u.type,e.type))&&(l=u.addToSet(l));return o.content.push(e.mark(l)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r,!1);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let u=Y1(e,o,l.options);l.options&Ol&&l.content.length==0&&(u|=Ol);let f=nt.none;return r=r.filter(h=>(l.type?l.type.allowsMarkType(h.type):Q1(h.type,e))?(f=h.addToSet(f),!1):!0),this.nodes.push(new Pu(e,n,f,i,null,u)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Gl)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),l=(u,f)=>{for(;u>=0;u--){let h=n[u];if(h==""){if(u==n.length-1||u==0)continue;for(;f>=o;f--)if(l(u-1,f))return!0;return!1}else{let g=f>0||f==0&&i?this.nodes[f].type:r&&f>=o?r.node(f-o).type:null;if(!g||g.name!=h&&!g.isInGroup(h))return!1;f--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function HL(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&ME.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function VL(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function X1(t){let e={};for(let n in t)e[n]=t[n];return e}function Q1(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],l=u=>{o.push(u);for(let f=0;f<u.edgeCount;f++){let{type:h,next:g}=u.edge(f);if(h==e||o.indexOf(g)<0&&l(g))return!0}};if(l(i.contentMatch))return!0}}class Qi{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=um(n).createDocumentFragment());let i=r,o=[];return e.forEach(l=>{if(o.length||l.marks.length){let u=0,f=0;for(;u<o.length&&f<l.marks.length;){let h=l.marks[f];if(!this.marks[h.type.name]){f++;continue}if(!h.eq(o[u][0])||h.type.spec.spanning===!1)break;u++,f++}for(;u<o.length;)i=o.pop()[1];for(;f<l.marks.length;){let h=l.marks[f++],g=this.serializeMark(h,l.isInline,n);g&&(o.push([h,i]),i.appendChild(g.dom),i=g.contentDOM||g.dom)}}i.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=nd(um(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&nd(um(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return nd(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Qi(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Z1(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Z1(e.marks)}}function Z1(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function um(t){return t.document||window.document}const eS=new WeakMap;function $L(t){let e=eS.get(t);return e===void 0&&eS.set(t,e=qL(t)),e}function qL(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function nd(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=$L(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(n=i.slice(0,l),i=i.slice(l+1));let u,f=n?t.createElementNS(n,i):t.createElement(i),h=e[1],g=1;if(h&&typeof h=="object"&&h.nodeType==null&&!Array.isArray(h)){g=2;for(let y in h)if(h[y]!=null){let x=y.indexOf(" ");x>0?f.setAttributeNS(y.slice(0,x),y.slice(x+1),h[y]):y=="style"&&f.style?f.style.cssText=h[y]:f.setAttribute(y,h[y])}}for(let y=g;y<e.length;y++){let x=e[y];if(x===0){if(y<e.length-1||y>g)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:v,contentDOM:w}=nd(t,x,n,r);if(f.appendChild(v),w){if(u)throw new RangeError("Multiple content holes");u=w}}}return{dom:f,contentDOM:u}}const OE=65535,_E=Math.pow(2,16);function FL(t,e){return t+e*_E}function tS(t){return t&OE}function GL(t){return(t-(t&OE))/_E}const RE=1,jE=2,rd=4,DE=8;class sg{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&DE)>0}get deletedBefore(){return(this.delInfo&(RE|rd))>0}get deletedAfter(){return(this.delInfo&(jE|rd))>0}get deletedAcross(){return(this.delInfo&rd)>0}}class En{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&En.empty)return En.empty}recover(e){let n=0,r=tS(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+GL(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?i:0);if(f>e)break;let h=this.ranges[u+o],g=this.ranges[u+l],y=f+h;if(e<=y){let x=h?e==f?-1:e==y?1:n:n,v=f+i+(x<0?0:g);if(r)return v;let w=e==(n<0?f:y)?null:FL(u/3,e-f),E=e==f?jE:e==y?RE:rd;return(n<0?e!=f:e!=y)&&(E|=DE),new sg(v,E,w)}i+=g-h}return r?e+i:new sg(e+i,0,null)}touches(e,n){let r=0,i=tS(n),o=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?r:0);if(f>e)break;let h=this.ranges[u+o],g=f+h;if(e<=g&&u==i*3)return!0;r+=this.ranges[u+l]-h}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let l=this.ranges[i],u=l-(this.inverted?o:0),f=l+(this.inverted?0:o),h=this.ranges[i+n],g=this.ranges[i+r];e(u,u+h,f,f+g),o+=g-h}}invert(){return new En(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?En.empty:new En(e<0?[0,-e,0]:[0,0,e])}}En.empty=new En([]);class Kl{constructor(e,n,r=0,i=e?e.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Kl(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Kl;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let l=this._maps[o],u=l.mapResult(e,n);if(u.recover!=null){let f=this.getMirror(o);if(f!=null&&f>o&&f<this.to){o=f,e=this._maps[f].recover(u.recover);continue}}i|=u.delInfo,e=u.pos}return r?e:new sg(e,i,null)}}const dm=Object.create(null);class Yt{getMap(){return En.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=dm[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in dm)throw new RangeError("Duplicate use of step JSON ID "+e);return dm[e]=n,n.prototype.jsonID=e,n}}class kt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new kt(e,null)}static fail(e){return new kt(null,e)}static fromReplace(e,n,r,i){try{return kt.ok(e.replace(n,r,i))}catch(o){if(o instanceof vd)return kt.fail(o.message);throw o}}}function Zg(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Zg(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return ne.fromArray(r)}class $s extends Yt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new oe(Zg(n.content,(l,u)=>!l.isAtom||!u.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),n.openStart,n.openEnd);return kt.fromReplace(e,this.from,this.to,o)}invert(){return new rr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new $s(n.pos,r.pos,this.mark)}merge(e){return e instanceof $s&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new $s(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new $s(n.from,n.to,e.markFromJSON(n.mark))}}Yt.jsonID("addMark",$s);class rr extends Yt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new oe(Zg(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return kt.fromReplace(e,this.from,this.to,r)}invert(){return new $s(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new rr(n.pos,r.pos,this.mark)}merge(e){return e instanceof rr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new rr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new rr(n.from,n.to,e.markFromJSON(n.mark))}}Yt.jsonID("removeMark",rr);class qs extends Yt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return kt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return kt.fromReplace(e,this.pos,this.pos+1,new oe(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new qs(this.pos,n.marks[i]);return new qs(this.pos,this.mark)}}return new Ki(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qs(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new qs(n.pos,e.markFromJSON(n.mark))}}Yt.jsonID("addNodeMark",qs);class Ki extends Yt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return kt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return kt.fromReplace(e,this.pos,this.pos+1,new oe(ne.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new qs(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ki(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ki(n.pos,e.markFromJSON(n.mark))}}Yt.jsonID("removeNodeMark",Ki);class Ot extends Yt{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&ig(e,this.from,this.to)?kt.fail("Structure replace would overwrite content"):kt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new En([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ot(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Ot(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Ot)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?oe.empty:new oe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ot(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?oe.empty:new oe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ot(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ot(n.from,n.to,oe.fromJSON(e,n.slice),!!n.structure)}}Yt.jsonID("replace",Ot);class Rt extends Yt{constructor(e,n,r,i,o,l,u=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=l,this.structure=u}apply(e){if(this.structure&&(ig(e,this.from,this.gapFrom)||ig(e,this.gapTo,this.to)))return kt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return kt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?kt.fromReplace(e,this.from,this.to,r):kt.fail("Content does not fit in gap")}getMap(){return new En([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Rt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Rt(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Rt(n.from,n.to,n.gapFrom,n.gapTo,oe.fromJSON(e,n.slice),n.insert,!!n.structure)}}Yt.jsonID("replaceAround",Rt);function ig(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let l=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function KL(t,e,n,r){let i=[],o=[],l,u;t.doc.nodesBetween(e,n,(f,h,g)=>{if(!f.isInline)return;let y=f.marks;if(!r.isInSet(y)&&g.type.allowsMarkType(r.type)){let x=Math.max(h,e),v=Math.min(h+f.nodeSize,n),w=r.addToSet(y);for(let E=0;E<y.length;E++)y[E].isInSet(w)||(l&&l.to==x&&l.mark.eq(y[E])?l.to=v:i.push(l=new rr(x,v,y[E])));u&&u.to==x?u.to=v:o.push(u=new $s(x,v,r))}}),i.forEach(f=>t.step(f)),o.forEach(f=>t.step(f))}function WL(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(l,u)=>{if(!l.isInline)return;o++;let f=null;if(r instanceof gf){let h=l.marks,g;for(;g=r.isInSet(h);)(f||(f=[])).push(g),h=g.removeFromSet(h)}else r?r.isInSet(l.marks)&&(f=[r]):f=l.marks;if(f&&f.length){let h=Math.min(u+l.nodeSize,n);for(let g=0;g<f.length;g++){let y=f[g],x;for(let v=0;v<i.length;v++){let w=i[v];w.step==o-1&&y.eq(i[v].style)&&(x=w)}x?(x.to=h,x.step=o):i.push({style:y,from:Math.max(u,e),to:h,step:o})}}}),i.forEach(l=>t.step(new rr(l.from,l.to,l.style)))}function ey(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),l=[],u=e+1;for(let f=0;f<o.childCount;f++){let h=o.child(f),g=u+h.nodeSize,y=r.matchType(h.type);if(!y)l.push(new Ot(u,g,oe.empty));else{r=y;for(let x=0;x<h.marks.length;x++)n.allowsMarkType(h.marks[x].type)||t.step(new rr(u,g,h.marks[x]));if(i&&h.isText&&n.whitespace!="pre"){let x,v=/\r?\n|\r/g,w;for(;x=v.exec(h.text);)w||(w=new oe(ne.from(n.schema.text(" ",n.allowedMarks(h.marks))),0,0)),l.push(new Ot(u+x.index,u+x.index+x[0].length,w))}}u=g}if(!r.validEnd){let f=r.fillBefore(ne.empty,!0);t.replace(u,u,new oe(f,0,0))}for(let f=l.length-1;f>=0;f--)t.step(l[f])}function YL(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function bo(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,i=0,o=0;;--r){let l=t.$from.node(r),u=t.$from.index(r)+i,f=t.$to.indexAfter(r)-o;if(r<t.depth&&l.canReplace(u,f,n))return r;if(r==0||l.type.spec.isolating||!YL(l,u,f))break;u&&(i=1),f<l.childCount&&(o=1)}return null}function JL(t,e,n){let{$from:r,$to:i,depth:o}=e,l=r.before(o+1),u=i.after(o+1),f=l,h=u,g=ne.empty,y=0;for(let w=o,E=!1;w>n;w--)E||r.index(w)>0?(E=!0,g=ne.from(r.node(w).copy(g)),y++):f--;let x=ne.empty,v=0;for(let w=o,E=!1;w>n;w--)E||i.after(w+1)<i.end(w)?(E=!0,x=ne.from(i.node(w).copy(x)),v++):h++;t.step(new Rt(f,h,l,u,new oe(g.append(x),y,v),g.size-y,!0))}function ty(t,e,n=null,r=t){let i=XL(t,e),o=i&&QL(r,e);return o?i.map(nS).concat({type:e,attrs:n}).concat(o.map(nS)):null}function nS(t){return{type:t,attrs:null}}function XL(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let l=o.length?o[0]:e;return n.canReplaceWith(r,i,l)?o:null}function QL(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),l=e.contentMatch.findWrapping(o.type);if(!l)return null;let f=(l.length?l[l.length-1]:e).contentMatch;for(let h=r;f&&h<i;h++)f=f.matchType(n.child(h).type);return!f||!f.validEnd?null:l}function ZL(t,e,n){let r=ne.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let u=n[l].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ne.from(n[l].type.create(n[l].attrs,r))}let i=e.start,o=e.end;t.step(new Rt(i,o,i,o,new oe(r,0,0),n.length,!0))}function eI(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(l,u)=>{let f=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,f)&&tI(t.doc,t.mapping.slice(o).map(u),r)){let h=null;if(r.schema.linebreakReplacement){let v=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);v&&!w?h=!1:!v&&w&&(h=!0)}h===!1&&IE(t,l,u,o),ey(t,t.mapping.slice(o).map(u,1),r,void 0,h===null);let g=t.mapping.slice(o),y=g.map(u,1),x=g.map(u+l.nodeSize,1);return t.step(new Rt(y,x,y+1,x-1,new oe(ne.from(r.create(f,null,l.marks)),0,0),1,!0)),h===!0&&LE(t,l,u,o),!1}})}function LE(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let l,u=/\r?\n|\r/g;for(;l=u.exec(i.text);){let f=t.mapping.slice(r).map(n+1+o+l.index);t.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function IE(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let l=t.mapping.slice(r).map(n+1+o);t.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function tI(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function nI(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let l=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,l);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Rt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new oe(ne.from(l),0,0),1,!0))}function Jr(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,l=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let h=i.depth-1,g=n-2;h>o;h--,g--){let y=i.node(h),x=i.index(h);if(y.type.spec.isolating)return!1;let v=y.content.cutByIndex(x,y.childCount),w=r&&r[g+1];w&&(v=v.replaceChild(0,w.type.create(w.attrs)));let E=r&&r[g]||y;if(!y.canReplace(x+1,y.childCount)||!E.type.validContent(v))return!1}let u=i.indexAfter(o),f=r&&r[0];return i.node(o).canReplaceWith(u,u,f?f.type:i.node(o+1).type)}function rI(t,e,n=1,r){let i=t.doc.resolve(e),o=ne.empty,l=ne.empty;for(let u=i.depth,f=i.depth-n,h=n-1;u>f;u--,h--){o=ne.from(i.node(u).copy(o));let g=r&&r[h];l=ne.from(g?g.type.create(g.attrs,l):i.node(u).copy(l))}t.step(new Ot(e,e,new oe(o.append(l),n,n),!0))}function ii(t,e){let n=t.resolve(e),r=n.index();return zE(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function sI(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),l=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(l),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function zE(t,e){return!!(t&&e&&!t.isLeaf&&sI(t,e))}function yf(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,l,u=r.index(i);if(i==r.depth?(o=r.nodeBefore,l=r.nodeAfter):n>0?(o=r.node(i+1),u++,l=r.node(i).maybeChild(u)):(o=r.node(i).maybeChild(u-1),l=r.node(i+1)),o&&!o.isTextblock&&zE(o,l)&&r.node(i).canReplace(u,u+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function iI(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-n),l=o.node().type;if(i&&l.inlineContent){let g=l.whitespace=="pre",y=!!l.contentMatch.matchType(i);g&&!y?r=!1:!g&&y&&(r=!0)}let u=t.steps.length;if(r===!1){let g=t.doc.resolve(e+n);IE(t,g.node(),g.before(),u)}l.inlineContent&&ey(t,e+n-1,l,o.node().contentMatchAt(o.index()),r==null);let f=t.mapping.slice(u),h=f.map(e-n);if(t.step(new Ot(h,f.map(e+n,-1),oe.empty,!0)),r===!0){let g=t.doc.resolve(h);LE(t,g.node(),g.before(),t.steps.length)}return t}function aI(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function PE(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let l=r.depth;l>=0;l--){let u=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,f=r.index(l)+(u>0?1:0),h=r.node(l),g=!1;if(o==1)g=h.canReplace(f,f,i);else{let y=h.contentMatchAt(f).findWrapping(i.firstChild.type);g=y&&h.canReplaceWith(f,f,y[0])}if(g)return u==0?r.pos:u<0?r.before(l+1):r.after(l+1)}return null}function bf(t,e,n=e,r=oe.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return BE(i,o,r)?new Ot(e,n,r):new oI(i,o,r).fit()}function BE(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class oI{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=ne.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ne.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,l=r.depth,u=i.depth;for(;l&&u&&o.childCount==1;)o=o.firstChild.content,l--,u--;let f=new oe(o,l,u);return e>-1?new Rt(r.pos,e,this.$to.pos,this.$to.end(),f,n):f.size||r.pos!=this.$to.pos?new Ot(r.pos,i.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=fm(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let l=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:f,match:h}=this.frontier[u],g,y=null;if(n==1&&(l?h.matchType(l.type)||(y=h.fillBefore(ne.from(l),!1)):o&&f.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:u,parent:o,inject:y};if(n==2&&l&&(g=h.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:u,parent:o,wrap:g};if(o&&h.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=fm(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new oe(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=fm(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new oe(wl(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new oe(wl(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let E=0;E<o.length;E++)this.openFrontierNode(o[E]);let l=this.unplaced,u=r?r.content:l.content,f=l.openStart-e,h=0,g=[],{match:y,type:x}=this.frontier[n];if(i){for(let E=0;E<i.childCount;E++)g.push(i.child(E));y=y.matchFragment(i)}let v=u.size+e-(l.content.size-l.openEnd);for(;h<u.childCount;){let E=u.child(h),k=y.matchType(E.type);if(!k)break;h++,(h>1||f==0||E.content.size)&&(y=k,g.push(UE(E.mark(x.allowedMarks(E.marks)),h==1?f:0,h==u.childCount?v:-1)))}let w=h==u.childCount;w||(v=-1),this.placed=kl(this.placed,n,ne.from(g)),this.frontier[n].match=y,w&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let E=0,k=u;E<v;E++){let C=k.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),k=C.content}this.unplaced=w?e==0?oe.empty:new oe(wl(l.content,e-1,1),e-1,v<0?l.openEnd:e-1):new oe(wl(l.content,e,h),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!hm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=hm(e,n,i,r,o);if(l){for(let u=n-1;u>=0;u--){let{match:f,type:h}=this.frontier[u],g=hm(e,u,h,f,!0);if(!g||g.childCount)continue e}return{depth:n,fit:l,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=kl(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=kl(this.placed,this.depth,ne.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ne.empty,!0);n.childCount&&(this.placed=kl(this.placed,this.frontier.length,n))}}function wl(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(wl(t.firstChild.content,e-1,n)))}function kl(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(kl(t.lastChild.content,e-1,n)))}function fm(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function UE(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,UE(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(ne.empty,!0)))),t.copy(r)}function hm(t,e,n,r,i){let o=t.node(e),l=i?t.indexAfter(e):t.index(e);if(l==o.childCount&&!n.compatibleContent(o.type))return null;let u=r.fillBefore(o.content,!0,l);return u&&!lI(n,o.content,l)?u:null}function lI(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function cI(t){return t.spec.defining||t.spec.definingForContent}function uI(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(BE(i,o,r))return t.step(new Ot(e,n,r));let l=VE(i,o);l[l.length-1]==0&&l.pop();let u=-(i.depth+1);l.unshift(u);for(let x=i.depth,v=i.pos-1;x>0;x--,v--){let w=i.node(x).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;l.indexOf(x)>-1?u=x:i.before(x)==v&&l.splice(1,0,-x)}let f=l.indexOf(u),h=[],g=r.openStart;for(let x=r.content,v=0;;v++){let w=x.firstChild;if(h.push(w),v==r.openStart)break;x=w.content}for(let x=g-1;x>=0;x--){let v=h[x],w=cI(v.type);if(w&&!v.sameMarkup(i.node(Math.abs(u)-1)))g=x;else if(w||!v.type.isTextblock)break}for(let x=r.openStart;x>=0;x--){let v=(x+g+1)%(r.openStart+1),w=h[v];if(w)for(let E=0;E<l.length;E++){let k=l[(E+f)%l.length],C=!0;k<0&&(C=!1,k=-k);let R=i.node(k-1),D=i.index(k-1);if(R.canReplaceWith(D,D,w.type,w.marks))return t.replace(i.before(k),C?o.after(k):n,new oe(HE(r.content,0,r.openStart,v),v,r.openEnd))}}let y=t.steps.length;for(let x=l.length-1;x>=0&&(t.replace(e,n,r),!(t.steps.length>y));x--){let v=l[x];v<0||(e=i.before(v),n=o.after(v))}}function HE(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(HE(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),l=o.fillBefore(t).append(t);t=l.append(o.matchFragment(l).fillBefore(ne.empty,!0))}return t}function dI(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=aI(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new oe(ne.from(r),0,0))}function fI(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=VE(r,i);for(let l=0;l<o.length;l++){let u=o[l],f=l==o.length-1;if(f&&u==0||r.node(u).type.contentMatch.validEnd)return t.delete(r.start(u),i.end(u));if(u>0&&(f||r.node(u-1).canReplace(r.index(u-1),i.indexAfter(u-1))))return t.delete(r.before(u),i.after(u))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&i.end(l)-n!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return t.delete(r.before(l),n);t.delete(e,n)}function VE(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class Za extends Yt{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return kt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return kt.fromReplace(e,this.pos,this.pos+1,new oe(ne.from(i),0,n.isLeaf?0:1))}getMap(){return En.empty}invert(e){return new Za(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Za(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Za(n.pos,n.attr,n.value)}}Yt.jsonID("attr",Za);class Wl extends Yt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return kt.ok(r)}getMap(){return En.empty}invert(e){return new Wl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Wl(n.attr,n.value)}}Yt.jsonID("docAttr",Wl);let so=class extends Error{};so=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};so.prototype=Object.create(Error.prototype);so.prototype.constructor=so;so.prototype.name="TransformError";class $E{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Kl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new so(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=oe.empty){let i=bf(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new oe(ne.from(r),0,0))}delete(e,n){return this.replace(e,n,oe.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return uI(this,e,n,r),this}replaceRangeWith(e,n,r){return dI(this,e,n,r),this}deleteRange(e,n){return fI(this,e,n),this}lift(e,n){return JL(this,e,n),this}join(e,n=1){return iI(this,e,n),this}wrap(e,n){return ZL(this,e,n),this}setBlockType(e,n=e,r,i=null){return eI(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return nI(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Za(e,n,r)),this}setDocAttribute(e,n){return this.step(new Wl(e,n)),this}addNodeMark(e,n){return this.step(new qs(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof nt)n.isInSet(r.marks)&&this.step(new Ki(e,n));else{let i=r.marks,o,l=[];for(;o=n.isInSet(i);)l.push(new Ki(e,o)),i=o.removeFromSet(i);for(let u=l.length-1;u>=0;u--)this.step(l[u])}return this}split(e,n=1,r){return rI(this,e,n,r),this}addMark(e,n,r){return KL(this,e,n,r),this}removeMark(e,n,r){return WL(this,e,n,r),this}clearIncompatible(e,n,r){return ey(this,e,n,r),this}}const pm=Object.create(null);class Re{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new hI(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=oe.empty){let r=n.content.lastChild,i=null;for(let u=0;u<n.openEnd;u++)i=r,r=r.lastChild;let o=e.steps.length,l=this.ranges;for(let u=0;u<l.length;u++){let{$from:f,$to:h}=l[u],g=e.mapping.slice(o);e.replaceRange(g.map(f.pos),g.map(h.pos),u?oe.empty:n),u==0&&iS(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:l,$to:u}=i[o],f=e.mapping.slice(r),h=f.map(l.pos),g=f.map(u.pos);o?e.deleteRange(h,g):(e.replaceRangeWith(h,g,n),iS(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ee(e):$a(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let l=n<0?$a(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):$a(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Nn(e.node(0))}static atStart(e){return $a(e,e,0,0,1)||new Nn(e)}static atEnd(e){return $a(e,e,e.content.size,e.childCount,-1)||new Nn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=pm[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in pm)throw new RangeError("Duplicate use of selection JSON ID "+e);return pm[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ee.between(this.$anchor,this.$head).getBookmark()}}Re.prototype.visible=!0;class hI{constructor(e,n){this.$from=e,this.$to=n}}let rS=!1;function sS(t){!rS&&!t.parent.inlineContent&&(rS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ee extends Re{constructor(e,n=e){sS(e),sS(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Re.near(r);let i=e.resolve(n.map(this.anchor));return new Ee(i.parent.inlineContent?i:r,r)}replace(e,n=oe.empty){if(super.replace(e,n),n==oe.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ee&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new xf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ee(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Re.findFrom(n,r,!0)||Re.findFrom(n,-r,!0);if(o)n=o.$head;else return Re.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Re.findFrom(e,-r,!0)||Re.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ee(e,n)}}Re.jsonID("text",Ee);class xf{constructor(e,n){this.anchor=e,this.head=n}map(e){return new xf(e.map(this.anchor),e.map(this.head))}resolve(e){return Ee.between(e.resolve(this.anchor),e.resolve(this.head))}}class be extends Re{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?Re.near(o):new be(o)}content(){return new oe(ne.from(this.node),0,0)}eq(e){return e instanceof be&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new ny(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new be(e.resolve(n.anchor))}static create(e,n){return new be(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}be.prototype.visible=!1;Re.jsonID("node",be);class ny{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new xf(r,r):new ny(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&be.isSelectable(r)?new be(n):Re.near(n)}}class Nn extends Re{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=oe.empty){if(n==oe.empty){e.delete(0,e.doc.content.size);let r=Re.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Nn(e)}map(e){return new Nn(e)}eq(e){return e instanceof Nn}getBookmark(){return pI}}Re.jsonID("all",Nn);const pI={map(){return this},resolve(t){return new Nn(t)}};function $a(t,e,n,r,i,o=!1){if(e.inlineContent)return Ee.create(t,n);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let u=e.child(l);if(u.isAtom){if(!o&&be.isSelectable(u))return be.create(t,n-(i<0?u.nodeSize:0))}else{let f=$a(t,u,n+i,i<0?u.childCount:0,i,o);if(f)return f}n+=u.nodeSize*i}return null}function iS(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Ot||i instanceof Rt))return;let o=t.mapping.maps[r],l;o.forEach((u,f,h,g)=>{l==null&&(l=g)}),t.setSelection(Re.near(t.doc.resolve(l),n))}const aS=1,Bu=2,oS=4;class mI extends $E{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|aS)&~Bu,this.storedMarks=null,this}get selectionSet(){return(this.updated&aS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Bu,this}ensureMarks(e){return nt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Bu)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Bu,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||nt.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let l=this.doc.resolve(n);o=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Re.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=oS,this}get scrolledIntoView(){return(this.updated&oS)>0}}function lS(t,e){return!e||!t?t:t.bind(e)}class El{constructor(e,n,r){this.name=e,this.init=lS(n.init,r),this.apply=lS(n.apply,r)}}const gI=[new El("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new El("selection",{init(t,e){return t.selection||Re.atStart(e.doc)},apply(t){return t.selection}}),new El("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new El("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class mm{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=gI.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new El(r.key,r.spec.state,r))})}}class Ka{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let l=0;l<this.config.plugins.length;l++){let u=this.config.plugins[l];if(u.spec.appendTransaction){let f=i?i[l].n:0,h=i?i[l].state:this,g=f<n.length&&u.spec.appendTransaction.call(u,f?n.slice(f):n,h,r);if(g&&r.filterTransaction(g,l)){if(g.setMeta("appendedTransaction",e),!i){i=[];for(let y=0;y<this.config.plugins.length;y++)i.push(y<l?{state:r,n:n.length}:{state:this,n:0})}n.push(g),r=r.applyInner(g),o=!0}i&&(i[l]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ka(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new mI(this)}static create(e){let n=new mm(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ka(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new mm(this.schema,e.plugins),r=n.fields,i=new Ka(n);for(let o=0;o<r.length;o++){let l=r[o].name;i[l]=this.hasOwnProperty(l)?this[l]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new mm(e.schema,e.plugins),o=new Ka(i);return i.fields.forEach(l=>{if(l.name=="doc")o.doc=ir.fromJSON(e.schema,n.doc);else if(l.name=="selection")o.selection=Re.fromJSON(o.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let f=r[u],h=f.spec.state;if(f.key==l.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){o[l.name]=h.fromJSON.call(f,e,n[u],o);return}}o[l.name]=l.init(e,o)}}),o}}function qE(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=qE(i,e,{})),n[r]=i}return n}class ft{constructor(e){this.spec=e,this.props={},e.props&&qE(e.props,this,this.props),this.key=e.key?e.key.key:FE("plugin")}getState(e){return e[this.key]}}const gm=Object.create(null);function FE(t){return t in gm?t+"$"+ ++gm[t]:(gm[t]=0,t+"$")}class Tt{constructor(e="key"){this.key=FE(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ry=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function GE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const KE=(t,e,n)=>{let r=GE(t,n);if(!r)return!1;let i=sy(r);if(!i){let l=r.blockRange(),u=l&&bo(l);return u==null?!1:(e&&e(t.tr.lift(l,u).scrollIntoView()),!0)}let o=i.nodeBefore;if(nN(t,i,e,-1))return!0;if(r.parent.content.size==0&&(io(o,"end")||be.isSelectable(o)))for(let l=r.depth;;l--){let u=bf(t.doc,r.before(l),r.after(l),oe.empty);if(u&&u.slice.size<u.to-u.from){if(e){let f=t.tr.step(u);f.setSelection(io(o,"end")?Re.findFrom(f.doc.resolve(f.mapping.map(i.pos,-1)),-1):be.create(f.doc,i.pos-o.nodeSize)),e(f.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},yI=(t,e,n)=>{let r=GE(t,n);if(!r)return!1;let i=sy(r);return i?WE(t,i,e):!1},bI=(t,e,n)=>{let r=JE(t,n);if(!r)return!1;let i=iy(r);return i?WE(t,i,e):!1};function WE(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let g=i.lastChild;if(!g)return!1;i=g}let l=e.nodeAfter,u=l,f=e.pos+1;for(;!u.isTextblock;f++){if(u.type.spec.isolating)return!1;let g=u.firstChild;if(!g)return!1;u=g}let h=bf(t.doc,o,f,oe.empty);if(!h||h.from!=o||h instanceof Ot&&h.slice.size>=f-o)return!1;if(n){let g=t.tr.step(h);g.setSelection(Ee.create(g.doc,o)),n(g.scrollIntoView())}return!0}function io(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const YE=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=sy(r)}let l=o&&o.nodeBefore;return!l||!be.isSelectable(l)?!1:(e&&e(t.tr.setSelection(be.create(t.doc,o.pos-l.nodeSize)).scrollIntoView()),!0)};function sy(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function JE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const XE=(t,e,n)=>{let r=JE(t,n);if(!r)return!1;let i=iy(r);if(!i)return!1;let o=i.nodeAfter;if(nN(t,i,e,1))return!0;if(r.parent.content.size==0&&(io(o,"start")||be.isSelectable(o))){let l=bf(t.doc,r.before(),r.after(),oe.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(io(o,"start")?Re.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):be.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},QE=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=iy(r)}let l=o&&o.nodeAfter;return!l||!be.isSelectable(l)?!1:(e&&e(t.tr.setSelection(be.create(t.doc,o.pos)).scrollIntoView()),!0)};function iy(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const xI=(t,e)=>{let n=t.selection,r=n instanceof be,i;if(r){if(n.node.isTextblock||!ii(t.doc,n.from))return!1;i=n.from}else if(i=yf(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(be.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},vI=(t,e)=>{let n=t.selection,r;if(n instanceof be){if(n.node.isTextblock||!ii(t.doc,n.to))return!1;r=n.to}else if(r=yf(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},SI=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&bo(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},ZE=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function ay(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const wI=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),l=ay(i.contentMatchAt(o));if(!l||!i.canReplaceWith(o,o,l))return!1;if(e){let u=n.after(),f=t.tr.replaceWith(u,u,l.createAndFill());f.setSelection(Re.near(f.doc.resolve(u),1)),e(f.scrollIntoView())}return!0},eN=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Nn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=ay(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,u=t.tr.insert(l,o.createAndFill());u.setSelection(Ee.create(u.doc,l+1)),e(u.scrollIntoView())}return!0},tN=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Jr(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&bo(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function kI(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof be&&e.selection.node.isBlock)return!r.parentOffset||!Jr(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],l,u,f=!1,h=!1;for(let v=r.depth;;v--)if(r.node(v).isBlock){f=r.end(v)==r.pos+(r.depth-v),h=r.start(v)==r.pos-(r.depth-v),u=ay(r.node(v-1).contentMatchAt(r.indexAfter(v-1))),o.unshift(f&&u?{type:u}:null),l=v;break}else{if(v==1)return!1;o.unshift(null)}let g=e.tr;(e.selection instanceof Ee||e.selection instanceof Nn)&&g.deleteSelection();let y=g.mapping.map(r.pos),x=Jr(g.doc,y,o.length,o);if(x||(o[0]=u?{type:u}:null,x=Jr(g.doc,y,o.length,o)),!x)return!1;if(g.split(y,o.length,o),!f&&h&&r.node(l).type!=u){let v=g.mapping.map(r.before(l)),w=g.doc.resolve(v);u&&r.node(l-1).canReplaceWith(w.index(),w.index()+1,u)&&g.setNodeMarkup(g.mapping.map(r.before(l)),u)}return n&&n(g.scrollIntoView()),!0}}const EI=kI(),NI=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(be.create(t.doc,i))),!0)};function CI(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||ii(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function nN(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,l,u,f=i.type.spec.isolating||o.type.spec.isolating;if(!f&&CI(t,e,n))return!0;let h=!f&&e.parent.canReplace(e.index(),e.index()+1);if(h&&(l=(u=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&u.matchType(l[0]||o.type).validEnd){if(n){let v=e.pos+o.nodeSize,w=ne.empty;for(let C=l.length-1;C>=0;C--)w=ne.from(l[C].create(null,w));w=ne.from(i.copy(w));let E=t.tr.step(new Rt(e.pos-1,v,e.pos,v,new oe(w,1,0),l.length,!0)),k=E.doc.resolve(v+2*l.length);k.nodeAfter&&k.nodeAfter.type==i.type&&ii(E.doc,k.pos)&&E.join(k.pos),n(E.scrollIntoView())}return!0}let g=o.type.spec.isolating||r>0&&f?null:Re.findFrom(e,1),y=g&&g.$from.blockRange(g.$to),x=y&&bo(y);if(x!=null&&x>=e.depth)return n&&n(t.tr.lift(y,x).scrollIntoView()),!0;if(h&&io(o,"start",!0)&&io(i,"end")){let v=i,w=[];for(;w.push(v),!v.isTextblock;)v=v.lastChild;let E=o,k=1;for(;!E.isTextblock;E=E.firstChild)k++;if(v.canReplace(v.childCount,v.childCount,E.content)){if(n){let C=ne.empty;for(let D=w.length-1;D>=0;D--)C=ne.from(w[D].copy(C));let R=t.tr.step(new Rt(e.pos-w.length,e.pos+o.nodeSize,e.pos+k,e.pos+o.nodeSize-k,new oe(C,w.length,0),0,!0));n(R.scrollIntoView())}return!0}}return!1}function rN(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(Ee.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const TI=rN(-1),AI=rN(1);function MI(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,l=i.blockRange(o),u=l&&ty(l,t,e);return u?(r&&r(n.tr.wrap(l,u).scrollIntoView()),!0):!1}}function cS(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[o];n.doc.nodesBetween(l,u,(f,h)=>{if(i)return!1;if(!(!f.isTextblock||f.hasMarkup(t,e)))if(f.type==t)i=!0;else{let g=n.doc.resolve(h),y=g.index();i=g.parent.canReplaceWith(y,y+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:u},$to:{pos:f}}=n.selection.ranges[l];o.setBlockType(u,f,t,e)}r(o.scrollIntoView())}return!0}}function oy(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}oy(ry,KE,YE);oy(ry,XE,QE);oy(ZE,eN,tN,EI);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function OI(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,l=i.blockRange(o);if(!l)return!1;let u=r?n.tr:null;return _I(u,l,t,e)?(r&&r(u.scrollIntoView()),!0):!1}}function _I(t,e,n,r=null){let i=!1,o=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=l.resolve(e.start-2);o=new wd(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new wd(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let u=ty(o,n,r,e);return u?(t&&RI(t,e,u,i,n),!0):!1}function RI(t,e,n,r,i){let o=ne.empty;for(let g=n.length-1;g>=0;g--)o=ne.from(n[g].type.create(n[g].attrs,o));t.step(new Rt(e.start-(r?2:0),e.end,e.start,e.end,new oe(o,0,0),n.length,!0));let l=0;for(let g=0;g<n.length;g++)n[g].type==i&&(l=g+1);let u=n.length-l,f=e.start+n.length-(r?2:0),h=e.parent;for(let g=e.startIndex,y=e.endIndex,x=!0;g<y;g++,x=!1)!x&&Jr(t.doc,f,u)&&(t.split(f,u),f+=2*u),f+=h.child(g).nodeSize;return t}function jI(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?DI(e,n,t,o):LI(e,n,o):!0:!1}}function DI(t,e,n,r){let i=t.tr,o=r.end,l=r.$to.end(r.depth);o<l&&(i.step(new Rt(o-1,l,o,l,new oe(ne.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new wd(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const u=bo(r);if(u==null)return!1;i.lift(r,u);let f=i.doc.resolve(i.mapping.map(o,-1)-1);return ii(i.doc,f.pos)&&f.nodeBefore.type==f.nodeAfter.type&&i.join(f.pos),e(i.scrollIntoView()),!0}function LI(t,e,n){let r=t.tr,i=n.parent;for(let v=n.end,w=n.endIndex-1,E=n.startIndex;w>E;w--)v-=i.child(w).nodeSize,r.delete(v-1,v+1);let o=r.doc.resolve(n.start),l=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,f=n.endIndex==i.childCount,h=o.node(-1),g=o.index(-1);if(!h.canReplace(g+(u?0:1),g+1,l.content.append(f?ne.empty:ne.from(i))))return!1;let y=o.pos,x=y+l.nodeSize;return r.step(new Rt(y-(u?1:0),x+(f?1:0),y+1,x-1,new oe((u?ne.empty:ne.from(i.copy(ne.empty))).append(f?ne.empty:ne.from(i.copy(ne.empty))),u?0:1,f?0:1),u?0:1)),e(r.scrollIntoView()),!0}function II(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,h=>h.childCount>0&&h.firstChild.type==t);if(!o)return!1;let l=o.startIndex;if(l==0)return!1;let u=o.parent,f=u.child(l-1);if(f.type!=t)return!1;if(n){let h=f.lastChild&&f.lastChild.type==u.type,g=ne.from(h?t.create():null),y=new oe(ne.from(t.create(null,ne.from(u.type.create(null,g)))),h?3:1,0),x=o.start,v=o.end;n(e.tr.step(new Rt(x-(h?3:1),v,x,v,y,1,!0)).scrollIntoView())}return!0}}const Vt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},ao=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let ag=null;const $r=function(t,e,n){let r=ag||(ag=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},zI=function(){ag=null},Wi=function(t,e,n,r){return n&&(uS(t,e,n,r,-1)||uS(t,e,n,r,1))},PI=/^(img|br|input|textarea|hr)$/i;function uS(t,e,n,r,i){for(var o;;){if(t==n&&e==r)return!0;if(e==(i<0?0:$n(t))){let l=t.parentNode;if(!l||l.nodeType!=1||hc(t)||PI.test(t.nodeName)||t.contentEditable=="false")return!1;e=Vt(t)+(i<0?0:1),t=l}else if(t.nodeType==1){let l=t.childNodes[e+(i<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((o=l.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else t=l,e=i<0?$n(t):0}else return!1}}function $n(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function BI(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=$n(t)}else if(t.parentNode&&!hc(t))e=Vt(t),t=t.parentNode;else return null}}function UI(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!hc(t))e=Vt(t)+1,t=t.parentNode;else return null}}function HI(t,e,n){for(let r=e==0,i=e==$n(t);r||i;){if(t==n)return!0;let o=Vt(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==$n(t)}}function hc(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const vf=function(t){return t.focusNode&&Wi(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ri(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function VI(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function $I(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min($n(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min($n(r.startContainer),r.startOffset)}}}const yr=typeof navigator<"u"?navigator:null,dS=typeof document<"u"?document:null,ai=yr&&yr.userAgent||"",og=/Edge\/(\d+)/.exec(ai),sN=/MSIE \d/.exec(ai),lg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ai),fn=!!(sN||lg||og),Ys=sN?document.documentMode:lg?+lg[1]:og?+og[1]:0,qn=!fn&&/gecko\/(\d+)/i.test(ai);qn&&+(/Firefox\/(\d+)/.exec(ai)||[0,0])[1];const cg=!fn&&/Chrome\/(\d+)/.exec(ai),_t=!!cg,iN=cg?+cg[1]:0,Wt=!fn&&!!yr&&/Apple Computer/.test(yr.vendor),oo=Wt&&(/Mobile\/\w+/.test(ai)||!!yr&&yr.maxTouchPoints>2),Hn=oo||(yr?/Mac/.test(yr.platform):!1),aN=yr?/Win/.test(yr.platform):!1,Kr=/Android \d/.test(ai),pc=!!dS&&"webkitFontSmoothing"in dS.documentElement.style,qI=pc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function FI(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Br(t,e){return typeof t=="number"?t:t[e]}function GI(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function fS(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let l=n||t.dom;l;){if(l.nodeType!=1){l=ao(l);continue}let u=l,f=u==o.body,h=f?FI(o):GI(u),g=0,y=0;if(e.top<h.top+Br(r,"top")?y=-(h.top-e.top+Br(i,"top")):e.bottom>h.bottom-Br(r,"bottom")&&(y=e.bottom-e.top>h.bottom-h.top?e.top+Br(i,"top")-h.top:e.bottom-h.bottom+Br(i,"bottom")),e.left<h.left+Br(r,"left")?g=-(h.left-e.left+Br(i,"left")):e.right>h.right-Br(r,"right")&&(g=e.right-h.right+Br(i,"right")),g||y)if(f)o.defaultView.scrollBy(g,y);else{let v=u.scrollLeft,w=u.scrollTop;y&&(u.scrollTop+=y),g&&(u.scrollLeft+=g);let E=u.scrollLeft-v,k=u.scrollTop-w;e={left:e.left-E,top:e.top-k,right:e.right-E,bottom:e.bottom-k}}let x=f?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(x))break;l=x=="absolute"?l.offsetParent:ao(l)}}function KI(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let u=t.root.elementFromPoint(o,l);if(!u||u==t.dom||!t.dom.contains(u))continue;let f=u.getBoundingClientRect();if(f.top>=n-20){r=u,i=f.top;break}}return{refDOM:r,refTop:i,stack:oN(t.dom)}}function oN(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=ao(r));return e}function WI({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;lN(n,r==0?0:r-e)}function lN(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Ha=null;function YI(t){if(t.setActive)return t.setActive();if(Ha)return t.focus(Ha);let e=oN(t);t.focus(Ha==null?{get preventScroll(){return Ha={preventScroll:!0},!0}}:void 0),Ha||(Ha=!1,lN(e,0))}function cN(t,e){let n,r=2e8,i,o=0,l=e.top,u=e.top,f,h;for(let g=t.firstChild,y=0;g;g=g.nextSibling,y++){let x;if(g.nodeType==1)x=g.getClientRects();else if(g.nodeType==3)x=$r(g).getClientRects();else continue;for(let v=0;v<x.length;v++){let w=x[v];if(w.top<=l&&w.bottom>=u){l=Math.max(w.bottom,l),u=Math.min(w.top,u);let E=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(E<r){n=g,r=E,i=E&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,g.nodeType==1&&E&&(o=y+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!f&&w.left<=e.left&&w.right>=e.left&&(f=g,h={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(o=y+1)}}return!n&&f&&(n=f,i=h,r=0),n&&n.nodeType==3?JI(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:cN(n,i)}function JI(t,e){let n=t.nodeValue.length,r=document.createRange(),i;for(let o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);let l=Ds(r,1);if(l.top!=l.bottom&&ly(e,l)){i={node:t,offset:o+(e.left>=(l.left+l.right)/2?1:0)};break}}return r.detach(),i||{node:t,offset:0}}function ly(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function XI(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function QI(t,e,n){let{node:r,offset:i}=cN(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();o=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function ZI(t,e,n,r){let i=-1;for(let o=e,l=!1;o!=t.dom;){let u=t.docView.nearestDesc(o,!0),f;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((f=u.dom.getBoundingClientRect()).width||f.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!l&&f.left>r.left||f.top>r.top?i=u.posBefore:(!l&&f.right<r.left||f.bottom<r.top)&&(i=u.posAfter),l=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?u.posBefore:u.posAfter;o=u.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function uN(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let l=t.childNodes[o];if(l.nodeType==1){let u=l.getClientRects();for(let f=0;f<u.length;f++){let h=u[f];if(ly(e,h))return uN(l,e,h)}}if((o=(o+1)%r)==i)break}return t}function e5(t,e){let n=t.dom.ownerDocument,r,i=0,o=$I(n,e.left,e.top);o&&({node:r,offset:i}=o);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),u;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let h=t.dom.getBoundingClientRect();if(!ly(e,h)||(l=uN(t.dom,e,h),!l))return null}if(Wt)for(let h=l;r&&h;h=ao(h))h.draggable&&(r=void 0);if(l=XI(l,e),r){if(qn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let g=r.childNodes[i],y;g.nodeName=="IMG"&&(y=g.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&i++}let h;pc&&i&&r.nodeType==1&&(h=r.childNodes[i-1]).nodeType==1&&h.contentEditable=="false"&&h.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(u=ZI(t,r,i,e))}u==null&&(u=QI(t,l,e));let f=t.docView.nearestDesc(l,!0);return{pos:u,inside:f?f.posAtStart-f.border:-1}}function hS(t){return t.top<t.bottom||t.left<t.right}function Ds(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(hS(r))return r}return Array.prototype.find.call(n,hS)||t.getBoundingClientRect()}const t5=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function dN(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),l=pc||qn;if(r.nodeType==3)if(l&&(t5.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let f=Ds($r(r,i,i),n);if(qn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let h=Ds($r(r,i-1,i-1),-1);if(h.top==f.top){let g=Ds($r(r,i,i+1),-1);if(g.top!=f.top)return gl(g,g.left<h.left)}}return f}else{let f=i,h=i,g=n<0?1:-1;return n<0&&!i?(h++,g=-1):n>=0&&i==r.nodeValue.length?(f--,g=1):n<0?f--:h++,gl(Ds($r(r,f,h),g),g<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==$n(r))){let f=r.childNodes[i-1];if(f.nodeType==1)return ym(f.getBoundingClientRect(),!1)}if(o==null&&i<$n(r)){let f=r.childNodes[i];if(f.nodeType==1)return ym(f.getBoundingClientRect(),!0)}return ym(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==$n(r))){let f=r.childNodes[i-1],h=f.nodeType==3?$r(f,$n(f)-(l?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(h)return gl(Ds(h,1),!1)}if(o==null&&i<$n(r)){let f=r.childNodes[i];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let h=f?f.nodeType==3?$r(f,0,l?0:1):f.nodeType==1?f:null:null;if(h)return gl(Ds(h,-1),!0)}return gl(Ds(r.nodeType==3?$r(r):r,-n),n>=0)}function gl(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function ym(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function fN(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function n5(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return fN(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(o,!0);if(!u)break;if(u.node.isBlock){o=u.contentDOM||u.dom;break}o=u.dom.parentNode}let l=dN(t,i.pos,1);for(let u=o.firstChild;u;u=u.nextSibling){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=$r(u,0,u.nodeValue.length).getClientRects();else continue;for(let h=0;h<f.length;h++){let g=f[h];if(g.bottom>g.top+1&&(n=="up"?l.top-g.top>(g.bottom-l.top)*2:g.bottom-l.bottom>(l.bottom-g.top)*2))return!1}}return!0})}const r5=/[\u0590-\u08ac]/;function s5(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,l=i==r.parent.content.size,u=t.domSelection();return u?!r5.test(r.parent.textContent)||!u.modify?n=="left"||n=="backward"?o:l:fN(t,e,()=>{let{focusNode:f,focusOffset:h,anchorNode:g,anchorOffset:y}=t.domSelectionRange(),x=u.caretBidiLevel;u.modify("move",n,"character");let v=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:w,focusOffset:E}=t.domSelectionRange(),k=w&&!v.contains(w.nodeType==1?w:w.parentNode)||f==w&&h==E;try{u.collapse(g,y),f&&(f!=g||h!=y)&&u.extend&&u.extend(f,h)}catch{}return x!=null&&(u.caretBidiLevel=x),k}):r.pos==r.start()||r.pos==r.end()}let pS=null,mS=null,gS=!1;function i5(t,e,n){return pS==e&&mS==n?gS:(pS=e,mS=n,gS=n=="up"||n=="down"?n5(t,e,n):s5(t,e,n))}const Fn=0,yS=1,Di=2,br=3;class mc{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Fn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,l;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(l)+l.size:this.posAtStart}else{let o,l;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((l=o.pmViewDesc)&&l.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Vt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),l;if(o&&(!n||o.node))if(r&&(l=o.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)for(let l=0;l<i.children.length;l++){let u=i.children[l];if(u.size){i=u;break}}return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let l=this.children[r],u=o+l.size;if(u>e||l instanceof pN){i=e-o;break}o=u}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof hN&&o.side>=0;r--);if(n<=0){let o,l=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,l=!1);return o&&n&&l&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Vt(o.dom)+1:0}}else{let o,l=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,l=!1);return o&&l&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Vt(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let l=r,u=0;;u++){let f=this.children[u],h=l+f.size;if(i==-1&&e<=h){let g=l+f.border;if(e>=g&&n<=h-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,n,g);e=l;for(let y=u;y>0;y--){let x=this.children[y-1];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(1)){i=Vt(x.dom)+1;break}e-=x.size}i==-1&&(i=0)}if(i>-1&&(h>n||u==this.children.length-1)){n=h;for(let g=u+1;g<this.children.length;g++){let y=this.children[g];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){o=Vt(y.dom);break}n+=y.size}o==-1&&(o=this.contentDOM.childNodes.length);break}l=h}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),l=Math.max(e,n);for(let v=0,w=0;v<this.children.length;v++){let E=this.children[v],k=w+E.size;if(o>w&&l<k)return E.setSelection(e-w-E.border,n-w-E.border,r,i);w=k}let u=this.domFromPos(e,e?-1:1),f=n==e?u:this.domFromPos(n,n?-1:1),h=r.root.getSelection(),g=r.domSelectionRange(),y=!1;if((qn||Wt)&&e==n){let{node:v,offset:w}=u;if(v.nodeType==3){if(y=!!(w&&v.nodeValue[w-1]==`
`),y&&w==v.nodeValue.length)for(let E=v,k;E;E=E.parentNode){if(k=E.nextSibling){k.nodeName=="BR"&&(u=f={node:k.parentNode,offset:Vt(k)+1});break}let C=E.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{let E=v.childNodes[w-1];y=E&&(E.nodeName=="BR"||E.contentEditable=="false")}}if(qn&&g.focusNode&&g.focusNode!=f.node&&g.focusNode.nodeType==1){let v=g.focusNode.childNodes[g.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||y&&Wt)&&Wi(u.node,u.offset,g.anchorNode,g.anchorOffset)&&Wi(f.node,f.offset,g.focusNode,g.focusOffset))return;let x=!1;if((h.extend||e==n)&&!(y&&qn)){h.collapse(u.node,u.offset);try{e!=n&&h.extend(f.node,f.offset),x=!0}catch{}}if(!x){if(e>n){let w=u;u=f,f=w}let v=document.createRange();v.setEnd(f.node,f.offset),v.setStart(u.node,u.offset),h.removeAllRanges(),h.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],l=r+o.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let u=r+o.border,f=l-o.border;if(e>=u&&n<=f){this.dirty=e==r||n==l?Di:yS,e==u&&n==f&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=br:o.markDirty(e-u,n-u);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Di:br}r=l}this.dirty=Di}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Di:yS;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class hN extends mc{constructor(e,n,r,i){let o,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(l.nodeType!=1){let u=document.createElement("span");u.appendChild(l),l=u}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Fn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class a5 extends mc{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Yi extends mc{constructor(e,n,r,i,o){super(e,[],r,i),this.mark=n,this.spec=o}static create(e,n,r,i){let o=i.nodeViews[n.type.name],l=o&&o(n,i,r);return(!l||!l.dom)&&(l=Qi.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Yi(e,n,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&br||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=br&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Fn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Fn}}slice(e,n,r){let i=Yi.create(this.parent,this.mark,!0,r),o=this.children,l=this.size;n<l&&(o=dg(o,n,l,r)),e>0&&(o=dg(o,0,e,r));for(let u=0;u<o.length;u++)o[u].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Js extends mc{constructor(e,n,r,i,o,l,u,f,h){super(e,[],o,l),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=u}static create(e,n,r,i,o,l){let u=o.nodeViews[n.type.name],f,h=u&&u(n,o,()=>{if(!f)return l;if(f.parent)return f.parent.posBeforeChild(f)},r,i),g=h&&h.dom,y=h&&h.contentDOM;if(n.isText){if(!g)g=document.createTextNode(n.text);else if(g.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else g||({dom:g,contentDOM:y}=Qi.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!y&&!n.isText&&g.nodeName!="BR"&&(g.hasAttribute("contenteditable")||(g.contentEditable="false"),n.type.spec.draggable&&(g.draggable=!0));let x=g;return g=yN(g,r,n),h?f=new o5(e,n,r,i,g,y||null,x,h,o,l+1):n.isText?new Sf(e,n,r,i,g,x,o):new Js(e,n,r,i,g,y||null,x,o,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ne.empty)}return e}matchesNode(e,n,r){return this.dirty==Fn&&e.eq(this.node)&&Ed(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,l=o&&o.pos>-1?o:null,u=o&&o.pos<0,f=new c5(this,l&&l.node,e);f5(this.node,this.innerDeco,(h,g,y)=>{h.spec.marks?f.syncToMarks(h.spec.marks,r,e):h.type.side>=0&&!y&&f.syncToMarks(g==this.node.childCount?nt.none:this.node.child(g).marks,r,e),f.placeWidget(h,e,i)},(h,g,y,x)=>{f.syncToMarks(h.marks,r,e);let v;f.findNodeMatch(h,g,y,x)||u&&e.state.selection.from>i&&e.state.selection.to<i+h.nodeSize&&(v=f.findIndexWithChild(o.node))>-1&&f.updateNodeAt(h,g,y,v,e)||f.updateNextNode(h,g,y,e,x,i)||f.addNode(h,g,y,e,i),i+=h.nodeSize}),f.syncToMarks([],r,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==Di)&&(l&&this.protectLocalComposition(e,l),mN(this.contentDOM,this.children,e),oo&&h5(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ee)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let l=o.nodeValue,u=p5(this.node.content,l,r-n,i-n);return u<0?null:{node:o,pos:u,text:l}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let l=new a5(this,o,n,i);e.input.compositionNodes.push(l),this.children=dg(this.children,r,r+i.length,e,l)}update(e,n,r,i){return this.dirty==br||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Fn}updateOuterDeco(e){if(Ed(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=gN(this.dom,this.nodeDOM,ug(this.outerDeco,this.node,n),ug(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function bS(t,e,n,r,i){yN(r,e,t);let o=new Js(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Sf extends Js{constructor(e,n,r,i,o,l,u){super(e,n,r,i,o,null,l,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==br||this.dirty!=Fn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Fn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Fn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Sf(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=br)}get domAtom(){return!1}isText(e){return this.node.text==e}}class pN extends mc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Fn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class o5 extends Js{constructor(e,n,r,i,o,l,u,f,h,g){super(e,n,r,i,o,l,u,h,g),this.spec=f}update(e,n,r,i){if(this.dirty==br)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function mN(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let l=e[o],u=l.dom;if(u.parentNode==t){for(;u!=r;)r=xS(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(u,r);if(l instanceof Yi){let f=r?r.previousSibling:t.lastChild;mN(l.contentDOM,l.children,n),r=f?f.nextSibling:t.firstChild}}for(;r;)r=xS(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const _l=function(t){t&&(this.nodeName=t)};_l.prototype=Object.create(null);const Li=[new _l];function ug(t,e,n){if(t.length==0)return Li;let r=n?Li[0]:new _l,i=[r];for(let o=0;o<t.length;o++){let l=t[o].type.attrs;if(l){l.nodeName&&i.push(r=new _l(l.nodeName));for(let u in l){let f=l[u];f!=null&&(n&&i.length==1&&i.push(r=new _l(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+f:u=="style"?r.style=(r.style?r.style+";":"")+f:u!="nodeName"&&(r[u]=f))}}}return i}function gN(t,e,n,r){if(n==Li&&r==Li)return e;let i=e;for(let o=0;o<r.length;o++){let l=r[o],u=n[o];if(o){let f;u&&u.nodeName==l.nodeName&&i!=t&&(f=i.parentNode)&&f.nodeName.toLowerCase()==l.nodeName||(f=document.createElement(l.nodeName),f.pmIsDeco=!0,f.appendChild(i),u=Li[0]),i=f}l5(i,u||Li[0],l)}return i}function l5(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function yN(t,e,n){return gN(t,t,Li,ug(e,n,t.nodeType!=1))}function Ed(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function xS(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class c5{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=u5(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,l=Math.min(o,e.length);for(;i<l&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Fn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let h=this.top.children[f];if(h.matchesMark(e[o])&&!this.isLocked(h.dom)){u=f;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let f=Yi.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))o=this.top.children.indexOf(l,this.index);else for(let u=this.index,f=Math.min(this.top.children.length,u+5);u<f;u++){let h=this.top.children[u];if(h.matchesNode(e,n,r)&&!this.preMatch.matched.has(h)){o=u;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let l=this.top.children[i];return l.dirty==br&&l.dom==l.contentDOM&&(l.dirty=Di),l.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,l){for(let u=this.index;u<this.top.children.length;u++){let f=this.top.children[u];if(f instanceof Js){let h=this.preMatch.matched.get(f);if(h!=null&&h!=o)return!1;let g=f.dom,y,x=this.isLocked(g)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=br&&Ed(n,f.outerDeco));if(!x&&f.update(e,n,r,i))return this.destroyBetween(this.index,u),f.dom!=g&&(this.changed=!0),this.index++,!0;if(!x&&(y=this.recreateWrapper(f,e,n,r,i,l)))return this.destroyBetween(this.index,u),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=Di,y.updateChildren(i,l+1),y.dirty=Fn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Ed(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let u=Js.create(this.top,n,r,i,o,l);if(u.contentDOM){u.children=e.children,e.children=[];for(let f of u.children)f.parent=u}return e.destroy(),u}addNode(e,n,r,i,o){let l=Js.create(this.top,e,n,r,i,o);l.contentDOM&&l.updateChildren(i,o+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new hN(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Yi;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Sf)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Wt||_t)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new pN(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function u5(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,l=[];e:for(;i>0;){let u;for(;;)if(r){let h=n.children[r-1];if(h instanceof Yi)n=h,r=h.children.length;else{u=h,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let f=u.node;if(f){if(f!=t.child(i-1))break;--i,o.set(u,i),l.push(u)}}return{index:i,matched:o,matches:l.reverse()}}function d5(t,e){return t.type.side-e.type.side}function f5(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let h=0;h<t.childCount;h++){let g=t.child(h);r(g,i,e.forChild(o,g),h),o+=g.nodeSize}return}let l=0,u=[],f=null;for(let h=0;;){let g,y;for(;l<i.length&&i[l].to==o;){let k=i[l++];k.widget&&(g?(y||(y=[g])).push(k):g=k)}if(g)if(y){y.sort(d5);for(let k=0;k<y.length;k++)n(y[k],h,!!f)}else n(g,h,!!f);let x,v;if(f)v=-1,x=f,f=null;else if(h<t.childCount)v=h,x=t.child(h++);else break;for(let k=0;k<u.length;k++)u[k].to<=o&&u.splice(k--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)u.push(i[l++]);let w=o+x.nodeSize;if(x.isText){let k=w;l<i.length&&i[l].from<k&&(k=i[l].from);for(let C=0;C<u.length;C++)u[C].to<k&&(k=u[C].to);k<w&&(f=x.cut(k-o),x=x.cut(0,k-o),w=k,v=-1)}else for(;l<i.length&&i[l].to<w;)l++;let E=x.isInline&&!x.isLeaf?u.filter(k=>!k.inline):u.slice();r(x,E,e.forChild(o,x),v),o=w}}function h5(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function p5(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let l=t.child(i++),u=o;if(o+=l.nodeSize,!l.isText)continue;let f=l.text;for(;i<t.childCount;){let h=t.child(i++);if(o+=h.nodeSize,!h.isText)break;f+=h.text}if(o>=n){if(o>=r&&f.slice(r-e.length-u,r-u)==e)return r-e.length;let h=u<r?f.lastIndexOf(e,r-u-1):-1;if(h>=0&&h+e.length+u>=n)return u+h;if(n==r&&f.length>=r+e.length-u&&f.slice(r-u,r-u+e.length)==e)return r}}return-1}function dg(t,e,n,r,i){let o=[];for(let l=0,u=0;l<t.length;l++){let f=t[l],h=u,g=u+=f.size;h>=n||g<=e?o.push(f):(h<e&&o.push(f.slice(0,e-h,r)),i&&(o.push(i),i=void 0),g>n&&o.push(f.slice(n-h,f.size,r)))}return o}function cy(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let u=r.resolve(l),f,h;if(vf(n)){for(f=l;i&&!i.node;)i=i.parent;let y=i.node;if(i&&y.isAtom&&be.isSelectable(y)&&i.parent&&!(y.isInline&&HI(n.focusNode,n.focusOffset,i.dom))){let x=i.posBefore;h=new be(l==x?u:r.resolve(x))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let y=l,x=l;for(let v=0;v<n.rangeCount;v++){let w=n.getRangeAt(v);y=Math.min(y,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),x=Math.max(x,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(y<0)return null;[f,l]=x==t.state.selection.anchor?[x,y]:[y,x],u=r.resolve(l)}else f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(f<0)return null}let g=r.resolve(f);if(!h){let y=e=="pointer"||t.state.selection.head<u.pos&&!o?1:-1;h=uy(t,g,u,y)}return h}function bN(t){return t.editable?t.hasFocus():vN(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Xr(t,e=!1){let n=t.state.selection;if(xN(t,n),!!bN(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&_t){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Wi(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)g5(t);else{let{anchor:r,head:i}=n,o,l;vS&&!(n instanceof Ee)&&(n.$from.parent.inlineContent||(o=SS(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=SS(t,n.to))),t.docView.setSelection(r,i,t,e),vS&&(o&&wS(o),l&&wS(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&m5(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const vS=Wt||_t&&iN<63;function SS(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Wt&&i&&i.contentEditable=="false")return bm(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return bm(i);if(o)return bm(o)}}function bm(t){return t.contentEditable="true",Wt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function wS(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function m5(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!bN(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function g5(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Vt(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&fn&&Ys<=11&&(n.disabled=!0,n.disabled=!1)}function xN(t,e){if(e instanceof be){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(kS(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else kS(t)}function kS(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function uy(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ee.between(e,n,r)}function ES(t){return t.editable&&!t.hasFocus()?!1:vN(t)}function vN(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function y5(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Wi(e.node,e.offset,n.anchorNode,n.anchorOffset)}function fg(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Re.findFrom(o,e)}function Ls(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function NS(t,e,n){let r=t.state.selection;if(r instanceof Ee)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let l=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Ls(t,new Ee(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=fg(t.state,e);return i&&i instanceof be?Ls(t,i):!1}else if(!(Hn&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!o||o.isText)return!1;let u=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(l=t.docView.descAt(u))&&!l.contentDOM?be.isSelectable(o)?Ls(t,new be(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):pc?Ls(t,new Ee(t.state.doc.resolve(e<0?u:u+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof be&&r.node.isInline)return Ls(t,new Ee(e>0?r.$to:r.$from));{let i=fg(t.state,e);return i?Ls(t,i):!1}}}function Nd(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Rl(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Va(t,e){return e<0?b5(t):x5(t)}function b5(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,l=!1;for(qn&&n.nodeType==1&&r<Nd(n)&&Rl(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let u=n.childNodes[r-1];if(Rl(u,-1))i=n,o=--r;else if(u.nodeType==3)n=u,r=n.nodeValue.length;else break}}else{if(SN(n))break;{let u=n.previousSibling;for(;u&&Rl(u,-1);)i=n.parentNode,o=Vt(u),u=u.previousSibling;if(u)n=u,r=Nd(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?hg(t,n,r):i&&hg(t,i,o)}function x5(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Nd(n),o,l;for(;;)if(r<i){if(n.nodeType!=1)break;let u=n.childNodes[r];if(Rl(u,1))o=n,l=++r;else break}else{if(SN(n))break;{let u=n.nextSibling;for(;u&&Rl(u,1);)o=u.parentNode,l=Vt(u)+1,u=u.nextSibling;if(u)n=u,r=0,i=Nd(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&hg(t,o,l)}function SN(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function v5(t,e){for(;t&&e==t.childNodes.length&&!hc(t);)e=Vt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function S5(t,e){for(;t&&!e&&!hc(t);)e=Vt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function hg(t,e,n){if(e.nodeType!=3){let o,l;(l=v5(e,n))?(e=l,n=0):(o=S5(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(vf(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Xr(t)},50)}function CS(t,e){let n=t.state.doc.resolve(e);if(!(_t||aN)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),l=(o.top+o.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function TS(t,e,n){let r=t.state.selection;if(r instanceof Ee&&!r.empty||n.indexOf("s")>-1||Hn&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=fg(t.state,e);if(l&&l instanceof be)return Ls(t,l)}if(!i.parent.inlineContent){let l=e<0?i:o,u=r instanceof Nn?Re.near(l,e):Re.findFrom(l,e);return u?Ls(t,u):!1}return!1}function AS(t,e){if(!(t.state.selection instanceof Ee))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let l=t.state.tr;return e<0?l.delete(n.pos-o.nodeSize,n.pos):l.delete(n.pos,n.pos+o.nodeSize),t.dispatch(l),!0}return!1}function MS(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function w5(t){if(!Wt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;MS(t,r,"true"),setTimeout(()=>MS(t,r,"false"),20)}return!1}function k5(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function E5(t,e){let n=e.keyCode,r=k5(e);if(n==8||Hn&&n==72&&r=="c")return AS(t,-1)||Va(t,-1);if(n==46&&!e.shiftKey||Hn&&n==68&&r=="c")return AS(t,1)||Va(t,1);if(n==13||n==27)return!0;if(n==37||Hn&&n==66&&r=="c"){let i=n==37?CS(t,t.state.selection.from)=="ltr"?-1:1:-1;return NS(t,i,r)||Va(t,i)}else if(n==39||Hn&&n==70&&r=="c"){let i=n==39?CS(t,t.state.selection.from)=="ltr"?1:-1:1;return NS(t,i,r)||Va(t,i)}else{if(n==38||Hn&&n==80&&r=="c")return TS(t,-1,r)||Va(t,-1);if(n==40||Hn&&n==78&&r=="c")return w5(t)||TS(t,1,r)||Va(t,1);if(r==(Hn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function dy(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let l=t.someProp("clipboardSerializer")||Qi.fromSchema(t.state.schema),u=TN(),f=u.createElement("div");f.appendChild(l.serializeFragment(r,{document:u}));let h=f.firstChild,g,y=0;for(;h&&h.nodeType==1&&(g=CN[h.nodeName.toLowerCase()]);){for(let v=g.length-1;v>=0;v--){let w=u.createElement(g[v]);for(;f.firstChild;)w.appendChild(f.firstChild);f.appendChild(w),y++}h=f.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${i} ${o}${y?` -${y}`:""} ${JSON.stringify(n)}`);let x=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:x,slice:e}}function wN(t,e,n,r,i){let o=i.parent.type.spec.code,l,u;if(!n&&!e)return null;let f=!!e&&(r||o||!n);if(f){if(t.someProp("transformPastedText",x=>{e=x(e,o||r,t)}),o)return u=new oe(ne.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",x=>{u=x(u,t,!0)}),u;let y=t.someProp("clipboardTextParser",x=>x(e,i,r,t));if(y)u=y;else{let x=i.marks(),{schema:v}=t.state,w=Qi.fromSchema(v);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(E=>{let k=l.appendChild(document.createElement("p"));E&&k.appendChild(w.serializeNode(v.text(E,x)))})}}else t.someProp("transformPastedHTML",y=>{n=y(n,t)}),l=A5(n),pc&&M5(l);let h=l&&l.querySelector("[data-pm-slice]"),g=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(g&&g[3])for(let y=+g[3];y>0;y--){let x=l.firstChild;for(;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;l=x}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||Ws.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(f||g),context:i,ruleFromNode(x){return x.nodeName=="BR"&&!x.nextSibling&&x.parentNode&&!N5.test(x.parentNode.nodeName)?{ignore:!0}:null}})),g)u=O5(OS(u,+g[1],+g[2]),g[4]);else if(u=oe.maxOpen(C5(u.content,i),!0),u.openStart||u.openEnd){let y=0,x=0;for(let v=u.content.firstChild;y<u.openStart&&!v.type.spec.isolating;y++,v=v.firstChild);for(let v=u.content.lastChild;x<u.openEnd&&!v.type.spec.isolating;x++,v=v.lastChild);u=OS(u,y,x)}return t.someProp("transformPasted",y=>{u=y(u,t,f)}),u}const N5=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function C5(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,l=[];if(t.forEach(u=>{if(!l)return;let f=i.findWrapping(u.type),h;if(!f)return l=null;if(h=l.length&&o.length&&EN(f,o,u,l[l.length-1],0))l[l.length-1]=h;else{l.length&&(l[l.length-1]=NN(l[l.length-1],o.length));let g=kN(u,f);l.push(g),i=i.matchType(g.type),o=f}}),l)return ne.from(l)}return t}function kN(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,ne.from(t));return t}function EN(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=EN(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(ne.from(kN(n,t,i+1))))}}function NN(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,NN(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(ne.empty,!0);return t.copy(n.append(r))}function pg(t,e,n,r,i,o){let l=e<0?t.firstChild:t.lastChild,u=l.content;return t.childCount>1&&(o=0),i<r-1&&(u=pg(u,e,n,r,i+1,o)),i>=n&&(u=e<0?l.contentMatchAt(0).fillBefore(u,o<=i).append(u):u.append(l.contentMatchAt(l.childCount).fillBefore(ne.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(u))}function OS(t,e,n){return e<t.openStart&&(t=new oe(pg(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new oe(pg(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const CN={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _S=null;function TN(){return _S||(_S=document.implementation.createHTMLDocument("title"))}let xm=null;function T5(t){let e=window.trustedTypes;return e?(xm||(xm=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),xm.createHTML(t)):t}function A5(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=TN().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&CN[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=T5(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function M5(t){let e=t.querySelectorAll(_t?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function O5(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:l}=t;for(let u=r.length-2;u>=0;u-=2){let f=n.nodes[r[u]];if(!f||f.hasRequiredAttrs())break;i=ne.from(f.create(r[u+1],i)),o++,l++}return new oe(i,o,l)}const en={},tn={},_5={touchstart:!0,touchmove:!0};class R5{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function j5(t){for(let e in en){let n=en[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{L5(t,r)&&!fy(t,r)&&(t.editable||!(r.type in tn))&&n(t,r)},_5[e]?{passive:!0}:void 0)}Wt&&t.dom.addEventListener("input",()=>null),mg(t)}function Fs(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function D5(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function mg(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>fy(t,r))})}function fy(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function L5(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function I5(t,e){!fy(t,e)&&en[e.type]&&(t.editable||!(e.type in tn))&&en[e.type](t,e)}tn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!MN(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Kr&&_t&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),oo&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Ri(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||E5(t,n)?n.preventDefault():Fs(t,"key")};tn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};tn.keypress=(t,e)=>{let n=e;if(MN(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Hn&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ee)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",l=>l(t,r.$from.pos,r.$to.pos,i,o))&&t.dispatch(o()),n.preventDefault()}};function wf(t){return{left:t.clientX,top:t.clientY}}function z5(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function hy(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let l=o.depth+1;l>0;l--)if(t.someProp(e,u=>l>o.depth?u(t,n,o.nodeAfter,o.before(l),i,!0):u(t,n,o.node(l),o.before(l),i,!1)))return!0;return!1}function eo(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function P5(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&be.isSelectable(r)?(eo(t,new be(n)),!0):!1}function B5(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof be&&(r=n.node);let o=t.state.doc.resolve(e);for(let l=o.depth+1;l>0;l--){let u=l>o.depth?o.nodeAfter:o.node(l);if(be.isSelectable(u)){r&&n.$from.depth>0&&l>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(l);break}}return i!=null?(eo(t,be.create(t.state.doc,i)),!0):!1}function U5(t,e,n,r,i){return hy(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?B5(t,n):P5(t,n))}function H5(t,e,n,r){return hy(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function V5(t,e,n,r){return hy(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||$5(t,n,r)}function $5(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(eo(t,Ee.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o),u=i.before(o);if(l.inlineContent)eo(t,Ee.create(r,u+1,u+1+l.content.size));else if(be.isSelectable(l))eo(t,be.create(r,u));else continue;return!0}}function py(t){return Cd(t)}const AN=Hn?"metaKey":"ctrlKey";en.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=py(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&z5(n,t.input.lastClick)&&!n[AN]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let l=t.posAtCoords(wf(n));l&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new q5(t,l,n,!!r)):(o=="doubleClick"?H5:V5)(t,l.pos,l.inside,n)?n.preventDefault():Fs(t,"pointer"))};class q5{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[AN],this.allowDefault=r.shiftKey;let o,l;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),l=n.inside;else{let g=e.state.doc.resolve(n.pos);o=g.parent,l=g.depth?g.before():0}const u=i?null:r.target,f=u?e.docView.nearestDesc(u,!0):null;this.target=f&&f.nodeDOM.nodeType==1?f.nodeDOM:null;let{selection:h}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||h instanceof be&&h.from<=l&&h.to>l)&&(this.mightDrag={node:o,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&qn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Fs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Xr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(wf(e))),this.updateAllowDefault(e),this.allowDefault||!n?Fs(this.view,"pointer"):U5(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Wt&&this.mightDrag&&!this.mightDrag.node.isAtom||_t&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(eo(this.view,Re.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Fs(this.view,"pointer")}move(e){this.updateAllowDefault(e),Fs(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}en.touchstart=t=>{t.input.lastTouch=Date.now(),py(t),Fs(t,"pointer")};en.touchmove=t=>{t.input.lastTouch=Date.now(),Fs(t,"pointer")};en.contextmenu=t=>py(t);function MN(t,e){return t.composing?!0:Wt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const F5=Kr?5e3:-1;tn.compositionstart=tn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof Ee&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||_t&&aN&&G5(t)))t.markCursor=t.state.storedMarks||n.marks(),Cd(t,!0),t.markCursor=null;else if(Cd(t,!e.selection.empty),qn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let l=o<0?i.lastChild:i.childNodes[o-1];if(!l)break;if(l.nodeType==3){let u=t.domSelection();u&&u.collapse(l,l.nodeValue.length);break}else i=l,o=-1}}t.input.composing=!0}ON(t,F5)};function G5(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}tn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,ON(t,20))};function ON(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Cd(t),e))}function _N(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=W5());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function K5(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=BI(e.focusNode,e.focusOffset),r=UI(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let l=n.pmViewDesc;if(!(!l||!l.isText(n.nodeValue)))return r}}return n||r}function W5(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Cd(t,e=!1){if(!(Kr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),_N(t),e||t.docView&&t.docView.dirty){let n=cy(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Y5(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Yl=fn&&Ys<15||oo&&qI<604;en.copy=tn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Yl?null:n.clipboardData,l=r.content(),{dom:u,text:f}=dy(t,l);o?(n.preventDefault(),o.clearData(),o.setData("text/html",u.innerHTML),o.setData("text/plain",f)):Y5(t,u),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function J5(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function X5(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Jl(t,r.value,null,i,e):Jl(t,r.textContent,r.innerHTML,i,e)},50)}function Jl(t,e,n,r,i){let o=wN(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",f=>f(t,i,o||oe.empty)))return!0;if(!o)return!1;let l=J5(o),u=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(o);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function RN(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}tn.paste=(t,e)=>{let n=e;if(t.composing&&!Kr)return;let r=Yl?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Jl(t,RN(r),r.getData("text/html"),i,n)?n.preventDefault():X5(t,n)};class jN{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const Q5=Hn?"altKey":"ctrlKey";function DN(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[Q5]}en.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(wf(n)),l;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof be?i.to-1:i.to))){if(r&&r.mightDrag)l=be.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let y=t.docView.nearestDesc(n.target,!0);y&&y.node.type.spec.draggable&&y!=t.docView&&(l=be.create(t.state.doc,y.posBefore))}}let u=(l||t.state.selection).content(),{dom:f,text:h,slice:g}=dy(t,u);(!n.dataTransfer.files.length||!_t||iN>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Yl?"Text":"text/html",f.innerHTML),n.dataTransfer.effectAllowed="copyMove",Yl||n.dataTransfer.setData("text/plain",h),t.dragging=new jN(g,DN(t,n),l)};en.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};tn.dragover=tn.dragenter=(t,e)=>e.preventDefault();tn.drop=(t,e)=>{try{Z5(t,e,t.dragging)}finally{t.dragging=null}};function Z5(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(wf(e));if(!r)return;let i=t.state.doc.resolve(r.pos),o=n&&n.slice;o?t.someProp("transformPasted",v=>{o=v(o,t,!1)}):o=wN(t,RN(e.dataTransfer),Yl?null:e.dataTransfer.getData("text/html"),!1,i);let l=!!(n&&DN(t,e));if(t.someProp("handleDrop",v=>v(t,e,o||oe.empty,l))){e.preventDefault();return}if(!o)return;e.preventDefault();let u=o?PE(t.state.doc,i.pos,o):i.pos;u==null&&(u=i.pos);let f=t.state.tr;if(l){let{node:v}=n;v?v.replace(f):f.deleteSelection()}let h=f.mapping.map(u),g=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,y=f.doc;if(g?f.replaceRangeWith(h,h,o.content.firstChild):f.replaceRange(h,h,o),f.doc.eq(y))return;let x=f.doc.resolve(h);if(g&&be.isSelectable(o.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(o.content.firstChild))f.setSelection(new be(x));else{let v=f.mapping.map(u);f.mapping.maps[f.mapping.maps.length-1].forEach((w,E,k,C)=>v=C),f.setSelection(uy(t,x,f.doc.resolve(v)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))}en.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Xr(t)},20))};en.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};en.beforeinput=(t,e)=>{if(_t&&Kr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Ri(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in tn)en[t]=tn[t];function Xl(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Td{constructor(e,n){this.toDOM=e,this.spec=n||Ui,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:l}=e.mapResult(n.from+i,this.side<0?-1:1);return l?null:new Qt(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Td&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Xl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Xs{constructor(e,n){this.attrs=e,this.spec=n||Ui}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=l?null:new Qt(o,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Xs&&Xl(this.attrs,e.attrs)&&Xl(this.spec,e.spec)}static is(e){return e.type instanceof Xs}destroy(){}}class my{constructor(e,n){this.attrs=e,this.spec=n||Ui}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let l=e.mapResult(n.to+i,-1);return l.deleted||l.pos<=o.pos?null:new Qt(o.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof my&&Xl(this.attrs,e.attrs)&&Xl(this.spec,e.spec)}destroy(){}}class Qt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Qt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Qt(e,e,new Td(n,r))}static inline(e,n,r,i){return new Qt(e,n,new Xs(r,i))}static node(e,n,r,i){return new Qt(e,n,new my(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Xs}get widget(){return this.type instanceof Td}}const qa=[],Ui={};class ut{constructor(e,n){this.local=e.length?e:qa,this.children=n.length?n:qa}static create(e,n){return n.length?Ad(n,e,0,Ui):Gt}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let l=0;l<this.local.length;l++){let u=this.local[l];u.from<=n&&u.to>=e&&(!o||o(u.spec))&&r.push(u.copy(u.from+i,u.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let u=this.children[l]+1;this.children[l+2].findInner(e-u,n-u,r,i+u,o)}}map(e,n,r){return this==Gt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Ui)}mapInner(e,n,r,i,o){let l;for(let u=0;u<this.local.length;u++){let f=this.local[u].map(e,r,i);f&&f.type.valid(n,f)?(l||(l=[])).push(f):o.onRemove&&o.onRemove(this.local[u].spec)}return this.children.length?ez(this.children,l||[],e,n,r,i,o):l?new ut(l.sort(Hi),qa):Gt}add(e,n){return n.length?this==Gt?ut.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((u,f)=>{let h=f+r,g;if(g=IN(n,u,h)){for(i||(i=this.children.slice());o<i.length&&i[o]<f;)o+=3;i[o]==f?i[o+2]=i[o+2].addInner(u,g,h+1):i.splice(o,0,f,f+u.nodeSize,Ad(g,u,h+1,Ui)),o+=3}});let l=LN(o?zN(n):n,-r);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||l.splice(u--,1);return new ut(l.length?this.local.concat(l).sort(Hi):this.local,i||this.children)}remove(e){return e.length==0||this==Gt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let l,u=r[o]+n,f=r[o+1]+n;for(let g=0,y;g<e.length;g++)(y=e[g])&&y.from>u&&y.to<f&&(e[g]=null,(l||(l=[])).push(y));if(!l)continue;r==this.children&&(r=this.children.slice());let h=r[o+2].removeInner(l,u+1);h!=Gt?r[o+2]=h:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,l;o<e.length;o++)if(l=e[o])for(let u=0;u<i.length;u++)i[u].eq(l,n)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new ut(i,r):Gt}forChild(e,n){if(this==Gt)return this;if(n.isLeaf)return ut.empty;let r,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let o=e+1,l=o+n.content.size;for(let u=0;u<this.local.length;u++){let f=this.local[u];if(f.from<l&&f.to>o&&f.type instanceof Xs){let h=Math.max(o,f.from)-o,g=Math.min(l,f.to)-o;h<g&&(i||(i=[])).push(f.copy(h,g))}}if(i){let u=new ut(i.sort(Hi),qa);return r?new Hs([u,r]):u}return r||Gt}eq(e){if(this==e)return!0;if(!(e instanceof ut)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return gy(this.localsInner(e))}localsInner(e){if(this==Gt)return qa;if(e.inlineContent||!this.local.some(Xs.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Xs||n.push(this.local[r]);return n}forEachSet(e){e(this)}}ut.empty=new ut([],[]);ut.removeOverlap=gy;const Gt=ut.empty;class Hs{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Ui));return Hs.from(r)}forChild(e,n){if(n.isLeaf)return ut.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=Gt&&(o instanceof Hs?r=r.concat(o.members):r.push(o))}return Hs.from(r)}eq(e){if(!(e instanceof Hs)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let l=0;l<o.length;l++)n.push(o[l])}}return n?gy(r?n:n.sort(Hi)):qa}static from(e){switch(e.length){case 0:return Gt;case 1:return e[0];default:return new Hs(e.every(n=>n instanceof ut)?e:e.reduce((n,r)=>n.concat(r instanceof ut?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function ez(t,e,n,r,i,o,l){let u=t.slice();for(let h=0,g=o;h<n.maps.length;h++){let y=0;n.maps[h].forEach((x,v,w,E)=>{let k=E-w-(v-x);for(let C=0;C<u.length;C+=3){let R=u[C+1];if(R<0||x>R+g-y)continue;let D=u[C]+g-y;v>=D?u[C+1]=x<=D?-2:-1:x>=g&&k&&(u[C]+=k,u[C+1]+=k)}y+=k}),g=n.maps[h].map(g,-1)}let f=!1;for(let h=0;h<u.length;h+=3)if(u[h+1]<0){if(u[h+1]==-2){f=!0,u[h+1]=-1;continue}let g=n.map(t[h]+o),y=g-i;if(y<0||y>=r.content.size){f=!0;continue}let x=n.map(t[h+1]+o,-1),v=x-i,{index:w,offset:E}=r.content.findIndex(y),k=r.maybeChild(w);if(k&&E==y&&E+k.nodeSize==v){let C=u[h+2].mapInner(n,k,g+1,t[h]+o+1,l);C!=Gt?(u[h]=y,u[h+1]=v,u[h+2]=C):(u[h+1]=-2,f=!0)}else f=!0}if(f){let h=tz(u,t,e,n,i,o,l),g=Ad(h,r,0,l);e=g.local;for(let y=0;y<u.length;y+=3)u[y+1]<0&&(u.splice(y,3),y-=3);for(let y=0,x=0;y<g.children.length;y+=3){let v=g.children[y];for(;x<u.length&&u[x]<v;)x+=3;u.splice(x,0,g.children[y],g.children[y+1],g.children[y+2])}}return new ut(e.sort(Hi),u)}function LN(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Qt(i.from+e,i.to+e,i.type))}return n}function tz(t,e,n,r,i,o,l){function u(f,h){for(let g=0;g<f.local.length;g++){let y=f.local[g].map(r,i,h);y?n.push(y):l.onRemove&&l.onRemove(f.local[g].spec)}for(let g=0;g<f.children.length;g+=3)u(f.children[g+2],f.children[g]+h+1)}for(let f=0;f<t.length;f+=3)t[f+1]==-1&&u(t[f+2],e[f]+o+1);return n}function IN(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,l;o<t.length;o++)(l=t[o])&&l.from>n&&l.to<r&&((i||(i=[])).push(l),t[o]=null);return i}function zN(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Ad(t,e,n,r){let i=[],o=!1;e.forEach((u,f)=>{let h=IN(t,u,f+n);if(h){o=!0;let g=Ad(h,u,n+f+1,r);g!=Gt&&i.push(f,f+u.nodeSize,g)}});let l=LN(o?zN(t):t,-n).sort(Hi);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||(r.onRemove&&r.onRemove(l[u].spec),l.splice(u--,1));return l.length||i.length?new ut(l,i):Gt}function Hi(t,e){return t.from-e.from||t.to-e.to}function gy(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),RS(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),RS(e,i,r.copy(o.from,r.to)));break}}}return e}function RS(t,e,n){for(;e<t.length&&Hi(n,t[e])>0;)e++;t.splice(e,0,n)}function vm(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Gt&&e.push(r)}),t.cursorWrapper&&e.push(ut.create(t.state.doc,[t.cursorWrapper.deco])),Hs.from(e)}const nz={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},rz=fn&&Ys<=11;class sz{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class iz{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new sz,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);fn&&Ys<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),rz&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,nz)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ES(this.view)){if(this.suppressingSelectionUpdates)return Xr(this.view);if(fn&&Ys<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Wi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=ao(o))n.add(o);for(let o=e.anchorNode;o;o=ao(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&ES(e)&&!this.ignoreSelectionChange(r),o=-1,l=-1,u=!1,f=[];if(e.editable)for(let g=0;g<n.length;g++){let y=this.registerMutation(n[g],f);y&&(o=o<0?y.from:Math.min(y.from,o),l=l<0?y.to:Math.max(y.to,l),y.typeOver&&(u=!0))}if(qn&&f.length){let g=f.filter(y=>y.nodeName=="BR");if(g.length==2){let[y,x]=g;y.parentNode&&y.parentNode.parentNode==x.parentNode?x.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let x of g){let v=x.parentNode;v&&v.nodeName=="LI"&&(!y||lz(e,y)!=v)&&x.remove()}}}else if((_t||Wt)&&f.some(g=>g.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let g of f)if(g.nodeName=="BR"&&g.parentNode){let y=g.nextSibling;y&&y.nodeType==1&&y.contentEditable=="false"&&g.parentNode.removeChild(g)}}let h=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&vf(r)&&(h=cy(e))&&h.eq(Re.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Xr(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,l),az(e)),this.handleDOMChange(o,l,u,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Xr(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let g=0;g<e.addedNodes.length;g++){let y=e.addedNodes[g];n.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(fn&&Ys<=11&&e.addedNodes.length)for(let g=0;g<e.addedNodes.length;g++){let{previousSibling:y,nextSibling:x}=e.addedNodes[g];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(i=y),(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(o=x)}let l=i&&i.parentNode==e.target?Vt(i)+1:0,u=r.localPosFromDOM(e.target,l,-1),f=o&&o.parentNode==e.target?Vt(o):e.target.childNodes.length,h=r.localPosFromDOM(e.target,f,1);return{from:u,to:h}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let jS=new WeakMap,DS=!1;function az(t){if(!jS.has(t)&&(jS.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=qn,DS)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),DS=!0}}function LS(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return Wi(l.node,l.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function oz(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return LS(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?LS(t,n):null}function lz(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function cz(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:l,to:u}=t.docView.parseRange(e,n),f=t.domSelectionRange(),h,g=f.anchorNode;if(g&&t.dom.contains(g.nodeType==1?g:g.parentNode)&&(h=[{node:g,offset:f.anchorOffset}],vf(f)||h.push({node:f.focusNode,offset:f.focusOffset})),_t&&t.input.lastKeyCode===8)for(let k=o;k>i;k--){let C=r.childNodes[k-1],R=C.pmViewDesc;if(C.nodeName=="BR"&&!R){o=k;break}if(!R||R.size)break}let y=t.state.doc,x=t.someProp("domParser")||Ws.fromSchema(t.state.schema),v=y.resolve(l),w=null,E=x.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:i,to:o,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:h,ruleFromNode:uz,context:v});if(h&&h[0].pos!=null){let k=h[0].pos,C=h[1]&&h[1].pos;C==null&&(C=k),w={anchor:k+l,head:C+l}}return{doc:E,sel:w,from:l,to:u}}function uz(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Wt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Wt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const dz=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function fz(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let q=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,B=cy(t,q);if(B&&!t.state.selection.eq(B)){if(_t&&Kr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ce=>ce(t,Ri(13,"Enter"))))return;let re=t.state.tr.setSelection(B);q=="pointer"?re.setMeta("pointer",!0):q=="key"&&re.scrollIntoView(),o&&re.setMeta("composition",o),t.dispatch(re)}return}let l=t.state.doc.resolve(e),u=l.sharedDepth(n);e=l.before(u+1),n=t.state.doc.resolve(n).after(u+1);let f=t.state.selection,h=cz(t,e,n),g=t.state.doc,y=g.slice(h.from,h.to),x,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(x=t.state.selection.to,v="end"):(x=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let w=mz(y.content,h.doc.content,h.from,x,v);if(w&&t.input.domChangeCount++,(oo&&t.input.lastIOSEnter>Date.now()-225||Kr)&&i.some(q=>q.nodeType==1&&!dz.test(q.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",q=>q(t,Ri(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(r&&f instanceof Ee&&!f.empty&&f.$head.sameParent(f.$anchor)&&!t.composing&&!(h.sel&&h.sel.anchor!=h.sel.head))w={start:f.from,endA:f.to,endB:f.to};else{if(h.sel){let q=IS(t,t.state.doc,h.sel);if(q&&!q.eq(t.state.selection)){let B=t.state.tr.setSelection(q);o&&B.setMeta("composition",o),t.dispatch(B)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof Ee&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),fn&&Ys<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>h.from&&h.doc.textBetween(w.start-h.from-1,w.start-h.from+1)==" "&&(w.start--,w.endA--,w.endB--);let E=h.doc.resolveNoCache(w.start-h.from),k=h.doc.resolveNoCache(w.endB-h.from),C=g.resolve(w.start),R=E.sameParent(k)&&E.parent.inlineContent&&C.end()>=w.endA;if((oo&&t.input.lastIOSEnter>Date.now()-225&&(!R||i.some(q=>q.nodeName=="DIV"||q.nodeName=="P"))||!R&&E.pos<h.doc.content.size&&(!E.sameParent(k)||!E.parent.inlineContent)&&E.pos<k.pos&&!/\S/.test(h.doc.textBetween(E.pos,k.pos,"","")))&&t.someProp("handleKeyDown",q=>q(t,Ri(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&pz(g,w.start,w.endA,E,k)&&t.someProp("handleKeyDown",q=>q(t,Ri(8,"Backspace")))){Kr&&_t&&t.domObserver.suppressSelectionUpdates();return}_t&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),Kr&&!R&&E.start()!=k.start()&&k.parentOffset==0&&E.depth==k.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==w.endA&&(w.endB-=2,k=h.doc.resolveNoCache(w.endB-h.from),setTimeout(()=>{t.someProp("handleKeyDown",function(q){return q(t,Ri(13,"Enter"))})},20));let D=w.start,$=w.endA,U=q=>{let B=q||t.state.tr.replace(D,$,h.doc.slice(w.start-h.from,w.endB-h.from));if(h.sel){let re=IS(t,B.doc,h.sel);re&&!(_t&&t.composing&&re.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(re.head==D||re.head==B.mapping.map($)-1)||fn&&re.empty&&re.head==D)&&B.setSelection(re)}return o&&B.setMeta("composition",o),B.scrollIntoView()},Z;if(R)if(E.pos==k.pos){fn&&Ys<=11&&E.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Xr(t),20));let q=U(t.state.tr.delete(D,$)),B=g.resolve(w.start).marksAcross(g.resolve(w.endA));B&&q.ensureMarks(B),t.dispatch(q)}else if(w.endA==w.endB&&(Z=hz(E.parent.content.cut(E.parentOffset,k.parentOffset),C.parent.content.cut(C.parentOffset,w.endA-C.start())))){let q=U(t.state.tr);Z.type=="add"?q.addMark(D,$,Z.mark):q.removeMark(D,$,Z.mark),t.dispatch(q)}else if(E.parent.child(E.index()).isText&&E.index()==k.index()-(k.textOffset?0:1)){let q=E.parent.textBetween(E.parentOffset,k.parentOffset),B=()=>U(t.state.tr.insertText(q,D,$));t.someProp("handleTextInput",re=>re(t,D,$,q,B))||t.dispatch(B())}else t.dispatch(U());else t.dispatch(U())}function IS(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:uy(t,e.resolve(n.anchor),e.resolve(n.head))}function hz(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,l,u,f;for(let g=0;g<r.length;g++)i=r[g].removeFromSet(i);for(let g=0;g<n.length;g++)o=n[g].removeFromSet(o);if(i.length==1&&o.length==0)u=i[0],l="add",f=g=>g.mark(u.addToSet(g.marks));else if(i.length==0&&o.length==1)u=o[0],l="remove",f=g=>g.mark(u.removeFromSet(g.marks));else return null;let h=[];for(let g=0;g<e.childCount;g++)h.push(f(e.child(g)));if(ne.from(h).eq(t))return{mark:u,type:l}}function pz(t,e,n,r,i){if(n-e<=i.pos-r.pos||Sm(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let u=o.nodeAfter;return u!=null&&n==e+u.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let l=t.resolve(Sm(o,!0,!0));return!l.parent.isTextblock||l.pos>n||Sm(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function Sm(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function mz(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:l,b:u}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let f=Math.max(0,o-Math.min(l,u));r-=l+f-o}if(l<o&&t.size<e.size){let f=r<=o&&r>=l?o-r:0;o-=f,o&&o<e.size&&zS(e.textBetween(o-1,o+1))&&(o+=f?1:-1),u=o+(u-l),l=o}else if(u<o){let f=r<=o&&r>=u?o-r:0;o-=f,o&&o<t.size&&zS(t.textBetween(o-1,o+1))&&(o+=f?1:-1),l=o+(l-u),u=o}return{start:o,endA:l,endB:u}}function zS(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class PN{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new R5,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(VS),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=US(this),BS(this),this.nodeViews=HS(this),this.docView=bS(this.state.doc,PS(this),vm(this),this.dom,this),this.domObserver=new iz(this,(r,i,o,l)=>fz(this,r,i,o,l)),this.domObserver.start(),j5(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&mg(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(VS),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,l=!1;e.storedMarks&&this.composing&&(_N(this),l=!0),this.state=e;let u=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=HS(this);yz(v,this.nodeViews)&&(this.nodeViews=v,o=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&mg(this),this.editable=US(this),BS(this);let f=vm(this),h=PS(this),g=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",y=o||!this.docView.matchesNode(e.doc,h,f);(y||!e.selection.eq(i.selection))&&(l=!0);let x=g=="preserve"&&l&&this.dom.style.overflowAnchor==null&&KI(this);if(l){this.domObserver.stop();let v=y&&(fn||_t)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&gz(i.selection,e.selection);if(y){let w=_t?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=K5(this)),(o||!this.docView.update(e.doc,h,f,this))&&(this.docView.updateOuterDeco(h),this.docView.destroy(),this.docView=bS(e.doc,h,f,this.dom,this)),w&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&y5(this))?Xr(this,v):(xN(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),g=="reset"?this.dom.scrollTop=0:g=="to selection"?this.scrollToSelection():x&&WI(x)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof be){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&fS(this,n.getBoundingClientRect(),e)}else fS(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new jN(e.slice,e.move,i<0?void 0:be.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let u=this.directPlugins[l].props[e];if(u!=null&&(i=n?n(u):u))return i}let o=this.state.plugins;if(o)for(let l=0;l<o.length;l++){let u=o[l].props[e];if(u!=null&&(i=n?n(u):u))return i}}hasFocus(){if(fn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&YI(this.dom),Xr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return e5(this,e)}coordsAtPos(e,n=1){return dN(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return i5(this,n||this.state,e)}pasteHTML(e,n){return Jl(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Jl(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return dy(this,e)}destroy(){this.docView&&(D5(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],vm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,zI())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return I5(this,e)}domSelectionRange(){let e=this.domSelection();return e?Wt&&this.root.nodeType===11&&VI(this.dom.ownerDocument)==this.dom&&oz(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}PN.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function PS(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Qt.node(0,t.state.doc.content.size,e)]}function BS(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Qt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function US(t){return!t.someProp("editable",e=>e(t.state)===!1)}function gz(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function HS(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function yz(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function VS(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Qs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Md={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},bz=typeof navigator<"u"&&/Mac/.test(navigator.platform),xz=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var $t=0;$t<10;$t++)Qs[48+$t]=Qs[96+$t]=String($t);for(var $t=1;$t<=24;$t++)Qs[$t+111]="F"+$t;for(var $t=65;$t<=90;$t++)Qs[$t]=String.fromCharCode($t+32),Md[$t]=String.fromCharCode($t);for(var wm in Qs)Md.hasOwnProperty(wm)||(Md[wm]=Qs[wm]);function vz(t){var e=bz&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||xz&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Md:Qs)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Sz=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),wz=typeof navigator<"u"&&/Win/.test(navigator.platform);function kz(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,l;for(let u=0;u<e.length-1;u++){let f=e[u];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))Sz?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),l&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function Ez(t){let e=Object.create(null);for(let n in t)e[kz(n)]=t[n];return e}function km(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Nz(t){return new ft({props:{handleKeyDown:BN(t)}})}function BN(t){let e=Ez(t);return function(n,r){let i=vz(r),o,l=e[km(i,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let u=e[km(i,r,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(wz&&r.ctrlKey&&r.altKey)&&(o=Qs[r.keyCode])&&o!=i){let u=e[km(o,r)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}var Cz=Object.defineProperty,yy=(t,e)=>{for(var n in e)Cz(t,n,{get:e[n],enumerable:!0})};function kf(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}var Ef=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([l,u])=>[l,(...h)=>{const g=u(...h)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),g}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,l=[],u=!!t,f=t||i.tr,h=()=>(!u&&e&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(f),l.every(y=>y===!0)),g={...Object.fromEntries(Object.entries(n).map(([y,x])=>[y,(...w)=>{const E=this.buildProps(f,e),k=x(...w)(E);return l.push(k),g}])),run:h};return g}createCan(t){const{rawCommands:e,state:n}=this,r=!1,i=t||n.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([u,f])=>[u,(...h)=>f(...h)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,l={tr:t,editor:r,view:o,state:kf({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([u,f])=>[u,(...h)=>f(...h)(l)]))}};return l}},UN={};yy(UN,{blur:()=>Tz,clearContent:()=>Az,clearNodes:()=>Mz,command:()=>Oz,createParagraphNear:()=>_z,cut:()=>Rz,deleteCurrentNode:()=>jz,deleteNode:()=>Dz,deleteRange:()=>Lz,deleteSelection:()=>Iz,enter:()=>zz,exitCode:()=>Pz,extendMarkRange:()=>Bz,first:()=>Uz,focus:()=>Vz,forEach:()=>$z,insertContent:()=>qz,insertContentAt:()=>Kz,joinBackward:()=>Jz,joinDown:()=>Yz,joinForward:()=>Xz,joinItemBackward:()=>Qz,joinItemForward:()=>Zz,joinTextblockBackward:()=>e6,joinTextblockForward:()=>t6,joinUp:()=>Wz,keyboardShortcut:()=>r6,lift:()=>s6,liftEmptyBlock:()=>i6,liftListItem:()=>a6,newlineInCode:()=>o6,resetAttributes:()=>l6,scrollIntoView:()=>c6,selectAll:()=>u6,selectNodeBackward:()=>d6,selectNodeForward:()=>f6,selectParentNode:()=>h6,selectTextblockEnd:()=>p6,selectTextblockStart:()=>m6,setContent:()=>g6,setMark:()=>I6,setMeta:()=>z6,setNode:()=>P6,setNodeSelection:()=>B6,setTextDirection:()=>U6,setTextSelection:()=>H6,sinkListItem:()=>V6,splitBlock:()=>$6,splitListItem:()=>q6,toggleList:()=>F6,toggleMark:()=>G6,toggleNode:()=>K6,toggleWrap:()=>W6,undoInputRule:()=>Y6,unsetAllMarks:()=>J6,unsetMark:()=>X6,unsetTextDirection:()=>Q6,updateAttributes:()=>Z6,wrapIn:()=>eP,wrapInList:()=>tP});var Tz=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),Az=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),Mz=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:l})=>{t.doc.nodesBetween(o.pos,l.pos,(u,f)=>{if(u.type.isText)return;const{doc:h,mapping:g}=e,y=h.resolve(g.map(f)),x=h.resolve(g.map(f+u.nodeSize)),v=y.blockRange(x);if(!v)return;const w=bo(v);if(u.type.isTextblock){const{defaultType:E}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(v.start,E)}(w||w===0)&&e.lift(v,w)})}),!0},Oz=t=>e=>t(e),_z=()=>({state:t,dispatch:e})=>eN(t,e),Rz=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,o.content),r.setSelection(new Ee(r.doc.resolve(Math.max(l-1,0)))),!0},jz=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const u=i.before(o),f=i.after(o);t.delete(u,f).scrollIntoView()}return!0}return!1};function Et(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var Dz=t=>({tr:e,state:n,dispatch:r})=>{const i=Et(t,n.schema),o=e.selection.$anchor;for(let l=o.depth;l>0;l-=1)if(o.node(l).type===i){if(r){const f=o.before(l),h=o.after(l);e.delete(f,h).scrollIntoView()}return!0}return!1},Lz=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},Iz=()=>({state:t,dispatch:e})=>ry(t,e),zz=()=>({commands:t})=>t.keyboardShortcut("Enter"),Pz=()=>({state:t,dispatch:e})=>wI(t,e);function by(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Od(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:by(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function HN(t,e,n={}){return t.find(r=>r.type===e&&Od(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function $S(t,e,n={}){return!!HN(t,e,n)}function xy(t,e,n){var r;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(g=>g.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(g=>g.type===e)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!HN([...i.node.marks],e,n)))return;let l=i.index,u=t.start()+i.offset,f=l+1,h=u+i.node.nodeSize;for(;l>0&&$S([...t.parent.child(l-1).marks],e,n);)l-=1,u-=t.parent.child(l).nodeSize;for(;f<t.parent.childCount&&$S([...t.parent.child(f).marks],e,n);)h+=t.parent.child(f).nodeSize,f+=1;return{from:u,to:h}}function ns(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var Bz=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=ns(t,r.schema),{doc:l,selection:u}=n,{$from:f,from:h,to:g}=u;if(i){const y=xy(f,o,e);if(y&&y.from<=h&&y.to>=g){const x=Ee.create(l,y.from,y.to);n.setSelection(x)}}return!0},Uz=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function VN(t){return t instanceof Ee}function Ii(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function $N(t,e=null){if(!e)return null;const n=Re.atStart(t),r=Re.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?Ee.create(t,Ii(0,i,o),Ii(t.content.size,i,o)):Ee.create(t,Ii(e,i,o),Ii(e,i,o))}function qS(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function _d(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function Hz(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var Vz=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const l=()=>{(_d()||qS())&&r.dom.focus(),Hz()&&!_d()&&!qS()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!VN(n.state.selection))return l(),!0;const u=$N(i.doc,t)||n.state.selection,f=n.state.selection.eq(u);return o&&(f||i.setSelection(u),f&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},$z=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),qz=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),qN=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&qN(r)}return t};function Uu(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return qN(n)}function Ql(t,e,n){if(t instanceof ir||t instanceof ne)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return ne.fromArray(t.map(u=>e.nodeFromJSON(u)));const l=e.nodeFromJSON(t);return n.errorOnInvalidContent&&l.check(),l}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Ql("",e,n)}if(i){if(n.errorOnInvalidContent){let l=!1,u="";const f=new TE({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:h=>(l=!0,u=typeof h=="string"?h:h.outerHTML,null)}]}})});if(n.slice?Ws.fromSchema(f).parseSlice(Uu(t),n.parseOptions):Ws.fromSchema(f).parse(Uu(t),n.parseOptions),n.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const o=Ws.fromSchema(e);return n.slice?o.parseSlice(Uu(t),n.parseOptions).content:o.parse(Uu(t),n.parseOptions)}return Ql("",e,n)}function Fz(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Ot||i instanceof Rt))return;const o=t.mapping.maps[r];let l=0;o.forEach((u,f,h,g)=>{l===0&&(l=g)}),t.setSelection(Re.near(t.doc.resolve(l),n))}var Gz=t=>!("type"in t),Kz=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{var l;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;const f=k=>{o.emit("contentError",{editor:o,error:k,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},h={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Ql(e,o.schema,{parseOptions:h,errorOnInvalidContent:!0})}catch(k){f(k)}try{u=Ql(e,o.schema,{parseOptions:h,errorOnInvalidContent:(l=n.errorOnInvalidContent)!=null?l:o.options.enableContentCheck})}catch(k){return f(k),!1}let{from:g,to:y}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},x=!0,v=!0;if((Gz(u)?u:[u]).forEach(k=>{k.check(),x=x?k.isText&&k.marks.length===0:!1,v=v?k.isBlock:!1}),g===y&&v){const{parent:k}=r.doc.resolve(g);k.isTextblock&&!k.type.spec.code&&!k.childCount&&(g-=1,y+=1)}let E;if(x){if(Array.isArray(e))E=e.map(k=>k.text||"").join("");else if(e instanceof ne){let k="";e.forEach(C=>{C.text&&(k+=C.text)}),E=k}else typeof e=="object"&&e&&e.text?E=e.text:E=e;r.insertText(E,g,y)}else{E=u;const k=r.doc.resolve(g),C=k.node(),R=k.parentOffset===0,D=C.isText||C.isTextblock,$=C.content.size>0;R&&D&&$&&(g=Math.max(0,g-1)),r.replaceWith(g,y,E)}n.updateSelection&&Fz(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:g,text:E}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:g,text:E})}return!0},Wz=()=>({state:t,dispatch:e})=>xI(t,e),Yz=()=>({state:t,dispatch:e})=>vI(t,e),Jz=()=>({state:t,dispatch:e})=>KE(t,e),Xz=()=>({state:t,dispatch:e})=>XE(t,e),Qz=()=>({state:t,dispatch:e,tr:n})=>{try{const r=yf(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Zz=()=>({state:t,dispatch:e,tr:n})=>{try{const r=yf(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},e6=()=>({state:t,dispatch:e})=>yI(t,e),t6=()=>({state:t,dispatch:e})=>bI(t,e);function FN(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function n6(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,l;for(let u=0;u<e.length-1;u+=1){const f=e[u];if(/^(cmd|meta|m)$/i.test(f))l=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))o=!0;else if(/^mod$/i.test(f))_d()||FN()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var r6=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=n6(t).split(/-(?!$)/),l=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),u=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{n.someProp("handleKeyDown",h=>h(n,u))});return f?.steps.forEach(h=>{const g=h.map(r.mapping);g&&i&&r.maybeStep(g)}),!0};function Zs(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,l=e?Et(e,t.schema):null,u=[];t.doc.nodesBetween(r,i,(y,x)=>{if(y.isText)return;const v=Math.max(r,x),w=Math.min(i,x+y.nodeSize);u.push({node:y,from:v,to:w})});const f=i-r,h=u.filter(y=>l?l.name===y.node.type.name:!0).filter(y=>Od(y.node.attrs,n,{strict:!1}));return o?!!h.length:h.reduce((y,x)=>y+x.to-x.from,0)>=f}var s6=(t,e={})=>({state:n,dispatch:r})=>{const i=Et(t,n.schema);return Zs(n,i,e)?SI(n,r):!1},i6=()=>({state:t,dispatch:e})=>tN(t,e),a6=t=>({state:e,dispatch:n})=>{const r=Et(t,e.schema);return jI(r)(e,n)},o6=()=>({state:t,dispatch:e})=>ZE(t,e);function Nf(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function FS(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}var l6=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,l=null;const u=Nf(typeof t=="string"?t:t.name,r.schema);if(!u)return!1;u==="node"&&(o=Et(t,r.schema)),u==="mark"&&(l=ns(t,r.schema));let f=!1;return n.selection.ranges.forEach(h=>{r.doc.nodesBetween(h.$from.pos,h.$to.pos,(g,y)=>{o&&o===g.type&&(f=!0,i&&n.setNodeMarkup(y,void 0,FS(g.attrs,e))),l&&g.marks.length&&g.marks.forEach(x=>{l===x.type&&(f=!0,i&&n.addMark(y,y+g.nodeSize,l.create(FS(x.attrs,e))))})})}),f},c6=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),u6=()=>({tr:t,dispatch:e})=>{if(e){const n=new Nn(t.doc);t.setSelection(n)}return!0},d6=()=>({state:t,dispatch:e})=>YE(t,e),f6=()=>({state:t,dispatch:e})=>QE(t,e),h6=()=>({state:t,dispatch:e})=>NI(t,e),p6=()=>({state:t,dispatch:e})=>AI(t,e),m6=()=>({state:t,dispatch:e})=>TI(t,e);function gg(t,e,n={},r={}){return Ql(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var g6=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:o,dispatch:l,commands:u})=>{const{doc:f}=o;if(r.preserveWhitespace!=="full"){const h=gg(t,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return l&&o.replaceWith(0,f.content.size,h).setMeta("preventUpdate",!n),!0}return l&&o.setMeta("preventUpdate",!n),u.insertContentAt({from:0,to:f.content.size},t,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function GN(t,e){const n=ns(e,t.schema),{from:r,to:i,empty:o}=t.selection,l=[];o?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,f=>{l.push(...f.marks)});const u=l.find(f=>f.type.name===n.name);return u?{...u.attrs}:{}}function KN(t,e){const n=new $E(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function y6(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function b6(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function x6(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Cf(t){return e=>x6(e.$from,t)}function ge(t,e,n){return t.config[e]===void 0&&t.parent?ge(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ge(t.parent,e,n):null}):t.config[e]}function vy(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=ge(e,"addExtensions",n);return r?[e,...vy(r())]:e}).flat(10)}function Sy(t,e){const n=Qi.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function WN(t){return typeof t=="function"}function We(t,e=void 0,...n){return WN(t)?e?t.bind(e)(...n):t(...n):t}function v6(t={}){return Object.keys(t).length===0&&t.constructor===Object}function lo(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function YN(t){const e=[],{nodeExtensions:n,markExtensions:r}=lo(t),i=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const u={name:l.name,options:l.options,storage:l.storage,extensions:i},f=ge(l,"addGlobalAttributes",u);if(!f)return;f().forEach(g=>{g.types.forEach(y=>{Object.entries(g.attributes).forEach(([x,v])=>{e.push({type:y,name:x,attribute:{...o,...v}})})})})}),i.forEach(l=>{const u={name:l.name,options:l.options,storage:l.storage},f=ge(l,"addAttributes",u);if(!f)return;const h=f();Object.entries(h).forEach(([g,y])=>{const x={...o,...y};typeof x?.default=="function"&&(x.default=x.default()),x?.isRequired&&x?.default===void 0&&delete x.default,e.push({type:l.name,name:g,attribute:x})})}),e}function dt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const u=o?String(o).split(" "):[],f=r[i]?r[i].split(" "):[],h=u.filter(g=>!f.includes(g));r[i]=[...f,...h].join(" ")}else if(i==="style"){const u=o?o.split(";").map(g=>g.trim()).filter(Boolean):[],f=r[i]?r[i].split(";").map(g=>g.trim()).filter(Boolean):[],h=new Map;f.forEach(g=>{const[y,x]=g.split(":").map(v=>v.trim());h.set(y,x)}),u.forEach(g=>{const[y,x]=g.split(":").map(v=>v.trim());h.set(y,x)}),r[i]=Array.from(h.entries()).map(([g,y])=>`${g}: ${y}`).join("; ")}else r[i]=o}),r},{})}function Zl(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>dt(n,r),{})}function S6(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function GS(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,l)=>{const u=l.attribute.parseHTML?l.attribute.parseHTML(n):S6(n.getAttribute(l.name));return u==null?o:{...o,[l.name]:u}},{});return{...r,...i}}}}function KS(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&v6(n)?!1:n!=null))}function WS(t){var e,n;const r={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(r.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function w6(t,e){var n;const r=YN(t),{nodeExtensions:i,markExtensions:o}=lo(t),l=(n=i.find(h=>ge(h,"topNode")))==null?void 0:n.name,u=Object.fromEntries(i.map(h=>{const g=r.filter(C=>C.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},x=t.reduce((C,R)=>{const D=ge(R,"extendNodeSchema",y);return{...C,...D?D(h):{}}},{}),v=KS({...x,content:We(ge(h,"content",y)),marks:We(ge(h,"marks",y)),group:We(ge(h,"group",y)),inline:We(ge(h,"inline",y)),atom:We(ge(h,"atom",y)),selectable:We(ge(h,"selectable",y)),draggable:We(ge(h,"draggable",y)),code:We(ge(h,"code",y)),whitespace:We(ge(h,"whitespace",y)),linebreakReplacement:We(ge(h,"linebreakReplacement",y)),defining:We(ge(h,"defining",y)),isolating:We(ge(h,"isolating",y)),attrs:Object.fromEntries(g.map(WS))}),w=We(ge(h,"parseHTML",y));w&&(v.parseDOM=w.map(C=>GS(C,g)));const E=ge(h,"renderHTML",y);E&&(v.toDOM=C=>E({node:C,HTMLAttributes:Zl(C,g)}));const k=ge(h,"renderText",y);return k&&(v.toText=k),[h.name,v]})),f=Object.fromEntries(o.map(h=>{const g=r.filter(k=>k.type===h.name),y={name:h.name,options:h.options,storage:h.storage,editor:e},x=t.reduce((k,C)=>{const R=ge(C,"extendMarkSchema",y);return{...k,...R?R(h):{}}},{}),v=KS({...x,inclusive:We(ge(h,"inclusive",y)),excludes:We(ge(h,"excludes",y)),group:We(ge(h,"group",y)),spanning:We(ge(h,"spanning",y)),code:We(ge(h,"code",y)),attrs:Object.fromEntries(g.map(WS))}),w=We(ge(h,"parseHTML",y));w&&(v.parseDOM=w.map(k=>GS(k,g)));const E=ge(h,"renderHTML",y);return E&&(v.toDOM=k=>E({mark:k,HTMLAttributes:Zl(k,g)})),[h.name,v]}));return new TE({topNode:l,nodes:u,marks:f})}function k6(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function Rd(t){return t.sort((n,r)=>{const i=ge(n,"priority")||100,o=ge(r,"priority")||100;return i>o?-1:i<o?1:0})}function JN(t){const e=Rd(vy(t)),n=k6(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function XN(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:l={}}=n||{};let u="";return t.nodesBetween(r,i,(f,h,g,y)=>{var x;f.isBlock&&h>r&&(u+=o);const v=l?.[f.type.name];if(v)return g&&(u+=v({node:f,pos:h,parent:g,index:y,range:e})),!1;f.isText&&(u+=(x=f?.text)==null?void 0:x.slice(Math.max(r,h)-h,i-h))}),u}function E6(t,e){const n={from:0,to:t.content.size};return XN(t,n,e)}function QN(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function N6(t,e){const n=Et(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,u=>{o.push(u)});const l=o.reverse().find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function ZN(t,e){const n=Nf(typeof e=="string"?e:e.name,t.schema);return n==="node"?N6(t,e):n==="mark"?GN(t,e):{}}function C6(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function T6(t){const e=C6(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,l)=>l!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function eC(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,o)=>{const l=[];if(i.ranges.length)i.forEach((u,f)=>{l.push({from:u,to:f})});else{const{from:u,to:f}=n[o];if(u===void 0||f===void 0)return;l.push({from:u,to:f})}l.forEach(({from:u,to:f})=>{const h=e.slice(o).map(u,-1),g=e.slice(o).map(f),y=e.invert().map(h,-1),x=e.invert().map(g);r.push({oldRange:{from:y,to:x},newRange:{from:h,to:g}})})}),T6(r)}function wy(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t),l=xy(o,i.type);l&&r.push({mark:i,...l})}):n.nodesBetween(t,e,(i,o)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(l=>({from:o,to:o+i.nodeSize,mark:l})))}),r}var A6=(t,e,n,r=20)=>{const i=t.doc.resolve(n);let o=r,l=null;for(;o>0&&l===null;){const u=i.node(o);u?.type.name===e?l=u:o-=1}return[l,o]};function Hu(t,e){return e.nodes[t]||e.marks[t]||null}function sd(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}var M6=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,l,u)=>{var f,h;const g=((h=(f=i.type.spec).toText)==null?void 0:h.call(f,{node:i,pos:o,parent:l,index:u}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?g:g.slice(0,Math.max(0,r-o))}),n};function yg(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?ns(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(y=>o?o.name===y.type.name:!0).find(y=>Od(y.attrs,n,{strict:!1}));let l=0;const u=[];if(i.forEach(({$from:y,$to:x})=>{const v=y.pos,w=x.pos;t.doc.nodesBetween(v,w,(E,k)=>{if(!E.isText&&!E.marks.length)return;const C=Math.max(v,k),R=Math.min(w,k+E.nodeSize),D=R-C;l+=D,u.push(...E.marks.map($=>({mark:$,from:C,to:R})))})}),l===0)return!1;const f=u.filter(y=>o?o.name===y.mark.type.name:!0).filter(y=>Od(y.mark.attrs,n,{strict:!1})).reduce((y,x)=>y+x.to-x.from,0),h=u.filter(y=>o?y.mark.type!==o&&y.mark.type.excludes(o):!0).reduce((y,x)=>y+x.to-x.from,0);return(f>0?f+h:f)>=l}function O6(t,e,n={}){if(!e)return Zs(t,null,n)||yg(t,null,n);const r=Nf(e,t.schema);return r==="node"?Zs(t,e,n):r==="mark"?yg(t,e,n):!1}var _6=(t,e)=>{const{$from:n,$to:r,$anchor:i}=t.selection;if(e){const o=Cf(u=>u.type.name===e)(t.selection);if(!o)return!1;const l=t.doc.resolve(o.pos+1);return i.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},R6=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function YS(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function JS(t,e){const{nodeExtensions:n}=lo(e),r=n.find(l=>l.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=We(ge(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function Tf(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(o=>{i!==!1&&(Tf(o,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function tC(t){return t instanceof be}var nC=class rC{constructor(e){this.position=e}static fromJSON(e){return new rC(e.position)}toJSON(){return{position:this.position}}};function j6(t,e){const n=e.mapping.mapResult(t.position);return{position:new nC(n.pos),mapResult:n}}function D6(t){return new nC(t)}function L6(t,e,n){var r;const{selection:i}=e;let o=null;if(VN(i)&&(o=i.$cursor),o){const u=(r=t.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(u)||!u.some(h=>h.type.excludes(n)))}const{ranges:l}=i;return l.some(({$from:u,$to:f})=>{let h=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,f.pos,(g,y,x)=>{if(h)return!1;if(g.isInline){const v=!x||x.type.allowsMarkType(n),w=!!n.isInSet(g.marks)||!g.marks.some(E=>E.type.excludes(n));h=v&&w}return!h}),h})}var I6=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:l,ranges:u}=o,f=ns(t,r.schema);if(i)if(l){const h=GN(r,f);n.addStoredMark(f.create({...h,...e}))}else u.forEach(h=>{const g=h.$from.pos,y=h.$to.pos;r.doc.nodesBetween(g,y,(x,v)=>{const w=Math.max(v,g),E=Math.min(v+x.nodeSize,y);x.marks.find(C=>C.type===f)?x.marks.forEach(C=>{f===C.type&&n.addMark(w,E,f.create({...C.attrs,...e}))}):n.addMark(w,E,f.create(e))})});return L6(r,n,f)},z6=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),P6=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=Et(t,n.schema);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:u})=>cS(o,{...l,...e})(n)?!0:u.clearNodes()).command(({state:u})=>cS(o,{...l,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},B6=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Ii(t,0,r.content.size),o=be.create(r,i);e.setSelection(o)}return!0},U6=(t,e)=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=r;let l,u;return typeof e=="number"?(l=e,u=e):e&&"from"in e&&"to"in e?(l=e.from,u=e.to):(l=o.from,u=o.to),i&&n.doc.nodesBetween(l,u,(f,h)=>{f.isText||n.setNodeMarkup(h,void 0,{...f.attrs,dir:t})}),!0},H6=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,l=Ee.atStart(r).from,u=Ee.atEnd(r).to,f=Ii(i,l,u),h=Ii(o,l,u),g=Ee.create(r,f,h);e.setSelection(g)}return!0},V6=t=>({state:e,dispatch:n})=>{const r=Et(t,e.schema);return II(r)(e,n)};function XS(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(r)}}var $6=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:l}=e,{$from:u,$to:f}=o,h=i.extensionManager.attributes,g=sd(h,u.node().type.name,u.node().attrs);if(o instanceof be&&o.node.isBlock)return!u.parentOffset||!Jr(l,u.pos)?!1:(r&&(t&&XS(n,i.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const y=f.parentOffset===f.parent.content.size,x=u.depth===0?void 0:y6(u.node(-1).contentMatchAt(u.indexAfter(-1)));let v=y&&x?[{type:x,attrs:g}]:void 0,w=Jr(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!w&&Jr(e.doc,e.mapping.map(u.pos),1,x?[{type:x}]:void 0)&&(w=!0,v=x?[{type:x,attrs:g}]:void 0),r){if(w&&(o instanceof Ee&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),x&&!y&&!u.parentOffset&&u.parent.type!==x)){const E=e.mapping.map(u.before()),k=e.doc.resolve(E);u.node(-1).canReplaceWith(k.index(),k.index()+1,x)&&e.setNodeMarkup(e.mapping.map(u.before()),x)}t&&XS(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return w},q6=(t,e={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var l;const u=Et(t,r.schema),{$from:f,$to:h}=r.selection,g=r.selection.node;if(g&&g.isBlock||f.depth<2||!f.sameParent(h))return!1;const y=f.node(-1);if(y.type!==u)return!1;const x=o.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==u||f.index(-2)!==f.node(-2).childCount-1)return!1;if(i){let C=ne.empty;const R=f.index(-1)?1:f.index(-2)?2:3;for(let B=f.depth-R;B>=f.depth-3;B-=1)C=ne.from(f.node(B).copy(C));const D=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,$={...sd(x,f.node().type.name,f.node().attrs),...e},U=((l=u.contentMatch.defaultType)==null?void 0:l.createAndFill($))||void 0;C=C.append(ne.from(u.createAndFill(null,U)||void 0));const Z=f.before(f.depth-(R-1));n.replace(Z,f.after(-D),new oe(C,4-R,0));let q=-1;n.doc.nodesBetween(Z,n.doc.content.size,(B,re)=>{if(q>-1)return!1;B.isTextblock&&B.content.size===0&&(q=re+1)}),q>-1&&n.setSelection(Ee.near(n.doc.resolve(q))),n.scrollIntoView()}return!0}const v=h.pos===f.end()?y.contentMatchAt(0).defaultType:null,w={...sd(x,y.type.name,y.attrs),...e},E={...sd(x,f.node().type.name,f.node().attrs),...e};n.delete(f.pos,h.pos);const k=v?[{type:u,attrs:w},{type:v,attrs:E}]:[{type:u,attrs:w}];if(!Jr(n.doc,f.pos,2))return!1;if(i){const{selection:C,storedMarks:R}=r,{splittableMarks:D}=o.extensionManager,$=R||C.$to.parentOffset&&C.$from.marks();if(n.split(f.pos,2,k).scrollIntoView(),!$||!i)return!0;const U=$.filter(Z=>D.includes(Z.type.name));n.ensureMarks(U)}return!0},Em=(t,e)=>{const n=Cf(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&ii(t.doc,n.pos)&&t.join(n.pos),!0},Nm=(t,e)=>{const n=Cf(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===i?.type&&ii(t.doc,r)&&t.join(r),!0},F6=(t,e,n,r={})=>({editor:i,tr:o,state:l,dispatch:u,chain:f,commands:h,can:g})=>{const{extensions:y,splittableMarks:x}=i.extensionManager,v=Et(t,l.schema),w=Et(e,l.schema),{selection:E,storedMarks:k}=l,{$from:C,$to:R}=E,D=C.blockRange(R),$=k||E.$to.parentOffset&&E.$from.marks();if(!D)return!1;const U=Cf(Z=>JS(Z.type.name,y))(E);if(D.depth>=1&&U&&D.depth-U.depth<=1){if(U.node.type===v)return h.liftListItem(w);if(JS(U.node.type.name,y)&&v.validContent(U.node.content)&&u)return f().command(()=>(o.setNodeMarkup(U.pos,v),!0)).command(()=>Em(o,v)).command(()=>Nm(o,v)).run()}return!n||!$||!u?f().command(()=>g().wrapInList(v,r)?!0:h.clearNodes()).wrapInList(v,r).command(()=>Em(o,v)).command(()=>Nm(o,v)).run():f().command(()=>{const Z=g().wrapInList(v,r),q=$.filter(B=>x.includes(B.type.name));return o.ensureMarks(q),Z?!0:h.clearNodes()}).wrapInList(v,r).command(()=>Em(o,v)).command(()=>Nm(o,v)).run()},G6=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,l=ns(t,r.schema);return yg(r,l,e)?i.unsetMark(l,{extendEmptyMarkRange:o}):i.setMark(l,e)},K6=(t,e,n={})=>({state:r,commands:i})=>{const o=Et(t,r.schema),l=Et(e,r.schema),u=Zs(r,o,n);let f;return r.selection.$anchor.sameParent(r.selection.$head)&&(f=r.selection.$anchor.parent.attrs),u?i.setNode(l,f):i.setNode(o,{...f,...n})},W6=(t,e={})=>({state:n,commands:r})=>{const i=Et(t,n.schema);return Zs(n,i,e)?r.lift(i):r.wrapIn(i,e)},Y6=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const l=t.tr,u=o.transform;for(let f=u.steps.length-1;f>=0;f-=1)l.step(u.steps[f].invert(u.docs[f]));if(o.text){const f=l.doc.resolve(o.from).marks();l.replaceWith(o.from,o.to,t.schema.text(o.text,f))}else l.delete(o.from,o.to)}return!0}}return!1},J6=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},X6=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:l=!1}=e,{selection:u}=n,f=ns(t,r.schema),{$from:h,empty:g,ranges:y}=u;if(!i)return!0;if(g&&l){let{from:x,to:v}=u;const w=(o=h.marks().find(k=>k.type===f))==null?void 0:o.attrs,E=xy(h,f,w);E&&(x=E.from,v=E.to),n.removeMark(x,v,f)}else y.forEach(x=>{n.removeMark(x.$from.pos,x.$to.pos,f)});return n.removeStoredMark(f),!0},Q6=t=>({tr:e,state:n,dispatch:r})=>{const{selection:i}=n;let o,l;return typeof t=="number"?(o=t,l=t):t&&"from"in t&&"to"in t?(o=t.from,l=t.to):(o=i.from,l=i.to),r&&e.doc.nodesBetween(o,l,(u,f)=>{if(u.isText)return;const h={...u.attrs};delete h.dir,e.setNodeMarkup(f,void 0,h)}),!0},Z6=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,l=null;const u=Nf(typeof t=="string"?t:t.name,r.schema);if(!u)return!1;u==="node"&&(o=Et(t,r.schema)),u==="mark"&&(l=ns(t,r.schema));let f=!1;return n.selection.ranges.forEach(h=>{const g=h.$from.pos,y=h.$to.pos;let x,v,w,E;n.selection.empty?r.doc.nodesBetween(g,y,(k,C)=>{o&&o===k.type&&(f=!0,w=Math.max(C,g),E=Math.min(C+k.nodeSize,y),x=C,v=k)}):r.doc.nodesBetween(g,y,(k,C)=>{C<g&&o&&o===k.type&&(f=!0,w=Math.max(C,g),E=Math.min(C+k.nodeSize,y),x=C,v=k),C>=g&&C<=y&&(o&&o===k.type&&(f=!0,i&&n.setNodeMarkup(C,void 0,{...k.attrs,...e})),l&&k.marks.length&&k.marks.forEach(R=>{if(l===R.type&&(f=!0,i)){const D=Math.max(C,g),$=Math.min(C+k.nodeSize,y);n.addMark(D,$,l.create({...R.attrs,...e}))}}))}),v&&(x!==void 0&&i&&n.setNodeMarkup(x,void 0,{...v.attrs,...e}),l&&v.marks.length&&v.marks.forEach(k=>{l===k.type&&i&&n.addMark(w,E,l.create({...k.attrs,...e}))}))}),f},eP=(t,e={})=>({state:n,dispatch:r})=>{const i=Et(t,n.schema);return MI(i,e)(n,r)},tP=(t,e={})=>({state:n,dispatch:r})=>{const i=Et(t,n.schema);return OI(i,e)(n,r)},nP=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Af=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},rP=(t,e)=>{if(by(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Vu(t){var e;const{editor:n,from:r,to:i,text:o,rules:l,plugin:u}=t,{view:f}=n;if(f.composing)return!1;const h=f.state.doc.resolve(r);if(h.parent.type.spec.code||(e=h.nodeBefore||h.nodeAfter)!=null&&e.marks.find(x=>x.type.spec.code))return!1;let g=!1;const y=M6(h)+o;return l.forEach(x=>{if(g)return;const v=rP(y,x.find);if(!v)return;const w=f.state.tr,E=kf({state:f.state,transaction:w}),k={from:r-(v[0].length-o.length),to:i},{commands:C,chain:R,can:D}=new Ef({editor:n,state:E});x.handler({state:E,range:k,match:v,commands:C,chain:R,can:D})===null||!w.steps.length||(x.undoable&&w.setMeta(u,{transform:w,from:r,to:i,text:o}),f.dispatch(w),g=!0)}),g}function sP(t){const{editor:e,rules:n}=t,r=new ft({state:{init(){return null},apply(i,o,l){const u=i.getMeta(r);if(u)return u;const f=i.getMeta("applyInputRules");return f&&setTimeout(()=>{let{text:g}=f;typeof g=="string"?g=g:g=Sy(ne.from(g),l.schema);const{from:y}=f,x=y+g.length;Vu({editor:e,from:y,to:x,text:g,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,l,u){return Vu({editor:e,from:o,to:l,text:u,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Vu({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:l}=i.state.selection;return l?Vu({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function iP(t){return Object.prototype.toString.call(t).slice(8,-1)}function $u(t){return iP(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function sC(t,e){const n={...t};return $u(t)&&$u(e)&&Object.keys(e).forEach(r=>{$u(e[r])&&$u(t[r])?n[r]=sC(t[r],e[r]):n[r]=e[r]}),n}var ky=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...We(ge(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...We(ge(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>sC(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},rs=class iC extends ky{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new iC(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(h=>h?.type.name===n.name))return!1;const f=l.find(h=>h?.type.name===n.name);return f&&r.removeStoredMark(f),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function aP(t){return typeof t=="number"}var oP=class{constructor(t){this.find=t.find,this.handler=t.handler}},lP=(t,e,n)=>{if(by(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function cP(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:l,dropEvent:u}=t,{commands:f,chain:h,can:g}=new Ef({editor:e,state:n}),y=[];return n.doc.nodesBetween(r,i,(v,w)=>{var E,k,C,R,D;if((k=(E=v.type)==null?void 0:E.spec)!=null&&k.code||!(v.isText||v.isTextblock||v.isInline))return;const $=(D=(R=(C=v.content)==null?void 0:C.size)!=null?R:v.nodeSize)!=null?D:0,U=Math.max(r,w),Z=Math.min(i,w+$);if(U>=Z)return;const q=v.isText?v.text||"":v.textBetween(U-w,Z-w,void 0,"");lP(q,o.find,l).forEach(re=>{if(re.index===void 0)return;const ce=U+re.index+1,we=ce+re[0].length,Ne={from:n.tr.mapping.map(ce),to:n.tr.mapping.map(we)},X=o.handler({state:n,range:Ne,match:re,commands:f,chain:h,can:g,pasteEvent:l,dropEvent:u});y.push(X)})}),y.every(v=>v!==null)}var qu=null,uP=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function dP(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const f=({state:g,from:y,to:x,rule:v,pasteEvt:w})=>{const E=g.tr,k=kf({state:g,transaction:E});if(!(!cP({editor:e,state:k,from:Math.max(y-1,0),to:x.b-1,rule:v,pasteEvent:w,dropEvent:u})||!E.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,E}};return n.map(g=>new ft({view(y){const x=w=>{var E;r=(E=y.dom.parentElement)!=null&&E.contains(w.target)?y.dom.parentElement:null,r&&(qu=e)},v=()=>{qu&&(qu=null)};return window.addEventListener("dragstart",x),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",x),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:(y,x)=>{if(o=r===y.dom.parentElement,u=x,!o){const v=qu;v?.isEditable&&setTimeout(()=>{const w=v.state.selection;w&&v.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(y,x)=>{var v;const w=(v=x.clipboardData)==null?void 0:v.getData("text/html");return l=x,i=!!w?.includes("data-pm-slice"),!1}}},appendTransaction:(y,x,v)=>{const w=y[0],E=w.getMeta("uiEvent")==="paste"&&!i,k=w.getMeta("uiEvent")==="drop"&&!o,C=w.getMeta("applyPasteRules"),R=!!C;if(!E&&!k&&!R)return;if(R){let{text:U}=C;typeof U=="string"?U=U:U=Sy(ne.from(U),v.schema);const{from:Z}=C,q=Z+U.length,B=uP(U);return f({rule:g,state:v,from:Z,to:{b:q},pasteEvt:B})}const D=x.doc.content.findDiffStart(v.doc.content),$=x.doc.content.findDiffEnd(v.doc.content);if(!(!aP(D)||!$||D===$.b))return f({rule:g,state:v,from:D,to:$,pasteEvt:l})}}))}var Mf=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=JN(t),this.schema=w6(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Hu(e.name,this.schema)},r=ge(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return Rd([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Hu(r.name,this.schema)},o=[],l=ge(r,"addKeyboardShortcuts",i);let u={};if(r.type==="mark"&&ge(r,"exitable",i)&&(u.ArrowRight=()=>rs.handleExit({editor:t,mark:r})),l){const x=Object.fromEntries(Object.entries(l()).map(([v,w])=>[v,()=>w({editor:t})]));u={...u,...x}}const f=Nz(u);o.push(f);const h=ge(r,"addInputRules",i);if(YS(r,t.options.enableInputRules)&&h){const x=h();if(x&&x.length){const v=sP({editor:t,rules:x}),w=Array.isArray(v)?v:[v];o.push(...w)}}const g=ge(r,"addPasteRules",i);if(YS(r,t.options.enablePasteRules)&&g){const x=g();if(x&&x.length){const v=dP({editor:t,rules:x});o.push(...v)}}const y=ge(r,"addProseMirrorPlugins",i);if(y){const x=y();o.push(...x)}return o})}get attributes(){return YN(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=lo(this.extensions);return Object.fromEntries(e.filter(n=>!!ge(n,"addNodeView")).map(n=>{const r=this.attributes.filter(f=>f.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Et(n.name,this.schema)},o=ge(n,"addNodeView",i);if(!o)return[];const l=o();if(!l)return[];const u=(f,h,g,y,x)=>{const v=Zl(f,r);return l({node:f,view:h,getPos:g,decorations:y,innerDecorations:x,editor:t,extension:n,HTMLAttributes:v})};return[n.name,u]}))}dispatchTransaction(t){const{editor:e}=this;return Rd([...this.extensions].reverse()).reduceRight((r,i)=>{const o={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:e,type:Hu(i.name,this.schema)},l=ge(i,"dispatchTransaction",o);return l?u=>{l.call(o,{transaction:u,next:r})}:r},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=lo(this.extensions);return Object.fromEntries(e.filter(n=>!!ge(n,"addMarkView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ns(n.name,this.schema)},o=ge(n,"addMarkView",i);if(!o)return[];const l=(u,f,h)=>{const g=Zl(u,r);return o()({mark:u,view:f,inline:h,editor:t,extension:n,HTMLAttributes:g,updateAttributes:y=>{CP(u,t,y)}})};return[n.name,l]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Hu(e.name,this.schema)};e.type==="mark"&&((n=We(ge(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const i=ge(e,"onBeforeCreate",r),o=ge(e,"onCreate",r),l=ge(e,"onUpdate",r),u=ge(e,"onSelectionUpdate",r),f=ge(e,"onTransaction",r),h=ge(e,"onFocus",r),g=ge(e,"onBlur",r),y=ge(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),l&&this.editor.on("update",l),u&&this.editor.on("selectionUpdate",u),f&&this.editor.on("transaction",f),h&&this.editor.on("focus",h),g&&this.editor.on("blur",g),y&&this.editor.on("destroy",y)})}};Mf.resolve=JN;Mf.sort=Rd;Mf.flatten=vy;var fP={};yy(fP,{ClipboardTextSerializer:()=>oC,Commands:()=>lC,Delete:()=>cC,Drop:()=>uC,Editable:()=>dC,FocusEvents:()=>hC,Keymap:()=>pC,Paste:()=>mC,Tabindex:()=>gC,TextDirection:()=>yC,focusEventsPluginKey:()=>fC});var Ze=class aC extends ky{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new aC(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},oC=Ze.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new ft({key:new Tt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,l=Math.min(...o.map(g=>g.$from.pos)),u=Math.max(...o.map(g=>g.$to.pos)),f=QN(n);return XN(r,{from:l,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),lC=Ze.create({name:"commands",addCommands(){return{...UN}}}),cC=Ze.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,i;const o=()=>{var l,u,f,h;if((h=(f=(u=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:u.filterTransaction)==null?void 0:f.call(u,t))!=null?h:t.getMeta("y-sync$"))return;const g=KN(t.before,[t,...e]);eC(g).forEach(v=>{g.mapping.mapResult(v.oldRange.from).deletedAfter&&g.mapping.mapResult(v.oldRange.to).deletedBefore&&g.before.nodesBetween(v.oldRange.from,v.oldRange.to,(w,E)=>{const k=E+w.nodeSize-2,C=v.oldRange.from<=E&&k<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:E,to:k,newFrom:g.mapping.map(E),newTo:g.mapping.map(k),deletedRange:v.oldRange,newRange:v.newRange,partial:!C,editor:this.editor,transaction:t,combinedTransform:g})})});const x=g.mapping;g.steps.forEach((v,w)=>{var E,k;if(v instanceof rr){const C=x.slice(w).map(v.from,-1),R=x.slice(w).map(v.to),D=x.invert().map(C,-1),$=x.invert().map(R),U=(E=g.doc.nodeAt(C-1))==null?void 0:E.marks.some(q=>q.eq(v.mark)),Z=(k=g.doc.nodeAt(R))==null?void 0:k.marks.some(q=>q.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:D,to:$},newRange:{from:C,to:R},partial:!!(Z||U),editor:this.editor,transaction:t,combinedTransform:g})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(o,0):o()}}),uC=Ze.create({name:"drop",addProseMirrorPlugins(){return[new ft({key:new Tt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),dC=Ze.create({name:"editable",addProseMirrorPlugins(){return[new ft({key:new Tt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),fC=new Tt("focusEvents"),hC=Ze.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new ft({key:fC,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),pC=Ze.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:u})=>{const{selection:f,doc:h}=u,{empty:g,$anchor:y}=f,{pos:x,parent:v}=y,w=y.parent.isTextblock&&x>0?u.doc.resolve(x-1):y,E=w.parent.type.spec.isolating,k=y.pos-y.parentOffset,C=E&&w.parent.childCount===1?k===y.pos:Re.atStart(h).from===x;return!g||!v.type.isTextblock||v.textContent.length||!C||C&&y.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return _d()||FN()?o:i},addProseMirrorPlugins(){return[new ft({key:new Tt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(E=>E.getMeta("composition")))return;const r=t.some(E=>E.docChanged)&&!e.doc.eq(n.doc),i=t.some(E=>E.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:l,to:u}=e.selection,f=Re.atStart(e.doc).from,h=Re.atEnd(e.doc).to;if(o||!(l===f&&u===h)||!Tf(n.doc))return;const x=n.tr,v=kf({state:n,transaction:x}),{commands:w}=new Ef({editor:this.editor,state:v});if(w.clearNodes(),!!x.steps.length)return x}})]}}),mC=Ze.create({name:"paste",addProseMirrorPlugins(){return[new ft({key:new Tt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),gC=Ze.create({name:"tabindex",addProseMirrorPlugins(){return[new ft({key:new Tt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),yC=Ze.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=lo(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new ft({key:new Tt("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),hP=class Fa{constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Fa(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Fa(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Fa(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,l=this.pos+r+(o?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(l);if(!i&&u.depth<=this.depth)return;const f=new Fa(u,this.editor,i,i?n:null);i&&(f.actualDepth=this.depth+1),e.push(new Fa(u,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const o=i.node.attrs,l=Object.keys(n);for(let u=0;u<l.length;u+=1){const f=l[u];if(o[f]!==n[f])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===e&&o.every(f=>n[f]===l.node.attrs[f])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},pP=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function mP(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var gP=class extends nP{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:i})=>{throw i},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:j6,createMappablePosition:D6},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:o,moved:l})=>this.options.onDrop(i,o,l)),this.on("paste",({event:i,slice:o})=>this.options.onPaste(i,o)),this.on("delete",this.options.onDelete);const n=this.createDoc(),r=$N(n,this.options.autofocus);this.editorState=Ka.create({doc:n,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=mP(pP,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,n)=>{if(this.editorView)return this.editorView[n];if(n==="state")return this.editorState;if(n in e)return Reflect.get(e,n);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${n}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,n){const r=WN(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(o=>{const l=typeof o=="string"?`${o}$`:o.key;r=r.filter(u=>!u.key.startsWith(l))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[dC,oC.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:n.blockSeparator}),lC,hC,pC,gC,uC,mC,cC,yC.configure({direction:this.options.textDirection})].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o?.type));this.extensionManager=new Mf(i,this)}createCommandManager(){this.commandManager=new Ef({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=gg(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(n){if(!(n instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(n.message))throw n;this.emit("contentError",{editor:this,error:n,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),e=gg(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){const{editorProps:n,enableExtensionDispatchTransaction:r}=this.options,i=n.dispatchTransaction||this.dispatchTransaction.bind(this),o=r?this.extensionManager.dispatchTransaction(i):i;this.editorView=new PN(e,{...n,attributes:{role:"textbox",...n?.attributes},dispatchTransaction:o,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const l=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(l),this.prependClass(),this.injectCSS();const u=this.view.dom;u.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(g=>{var y;return(y=this.capturedTransaction)==null?void 0:y.step(g)});return}const{state:n,transactions:r}=this.state.applyTransaction(e),i=!this.state.selection.eq(n.selection),o=r.includes(e),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),!o)return;this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:r.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});const u=r.findLast(g=>g.getMeta("focus")||g.getMeta("blur")),f=u?.getMeta("focus"),h=u?.getMeta("blur");f&&this.emit("focus",{editor:this,event:f.event,transaction:u}),h&&this.emit("blur",{editor:this,event:h.event,transaction:u}),!(e.getMeta("preventUpdate")||!r.some(g=>g.docChanged)||l.doc.eq(n.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:r.slice(1)})}getAttributes(e){return ZN(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return O6(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Sy(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return E6(this.state.doc,{blockSeparator:n,textSerializers:{...QN(this.schema),...r}})}get isEmpty(){return Tf(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,n;return(n=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?n:!0}$node(e,n){var r;return((r=this.$doc)==null?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new hP(n,this)}get $doc(){return this.$pos(0)}};function Ji(t){return new Af({find:t.find,handler:({state:e,range:n,match:r})=>{const i=We(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,l=r[r.length-1],u=r[0];if(l){const f=u.search(/\S/),h=n.from+u.indexOf(l),g=h+l.length;if(wy(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(E=>E===t.type&&E!==v.mark.type)).filter(v=>v.to>h).length)return null;g<n.to&&o.delete(g,n.to),h>n.from&&o.delete(n.from+f,h);const x=n.from+f+l.length;o.addMark(n.from+f,x,t.type.create(i||{})),o.removeStoredMark(t.type)}},undoable:t.undoable})}function bC(t){return new Af({find:t.find,handler:({state:e,range:n,match:r})=>{const i=We(t.getAttributes,void 0,r)||{},{tr:o}=e,l=n.from;let u=n.to;const f=t.type.create(i);if(r[1]){const h=r[0].lastIndexOf(r[1]);let g=l+h;g>u?g=u:u=g+r[1].length;const y=r[0][r[0].length-1];o.insertText(y,l+r[0].length-1),o.replaceWith(g,u,f)}else if(r[0]){const h=t.type.isInline?l:l-1;o.insert(h,t.type.create(i)).delete(o.mapping.map(l),o.mapping.map(u))}o.scrollIntoView()},undoable:t.undoable})}function bg(t){return new Af({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=We(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)},undoable:t.undoable})}function co(t){return new Af({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=We(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),f=l.doc.resolve(n.from).blockRange(),h=f&&ty(f,t.type,o);if(!h)return null;if(l.wrap(f,h),t.keepMarks&&t.editor){const{selection:y,storedMarks:x}=e,{splittableMarks:v}=t.editor.extensionManager,w=x||y.$to.parentOffset&&y.$from.marks();if(w){const E=w.filter(k=>v.includes(k.type.name));l.ensureMarks(E)}}if(t.keepAttributes){const y=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(y,o).run()}const g=l.doc.resolve(n.from-1).nodeBefore;g&&g.type===t.type&&ii(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,g))&&l.join(n.from-1)},undoable:t.undoable})}var yP=t=>"touches"in t,bP=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=u=>{if(!this.isResizing||!this.activeHandle)return;const f=u.clientX-this.startX,h=u.clientY-this.startY;this.handleResize(f,h)},this.handleTouchMove=u=>{if(!this.isResizing||!this.activeHandle)return;const f=u.touches[0];if(!f)return;const h=f.clientX-this.startX,g=f.clientY-this.startY;this.handleResize(h,g)},this.handleMouseUp=()=>{if(!this.isResizing)return;const u=this.element.offsetWidth,f=this.element.offsetHeight;this.onCommit(u,f),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,r,i,o,l;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(r=t?.options)!=null&&r.directions&&(this.directions=t.options.directions),(i=t.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(o=t.options)!=null&&o.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(l=t.options)!=null&&l.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),r=e.includes("bottom"),i=e.includes("left"),o=e.includes("right");n&&(t.style.top="0"),r&&(t.style.bottom="0"),i&&(t.style.left="0"),o&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,yP(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:i}=this.calculateNewDimensions(this.activeHandle,t,e),o=this.applyConstraints(r,i,n);this.element.style.width=`${o.width}px`,this.element.style.height=`${o.height}px`,this.onResize&&this.onResize(o.width,o.height)}calculateNewDimensions(t,e,n){let r=this.startWidth,i=this.startHeight;const o=t.includes("right"),l=t.includes("left"),u=t.includes("bottom"),f=t.includes("top");return o?r=this.startWidth+e:l&&(r=this.startWidth-e),u?i=this.startHeight+n:f&&(i=this.startHeight-n),(t==="right"||t==="left")&&(r=this.startWidth+(o?e:-e)),(t==="top"||t==="bottom")&&(i=this.startHeight+(u?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,i,t):{width:r,height:i}}applyConstraints(t,e,n){var r,i,o,l;if(!n){let h=Math.max(this.minSize.width,t),g=Math.max(this.minSize.height,e);return(r=this.maxSize)!=null&&r.width&&(h=Math.min(this.maxSize.width,h)),(i=this.maxSize)!=null&&i.height&&(g=Math.min(this.maxSize.height,g)),{width:h,height:g}}let u=t,f=e;return u<this.minSize.width&&(u=this.minSize.width,f=u/this.aspectRatio),f<this.minSize.height&&(f=this.minSize.height,u=f*this.aspectRatio),(o=this.maxSize)!=null&&o.width&&u>this.maxSize.width&&(u=this.maxSize.width,f=u/this.aspectRatio),(l=this.maxSize)!=null&&l.height&&f>this.maxSize.height&&(f=this.maxSize.height,u=f*this.aspectRatio),{width:u,height:f}}applyAspectRatio(t,e,n){const r=n==="left"||n==="right",i=n==="top"||n==="bottom";return r?{width:t,height:t/this.aspectRatio}:i?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function xP(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof be){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let i=r.depth;for(;i>=0;){const o=r.index(i);if(r.node(i).contentMatchAt(o).matchType(e))return!0;i-=1}return!1}var vP={};yy(vP,{createAtomBlockMarkdownSpec:()=>SP,createBlockMarkdownSpec:()=>wP,createInlineMarkdownSpec:()=>NP,parseAttributes:()=>Ey,parseIndentedBlocks:()=>xg,renderNestedMarkdownContent:()=>Cy,serializeAttributes:()=>Ny});function Ey(t){if(!t?.trim())return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,h=>(n.push(h),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const h=i.map(g=>g.trim().slice(1));e.class=h.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const l=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(l)).forEach(([,h,g])=>{var y;const x=parseInt(((y=g.match(/__QUOTED_(\d+)__/))==null?void 0:y[1])||"0",10),v=n[x];v&&(e[h]=v.slice(1,-1))});const f=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return f&&f.split(/\s+/).filter(Boolean).forEach(g=>{g.match(/^[a-zA-Z][\w-]*$/)&&(e[g]=!0)}),e}function Ny(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function SP(t){const{nodeName:e,name:n,parseAttributes:r=Ey,serializeAttributes:i=Ny,defaultAttributes:o={},requiredAttributes:l=[],allowedAttributes:u}=t,f=n||e,h=g=>{if(!u)return g;const y={};return u.forEach(x=>{x in g&&(y[x]=g[x])}),y};return{parseMarkdown:(g,y)=>{const x={...o,...g.attributes};return y.createNode(e,x,[])},markdownTokenizer:{name:e,level:"block",start(g){var y;const x=new RegExp(`^:::${f}(?:\\s|$)`,"m"),v=(y=g.match(x))==null?void 0:y.index;return v!==void 0?v:-1},tokenize(g,y,x){const v=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),w=g.match(v);if(!w)return;const E=w[1]||"",k=r(E);if(!l.find(R=>!(R in k)))return{type:e,raw:w[0],attributes:k}}},renderMarkdown:g=>{const y=h(g.attrs||{}),x=i(y),v=x?` {${x}}`:"";return`:::${f}${v} :::`}}}function wP(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=Ey,serializeAttributes:o=Ny,defaultAttributes:l={},content:u="block",allowedAttributes:f}=t,h=n||e,g=y=>{if(!f)return y;const x={};return f.forEach(v=>{v in y&&(x[v]=y[v])}),x};return{parseMarkdown:(y,x)=>{let v;if(r){const E=r(y);v=typeof E=="string"?[{type:"text",text:E}]:E}else u==="block"?v=x.parseChildren(y.tokens||[]):v=x.parseInline(y.tokens||[]);const w={...l,...y.attributes};return x.createNode(e,w,v)},markdownTokenizer:{name:e,level:"block",start(y){var x;const v=new RegExp(`^:::${h}`,"m"),w=(x=y.match(v))==null?void 0:x.index;return w!==void 0?w:-1},tokenize(y,x,v){var w;const E=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),k=y.match(E);if(!k)return;const[C,R=""]=k,D=i(R);let $=1;const U=C.length;let Z="";const q=/^:::([\w-]*)(\s.*)?/gm,B=y.slice(U);for(q.lastIndex=0;;){const re=q.exec(B);if(re===null)break;const ce=re.index,we=re[1];if(!((w=re[2])!=null&&w.endsWith(":::"))){if(we)$+=1;else if($-=1,$===0){const Ne=B.slice(0,ce);Z=Ne.trim();const X=y.slice(0,U+ce+re[0].length);let F=[];if(Z)if(u==="block")for(F=v.blockTokens(Ne),F.forEach(P=>{P.text&&(!P.tokens||P.tokens.length===0)&&(P.tokens=v.inlineTokens(P.text))});F.length>0;){const P=F[F.length-1];if(P.type==="paragraph"&&(!P.text||P.text.trim()===""))F.pop();else break}else F=v.inlineTokens(Z);return{type:e,raw:X,attributes:D,content:Z,tokens:F}}}}}},renderMarkdown:(y,x)=>{const v=g(y.attrs||{}),w=o(v),E=w?` {${w}}`:"",k=x.renderChildren(y.content||[],`

`);return`:::${h}${E}

${k}

:::`}}}function kP(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,i,o,l]=r;e[i]=o||l,r=n.exec(t)}return e}function EP(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function NP(t){const{nodeName:e,name:n,getContent:r,parseAttributes:i=kP,serializeAttributes:o=EP,defaultAttributes:l={},selfClosing:u=!1,allowedAttributes:f}=t,h=n||e,g=x=>{if(!f)return x;const v={};return f.forEach(w=>{const E=typeof w=="string"?w:w.name,k=typeof w=="string"?void 0:w.skipIfDefault;if(E in x){const C=x[E];if(k!==void 0&&C===k)return;v[E]=C}}),v},y=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(x,v)=>{const w={...l,...x.attributes};if(u)return v.createNode(e,w);const E=r?r(x):x.content||"";return E?v.createNode(e,w,[v.createTextNode(E)]):v.createNode(e,w,[])},markdownTokenizer:{name:e,level:"inline",start(x){const v=u?new RegExp(`\\[${y}\\s*[^\\]]*\\]`):new RegExp(`\\[${y}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${y}\\]`),w=x.match(v),E=w?.index;return E!==void 0?E:-1},tokenize(x,v,w){const E=u?new RegExp(`^\\[${y}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${y}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${y}\\]`),k=x.match(E);if(!k)return;let C="",R="";if(u){const[,$]=k;R=$}else{const[,$,U]=k;R=$,C=U||""}const D=i(R.trim());return{type:e,raw:k[0],content:C.trim(),attributes:D}}},renderMarkdown:x=>{let v="";r?v=r(x):x.content&&x.content.length>0&&(v=x.content.filter(C=>C.type==="text").map(C=>C.text).join(""));const w=g(x.attrs||{}),E=o(w),k=E?` ${E}`:"";return u?`[${h}${k}]`:`[${h}${k}]${v}[/${h}]`}}}function xg(t,e,n){var r,i,o,l;const u=t.split(`
`),f=[];let h="",g=0;const y=e.baseIndentSize||2;for(;g<u.length;){const x=u[g],v=x.match(e.itemPattern);if(!v){if(f.length>0)break;if(x.trim()===""){g+=1,h=`${h}${x}
`;continue}else return}const w=e.extractItemData(v),{indentLevel:E,mainContent:k}=w;h=`${h}${x}
`;const C=[k];for(g+=1;g<u.length;){const U=u[g];if(U.trim()===""){const q=u.slice(g+1).findIndex(ce=>ce.trim()!=="");if(q===-1)break;if((((i=(r=u[g+1+q].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>E){C.push(U),h=`${h}${U}
`,g+=1;continue}else break}if((((l=(o=U.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:l.length)||0)>E)C.push(U),h=`${h}${U}
`,g+=1;else break}let R;const D=C.slice(1);if(D.length>0){const U=D.map(Z=>Z.slice(E+y)).join(`
`);U.trim()&&(e.customNestedParser?R=e.customNestedParser(U):R=n.blockTokens(U))}const $=e.createToken(w,R);f.push($)}if(f.length!==0)return{items:f,raw:h}}function Cy(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(r):n,[o,...l]=t.content,u=e.renderChildren([o]),f=[`${i}${u}`];return l&&l.length>0&&l.forEach(h=>{const g=e.renderChildren([h]);if(g){const y=g.split(`
`).map(x=>x?e.indent(x):"").join(`
`);f.push(y)}}),f.join(`
`)}function CP(t,e,n={}){const{state:r}=e,{doc:i,tr:o}=r,l=t;i.descendants((u,f)=>{const h=o.mapping.map(f),g=o.mapping.map(f)+u.nodeSize;let y=null;if(u.marks.forEach(v=>{if(v!==l)return!1;y=v}),!y)return;let x=!1;if(Object.keys(n).forEach(v=>{n[v]!==y.attrs[v]&&(x=!0)}),x){const v=t.type.create({...t.attrs,...n});o.removeMark(h,g,t.type),o.addMark(h,g,v)}}),o.docChanged&&e.view.dispatch(o)}var hn=class xC extends ky{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new xC(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function ei(t){return new oP({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=We(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:l}=e,u=r[r.length-1],f=r[0];let h=n.to;if(u){const g=f.search(/\S/),y=n.from+f.indexOf(u),x=y+u.length;if(wy(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(k=>k===t.type&&k!==w.mark.type)).filter(w=>w.to>y).length)return null;x<n.to&&l.delete(x,n.to),y>n.from&&l.delete(n.from+g,y),h=n.from+g+u.length,l.addMark(n.from+g,h,t.type.create(o||{})),l.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:TP,getOwnPropertySymbols:AP}=Object,{hasOwnProperty:MP}=Object.prototype;function Cm(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Fu(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,l=o.get(n),u=o.get(r);if(l&&u)return l===r&&u===n;o.set(n,r),o.set(r,n);const f=t(n,r,i);return o.delete(n),o.delete(r),f}}function OP(t){return t?.[Symbol.toStringTag]}function QS(t){return TP(t).concat(AP(t))}const _P=Object.hasOwn||((t,e)=>MP.call(t,e));function Zi(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const RP="__v",jP="__o",DP="_owner",{getOwnPropertyDescriptor:ZS,keys:ew}=Object;function LP(t,e){return t.byteLength===e.byteLength&&jd(new Uint8Array(t),new Uint8Array(e))}function IP(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function zP(t,e){return t.byteLength===e.byteLength&&jd(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function PP(t,e){return Zi(t.getTime(),e.getTime())}function BP(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function UP(t,e){return t===e}function tw(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let l,u,f=0;for(;(l=o.next())&&!l.done;){const h=e.entries();let g=!1,y=0;for(;(u=h.next())&&!u.done;){if(i[y]){y++;continue}const x=l.value,v=u.value;if(n.equals(x[0],v[0],f,y,t,e,n)&&n.equals(x[1],v[1],x[0],v[0],t,e,n)){g=i[y]=!0;break}y++}if(!g)return!1;f++}return!0}const HP=Zi;function VP(t,e,n){const r=ew(t);let i=r.length;if(ew(e).length!==i)return!1;for(;i-- >0;)if(!vC(t,e,n,r[i]))return!1;return!0}function yl(t,e,n){const r=QS(t);let i=r.length;if(QS(e).length!==i)return!1;let o,l,u;for(;i-- >0;)if(o=r[i],!vC(t,e,n,o)||(l=ZS(t,o),u=ZS(e,o),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function $P(t,e){return Zi(t.valueOf(),e.valueOf())}function qP(t,e){return t.source===e.source&&t.flags===e.flags}function nw(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let l,u;for(;(l=o.next())&&!l.done;){const f=e.values();let h=!1,g=0;for(;(u=f.next())&&!u.done;){if(!i[g]&&n.equals(l.value,u.value,l.value,u.value,t,e,n)){h=i[g]=!0;break}g++}if(!h)return!1}return!0}function jd(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function FP(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function vC(t,e,n,r){return(r===DP||r===jP||r===RP)&&(t.$$typeof||e.$$typeof)?!0:_P(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const GP="[object ArrayBuffer]",KP="[object Arguments]",WP="[object Boolean]",YP="[object DataView]",JP="[object Date]",XP="[object Error]",QP="[object Map]",ZP="[object Number]",e8="[object Object]",t8="[object RegExp]",n8="[object Set]",r8="[object String]",s8={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},i8="[object URL]",a8=Object.prototype.toString;function o8({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:l,areNumbersEqual:u,areObjectsEqual:f,arePrimitiveWrappersEqual:h,areRegExpsEqual:g,areSetsEqual:y,areTypedArraysEqual:x,areUrlsEqual:v,unknownTagComparators:w}){return function(k,C,R){if(k===C)return!0;if(k==null||C==null)return!1;const D=typeof k;if(D!==typeof C)return!1;if(D!=="object")return D==="number"?u(k,C,R):D==="function"?o(k,C,R):!1;const $=k.constructor;if($!==C.constructor)return!1;if($===Object)return f(k,C,R);if(Array.isArray(k))return e(k,C,R);if($===Date)return r(k,C,R);if($===RegExp)return g(k,C,R);if($===Map)return l(k,C,R);if($===Set)return y(k,C,R);const U=a8.call(k);if(U===JP)return r(k,C,R);if(U===t8)return g(k,C,R);if(U===QP)return l(k,C,R);if(U===n8)return y(k,C,R);if(U===e8)return typeof k.then!="function"&&typeof C.then!="function"&&f(k,C,R);if(U===i8)return v(k,C,R);if(U===XP)return i(k,C,R);if(U===KP)return f(k,C,R);if(s8[U])return x(k,C,R);if(U===GP)return t(k,C,R);if(U===YP)return n(k,C,R);if(U===WP||U===ZP||U===r8)return h(k,C,R);if(w){let Z=w[U];if(!Z){const q=OP(k);q&&(Z=w[q])}if(Z)return Z(k,C,R)}return!1}}function l8({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:LP,areArraysEqual:n?yl:IP,areDataViewsEqual:zP,areDatesEqual:PP,areErrorsEqual:BP,areFunctionsEqual:UP,areMapsEqual:n?Cm(tw,yl):tw,areNumbersEqual:HP,areObjectsEqual:n?yl:VP,arePrimitiveWrappersEqual:$P,areRegExpsEqual:qP,areSetsEqual:n?Cm(nw,yl):nw,areTypedArraysEqual:n?Cm(jd,yl):jd,areUrlsEqual:FP,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Fu(r.areArraysEqual),o=Fu(r.areMapsEqual),l=Fu(r.areObjectsEqual),u=Fu(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:u})}return r}function c8(t){return function(e,n,r,i,o,l,u){return t(e,n,u)}}function u8({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(u,f){const{cache:h=t?new WeakMap:void 0,meta:g}=n();return e(u,f,{cache:h,equals:r,meta:g,strict:i})};if(t)return function(u,f){return e(u,f,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(u,f){return e(u,f,o)}}const d8=oi();oi({strict:!0});oi({circular:!0});oi({circular:!0,strict:!0});oi({createInternalComparator:()=>Zi});oi({strict:!0,createInternalComparator:()=>Zi});oi({circular:!0,createInternalComparator:()=>Zi});oi({circular:!0,createInternalComparator:()=>Zi,strict:!0});function oi(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=l8(t),l=o8(o),u=n?n(l):c8(l);return u8({circular:e,comparator:l,createState:r,equals:u,strict:i})}var Tm={exports:{}},Am={};var rw;function f8(){if(rw)return Am;rw=1;var t=nc(),e=uE();function n(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,u=t.useMemo,f=t.useDebugValue;return Am.useSyncExternalStoreWithSelector=function(h,g,y,x,v){var w=o(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=u(function(){function C(Z){if(!R){if(R=!0,D=Z,Z=x(Z),v!==void 0&&E.hasValue){var q=E.value;if(v(q,Z))return $=q}return $=Z}if(q=$,r(D,Z))return q;var B=x(Z);return v!==void 0&&v(q,B)?(D=Z,q):(D=Z,$=B)}var R=!1,D,$,U=y===void 0?null:y;return[function(){return C(g())},U===null?void 0:function(){return C(U())}]},[g,y,x,v]);var k=i(h,w[0],w[1]);return l(function(){E.hasValue=!0,E.value=k},[k]),f(k),k},Am}var sw;function h8(){return sw||(sw=1,Tm.exports=f8()),Tm.exports}var p8=h8(),m8=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},g8=({contentComponent:t})=>{const e=dE.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return p.jsx(p.Fragment,{children:Object.values(e)})};function y8(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:nO.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}var b8=class extends qe.Component{constructor(t){var e;super(t),this.editorContentRef=qe.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=y8(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return p.jsxs(p.Fragment,{children:[p.jsx("div",{ref:m8(e,this.editorContentRef),...n}),t?.contentComponent&&p.jsx(g8,{contentComponent:t.contentComponent})]})}},x8=T.forwardRef((t,e)=>{const n=qe.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return qe.createElement(b8,{key:n,innerRef:e,...t})}),v8=qe.memo(x8),S8=typeof window<"u"?T.useLayoutEffect:T.useEffect,w8=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function k8(t){var e;const[n]=T.useState(()=>new w8(t.editor)),r=p8.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:d8);return S8(()=>n.watch(t.editor),[t.editor,n]),T.useDebugValue(r),r}var E8=!1,vg=typeof window>"u",N8=vg||!!(typeof window<"u"&&window.next),C8=class SC{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?vg||N8?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)==null?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)==null?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)==null?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)==null?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)==null?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)==null?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)==null?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)==null?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)==null?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)==null?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)==null?void 0:o.call(i,...r)},onDelete:(...r)=>{var i,o;return(o=(i=this.options.current).onDelete)==null?void 0:o.call(i,...r)}};return new gP(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,o)=>{var l;return i===((l=n.extensions)==null?void 0:l[o])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?SC.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function T8(t={},e=[]){const n=T.useRef(t);n.current=t;const[r]=T.useState(()=>new C8(n)),i=dE.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return T.useDebugValue(i),T.useEffect(r.onRender(e)),k8({editor:i,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),i}var A8=T.createContext({editor:null});A8.Consumer;var M8=T.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),O8=()=>T.useContext(M8);qe.forwardRef((t,e)=>{const{onDragStart:n}=O8(),r=t.as||"div";return p.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});qe.createContext({markViewContentRef:()=>{}});var Dd=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},_8=/^\s*>\s$/,R8=hn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Dd("blockquote",{...dt(this.options.HTMLAttributes,t),children:Dd("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(i=>{const u=e.renderChildren([i]).split(`
`).map(f=>f.trim()===""?n:`${n} ${f}`);r.push(u.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[co({find:_8,type:this.type})]}}),j8=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,D8=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,L8=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,I8=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,z8=rs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Dd("strong",{...dt(this.options.HTMLAttributes,t),children:Dd("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ji({find:j8,type:this.type}),Ji({find:L8,type:this.type})]},addPasteRules(){return[ei({find:D8,type:this.type}),ei({find:I8,type:this.type})]}}),P8=/(^|[^`])`([^`]+)`(?!`)$/,B8=/(^|[^`])`([^`]+)`(?!`)/g,U8=rs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",dt(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ji({find:P8,type:this.type})]},addPasteRules(){return[ei({find:B8,type:this.type})]}}),Mm=4,H8=/^```([a-z]+)?[\s\n]$/,V8=/^~~~([a-z]+)?[\s\n]$/,$8=hn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Mm,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(n)).map(l=>l.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",dt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Mm,{state:r}=t,{selection:i}=r,{$from:o,empty:l}=i;if(o.parent.type!==this.type)return!1;const u=" ".repeat(n);return l?t.commands.insertContent(u):t.commands.command(({tr:f})=>{const{from:h,to:g}=i,v=r.doc.textBetween(h,g,`
`,`
`).split(`
`).map(w=>u+w).join(`
`);return f.replaceWith(h,g,r.schema.text(v)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Mm,{state:r}=t,{selection:i}=r,{$from:o,empty:l}=i;return o.parent.type!==this.type?!1:l?t.commands.command(({tr:u})=>{var f;const{pos:h}=o,g=o.start(),y=o.end(),v=r.doc.textBetween(g,y,`
`,`
`).split(`
`);let w=0,E=0;const k=h-g;for(let Z=0;Z<v.length;Z+=1){if(E+v[Z].length>=k){w=Z;break}E+=v[Z].length+1}const R=((f=v[w].match(/^ */))==null?void 0:f[0])||"",D=Math.min(R.length,n);if(D===0)return!0;let $=g;for(let Z=0;Z<w;Z+=1)$+=v[Z].length+1;return u.delete($,$+D),h-$<=D&&u.setSelection(Ee.create(u.doc,$)),!0}):t.commands.command(({tr:u})=>{const{from:f,to:h}=i,x=r.doc.textBetween(f,h,`
`,`
`).split(`
`).map(v=>{var w;const E=((w=v.match(/^ */))==null?void 0:w[0])||"",k=Math.min(E.length,n);return v.slice(k)}).join(`
`);return u.replaceWith(f,h,r.schema.text(x)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!o||!l?!1:t.chain().command(({tr:u})=>(u.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const u=i.after();return u===void 0?!1:r.nodeAt(u)?t.commands.command(({tr:h})=>(h.setSelection(Re.near(r.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[bg({find:H8,type:this.type,getAttributes:t=>({language:t[1]})}),bg({find:V8,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new ft({key:new Tt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i?.mode;if(!n||!o)return!1;const{tr:l,schema:u}=t.state,f=u.text(n.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:o},f)),l.selection.$from.parent.type!==this.type&&l.setSelection(Ee.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),t.dispatch(l),!0}}})]}}),q8=hn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),F8=hn.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",dt(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:u}=r.extensionManager,f=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:h,dispatch:g})=>{if(g&&f&&l){const y=f.filter(x=>u.includes(x.type.name));h.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),G8=hn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,dt(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(r);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>bg({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),K8=hn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",dt(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!xP(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,i=t();return tC(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:o,tr:l,dispatch:u})=>{if(u){const{$to:f}=l.selection,h=f.end();if(f.nodeAfter)f.nodeAfter.isTextblock?l.setSelection(Ee.create(l.doc,f.pos+1)):f.nodeAfter.isBlock?l.setSelection(be.create(l.doc,f.pos)):l.setSelection(Ee.create(l.doc,f.pos));else{const g=o.schema.nodes[this.options.nextNodeType]||f.parent.type.contentMatch.defaultType,y=g?.create();y&&(l.insert(h,y),l.setSelection(Ee.create(l.doc,h+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[bC({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),W8=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Y8=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,J8=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,X8=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Q8=rs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ji({find:W8,type:this.type}),Ji({find:J8,type:this.type})]},addPasteRules(){return[ei({find:Y8,type:this.type}),ei({find:X8,type:this.type})]}});const Z8="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",eB="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Sg="numeric",wg="ascii",kg="alpha",jl="asciinumeric",Nl="alphanumeric",Eg="domain",wC="emoji",tB="scheme",nB="slashscheme",Om="whitespace";function rB(t,e){return t in e||(e[t]=[]),e[t]}function zi(t,e,n){e[Sg]&&(e[jl]=!0,e[Nl]=!0),e[wg]&&(e[jl]=!0,e[kg]=!0),e[jl]&&(e[Nl]=!0),e[kg]&&(e[Nl]=!0),e[Nl]&&(e[Eg]=!0),e[wC]&&(e[Eg]=!0);for(const r in e){const i=rB(r,n);i.indexOf(t)<0&&i.push(t)}}function sB(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function dn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}dn.groups={};dn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||dn.groups;let i;return e&&e.j?i=e:(i=new dn(e),n&&r&&zi(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const o=t.length;if(!o)return i;for(let l=0;l<o-1;l++)i=i.tt(t[l]);return i.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||dn.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let l,u=i.go(t);if(u?(l=new dn,Object.assign(l.j,u.j),l.jr.push.apply(l.jr,u.jr),l.jd=u.jd,l.t=u.t):l=new dn,o){if(r)if(l.t&&typeof l.t=="string"){const f=Object.assign(sB(l.t,r),n);zi(o,f,r)}else n&&zi(o,n,r);l.t=o}return i.j[t]=l,l}};const _e=(t,e,n,r,i)=>t.ta(e,n,r,i),mt=(t,e,n,r,i)=>t.tr(e,n,r,i),iw=(t,e,n,r,i)=>t.ts(e,n,r,i),se=(t,e,n,r,i)=>t.tt(e,n,r,i),Vr="WORD",Ng="UWORD",kC="ASCIINUMERICAL",EC="ALPHANUMERICAL",ec="LOCALHOST",Cg="TLD",Tg="UTLD",id="SCHEME",Ga="SLASH_SCHEME",Ty="NUM",Ag="WS",Ay="NL",Dl="OPENBRACE",Ll="CLOSEBRACE",Ld="OPENBRACKET",Id="CLOSEBRACKET",zd="OPENPAREN",Pd="CLOSEPAREN",Bd="OPENANGLEBRACKET",Ud="CLOSEANGLEBRACKET",Hd="FULLWIDTHLEFTPAREN",Vd="FULLWIDTHRIGHTPAREN",$d="LEFTCORNERBRACKET",qd="RIGHTCORNERBRACKET",Fd="LEFTWHITECORNERBRACKET",Gd="RIGHTWHITECORNERBRACKET",Kd="FULLWIDTHLESSTHAN",Wd="FULLWIDTHGREATERTHAN",Yd="AMPERSAND",Jd="APOSTROPHE",Xd="ASTERISK",Is="AT",Qd="BACKSLASH",Zd="BACKTICK",ef="CARET",Vs="COLON",My="COMMA",tf="DOLLAR",fr="DOT",nf="EQUALS",Oy="EXCLAMATION",Un="HYPHEN",Il="PERCENT",rf="PIPE",sf="PLUS",af="POUND",zl="QUERY",_y="QUOTE",NC="FULLWIDTHMIDDLEDOT",Ry="SEMI",hr="SLASH",Pl="TILDE",of="UNDERSCORE",CC="EMOJI",lf="SYM";var TC=Object.freeze({__proto__:null,ALPHANUMERICAL:EC,AMPERSAND:Yd,APOSTROPHE:Jd,ASCIINUMERICAL:kC,ASTERISK:Xd,AT:Is,BACKSLASH:Qd,BACKTICK:Zd,CARET:ef,CLOSEANGLEBRACKET:Ud,CLOSEBRACE:Ll,CLOSEBRACKET:Id,CLOSEPAREN:Pd,COLON:Vs,COMMA:My,DOLLAR:tf,DOT:fr,EMOJI:CC,EQUALS:nf,EXCLAMATION:Oy,FULLWIDTHGREATERTHAN:Wd,FULLWIDTHLEFTPAREN:Hd,FULLWIDTHLESSTHAN:Kd,FULLWIDTHMIDDLEDOT:NC,FULLWIDTHRIGHTPAREN:Vd,HYPHEN:Un,LEFTCORNERBRACKET:$d,LEFTWHITECORNERBRACKET:Fd,LOCALHOST:ec,NL:Ay,NUM:Ty,OPENANGLEBRACKET:Bd,OPENBRACE:Dl,OPENBRACKET:Ld,OPENPAREN:zd,PERCENT:Il,PIPE:rf,PLUS:sf,POUND:af,QUERY:zl,QUOTE:_y,RIGHTCORNERBRACKET:qd,RIGHTWHITECORNERBRACKET:Gd,SCHEME:id,SEMI:Ry,SLASH:hr,SLASH_SCHEME:Ga,SYM:lf,TILDE:Pl,TLD:Cg,UNDERSCORE:of,UTLD:Tg,UWORD:Ng,WORD:Vr,WS:Ag});const Ur=/[a-z]/,bl=new RegExp("\\p{L}","u"),_m=new RegExp("\\p{Emoji}","u"),Hr=/\d/,Rm=/\s/,aw="\r",jm=`
`,iB="",aB="",Dm="";let Gu=null,Ku=null;function oB(t=[]){const e={};dn.groups=e;const n=new dn;Gu==null&&(Gu=ow(Z8)),Ku==null&&(Ku=ow(eB)),se(n,"'",Jd),se(n,"{",Dl),se(n,"}",Ll),se(n,"[",Ld),se(n,"]",Id),se(n,"(",zd),se(n,")",Pd),se(n,"<",Bd),se(n,">",Ud),se(n,"",Hd),se(n,"",Vd),se(n,"",$d),se(n,"",qd),se(n,"",Fd),se(n,"",Gd),se(n,"",Kd),se(n,"",Wd),se(n,"&",Yd),se(n,"*",Xd),se(n,"@",Is),se(n,"`",Zd),se(n,"^",ef),se(n,":",Vs),se(n,",",My),se(n,"$",tf),se(n,".",fr),se(n,"=",nf),se(n,"!",Oy),se(n,"-",Un),se(n,"%",Il),se(n,"|",rf),se(n,"+",sf),se(n,"#",af),se(n,"?",zl),se(n,'"',_y),se(n,"/",hr),se(n,";",Ry),se(n,"~",Pl),se(n,"_",of),se(n,"\\",Qd),se(n,"",NC);const r=mt(n,Hr,Ty,{[Sg]:!0});mt(r,Hr,r);const i=mt(r,Ur,kC,{[jl]:!0}),o=mt(r,bl,EC,{[Nl]:!0}),l=mt(n,Ur,Vr,{[wg]:!0});mt(l,Hr,i),mt(l,Ur,l),mt(i,Hr,i),mt(i,Ur,i);const u=mt(n,bl,Ng,{[kg]:!0});mt(u,Ur),mt(u,Hr,o),mt(u,bl,u),mt(o,Hr,o),mt(o,Ur),mt(o,bl,o);const f=se(n,jm,Ay,{[Om]:!0}),h=se(n,aw,Ag,{[Om]:!0}),g=mt(n,Rm,Ag,{[Om]:!0});se(n,Dm,g),se(h,jm,f),se(h,Dm,g),mt(h,Rm,g),se(g,aw),se(g,jm),mt(g,Rm,g),se(g,Dm,g);const y=mt(n,_m,CC,{[wC]:!0});se(y,"#"),mt(y,_m,y),se(y,iB,y);const x=se(y,aB);se(x,"#"),mt(x,_m,y);const v=[[Ur,l],[Hr,i]],w=[[Ur,null],[bl,u],[Hr,o]];for(let E=0;E<Gu.length;E++)js(n,Gu[E],Cg,Vr,v);for(let E=0;E<Ku.length;E++)js(n,Ku[E],Tg,Ng,w);zi(Cg,{tld:!0,ascii:!0},e),zi(Tg,{utld:!0,alpha:!0},e),js(n,"file",id,Vr,v),js(n,"mailto",id,Vr,v),js(n,"http",Ga,Vr,v),js(n,"https",Ga,Vr,v),js(n,"ftp",Ga,Vr,v),js(n,"ftps",Ga,Vr,v),zi(id,{scheme:!0,ascii:!0},e),zi(Ga,{slashscheme:!0,ascii:!0},e),t=t.sort((E,k)=>E[0]>k[0]?1:-1);for(let E=0;E<t.length;E++){const k=t[E][0],R=t[E][1]?{[tB]:!0}:{[nB]:!0};k.indexOf("-")>=0?R[Eg]=!0:Ur.test(k)?Hr.test(k)?R[jl]=!0:R[wg]=!0:R[Sg]=!0,iw(n,k,k,R)}return iw(n,"localhost",ec,{ascii:!0}),n.jd=new dn(lf),{start:n,tokens:Object.assign({groups:e},TC)}}function AC(t,e){const n=lB(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=n.length,i=[];let o=0,l=0;for(;l<r;){let u=t,f=null,h=0,g=null,y=-1,x=-1;for(;l<r&&(f=u.go(n[l]));)u=f,u.accepts()?(y=0,x=0,g=u):y>=0&&(y+=n[l].length,x++),h+=n[l].length,o+=n[l].length,l++;o-=y,l-=x,h-=y,i.push({t:g.t,v:e.slice(o-h,o),s:o-h,e:o})}return i}function lB(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),o,l=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(l),r+=l.length}return e}function js(t,e,n,r,i){let o;const l=e.length;for(let u=0;u<l-1;u++){const f=e[u];t.j[f]?o=t.j[f]:(o=new dn(r),o.jr=i.slice(),t.j[f]=o),t=o}return o=new dn(n),o.jr=i.slice(),t.j[e[l-1]]=o,o}function ow(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let o=0;for(;i.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let l=parseInt(t.substring(r,r+o),10);l>0;l--)n.pop();r+=o}else n.push(t[r]),r++}return e}const tc={defaultProtocol:"http",events:null,format:lw,formatHref:lw,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function jy(t,e=null){let n=Object.assign({},tc);t&&(n=Object.assign(n,t instanceof jy?t.o:t));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}jy.prototype={o:tc,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:tc[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function lw(t){return t}function MC(t,e){this.t="token",this.v=t,this.tk=e}MC.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=tc.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),o=this.toFormattedString(t),l={},u=t.get("className",n,e),f=t.get("target",n,e),h=t.get("rel",n,e),g=t.getObj("attributes",n,e),y=t.getObj("events",n,e);return l.href=r,u&&(l.class=u),f&&(l.target=f),h&&(l.rel=h),g&&Object.assign(l,g),{tagName:i,attributes:l,content:o,eventListeners:y}}};function Of(t,e){class n extends MC{constructor(i,o){super(i,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const cw=Of("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),uw=Of("text"),cB=Of("nl"),Wu=Of("url",{isLink:!0,toHref(t=tc.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==ec&&t[1].t===Vs}}),Bn=t=>new dn(t);function uB({groups:t}){const e=t.domain.concat([Yd,Xd,Is,Qd,Zd,ef,tf,nf,Un,Ty,Il,rf,sf,af,hr,lf,Pl,of]),n=[Jd,Vs,My,fr,Oy,Il,zl,_y,Ry,Bd,Ud,Dl,Ll,Id,Ld,zd,Pd,Hd,Vd,$d,qd,Fd,Gd,Kd,Wd],r=[Yd,Jd,Xd,Qd,Zd,ef,tf,nf,Un,Dl,Ll,Il,rf,sf,af,zl,hr,lf,Pl,of],i=Bn(),o=se(i,Pl);_e(o,r,o),_e(o,t.domain,o);const l=Bn(),u=Bn(),f=Bn();_e(i,t.domain,l),_e(i,t.scheme,u),_e(i,t.slashscheme,f),_e(l,r,o),_e(l,t.domain,l);const h=se(l,Is);se(o,Is,h),se(u,Is,h),se(f,Is,h);const g=se(o,fr);_e(g,r,o),_e(g,t.domain,o);const y=Bn();_e(h,t.domain,y),_e(y,t.domain,y);const x=se(y,fr);_e(x,t.domain,y);const v=Bn(cw);_e(x,t.tld,v),_e(x,t.utld,v),se(h,ec,v);const w=se(y,Un);se(w,Un,w),_e(w,t.domain,y),_e(v,t.domain,y),se(v,fr,x),se(v,Un,w);const E=se(v,Vs);_e(E,t.numeric,cw);const k=se(l,Un),C=se(l,fr);se(k,Un,k),_e(k,t.domain,l),_e(C,r,o),_e(C,t.domain,l);const R=Bn(Wu);_e(C,t.tld,R),_e(C,t.utld,R),_e(R,t.domain,l),_e(R,r,o),se(R,fr,C),se(R,Un,k),se(R,Is,h);const D=se(R,Vs),$=Bn(Wu);_e(D,t.numeric,$);const U=Bn(Wu),Z=Bn();_e(U,e,U),_e(U,n,Z),_e(Z,e,U),_e(Z,n,Z),se(R,hr,U),se($,hr,U);const q=se(u,Vs),B=se(f,Vs),re=se(B,hr),ce=se(re,hr);_e(u,t.domain,l),se(u,fr,C),se(u,Un,k),_e(f,t.domain,l),se(f,fr,C),se(f,Un,k),_e(q,t.domain,U),se(q,hr,U),se(q,zl,U),_e(ce,t.domain,U),_e(ce,e,U),se(ce,hr,U);const we=[[Dl,Ll],[Ld,Id],[zd,Pd],[Bd,Ud],[Hd,Vd],[$d,qd],[Fd,Gd],[Kd,Wd]];for(let Ne=0;Ne<we.length;Ne++){const[X,F]=we[Ne],P=se(U,X);se(Z,X,P),se(P,F,U);const O=Bn(Wu);_e(P,e,O);const V=Bn();_e(P,n),_e(O,e,O),_e(O,n,V),_e(V,e,O),_e(V,n,V),se(O,F,U),se(V,F,U)}return se(i,ec,R),se(i,Ay,cB),{start:i,tokens:TC}}function dB(t,e,n){let r=n.length,i=0,o=[],l=[];for(;i<r;){let u=t,f=null,h=null,g=0,y=null,x=-1;for(;i<r&&!(f=u.go(n[i].t));)l.push(n[i++]);for(;i<r&&(h=f||u.go(n[i].t));)f=null,u=h,u.accepts()?(x=0,y=u):x>=0&&x++,i++,g++;if(x<0)i-=g,i<r&&(l.push(n[i]),i++);else{l.length>0&&(o.push(Lm(uw,e,l)),l=[]),i-=x,g-=x;const v=y.t,w=n.slice(i-g,i);o.push(Lm(v,e,w))}}return l.length>0&&o.push(Lm(uw,e,l)),o}function Lm(t,e,n){const r=n[0].s,i=n[n.length-1].e,o=e.slice(r,i);return new t(o,n)}const fB=typeof console<"u"&&console&&console.warn||(()=>{}),hB="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ot={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function pB(){return dn.groups={},ot.scanner=null,ot.parser=null,ot.tokenQueue=[],ot.pluginQueue=[],ot.customSchemes=[],ot.initialized=!1,ot}function dw(t,e=!1){if(ot.initialized&&fB(`linkifyjs: already initialized - will not register custom scheme "${t}" ${hB}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ot.customSchemes.push([t,e])}function mB(){ot.scanner=oB(ot.customSchemes);for(let t=0;t<ot.tokenQueue.length;t++)ot.tokenQueue[t][1]({scanner:ot.scanner});ot.parser=uB(ot.scanner.tokens);for(let t=0;t<ot.pluginQueue.length;t++)ot.pluginQueue[t][1]({scanner:ot.scanner,parser:ot.parser});return ot.initialized=!0,ot}function Dy(t){return ot.initialized||mB(),dB(ot.parser.start,t,AC(ot.scanner.start,t))}Dy.scan=AC;function OC(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new jy(n),i=Dy(t),o=[];for(let l=0;l<i.length;l++){const u=i[l];u.isLink&&(!e||u.t===e)&&r.check(u)&&o.push(u.toFormattedObject(r))}return o}var Ly="[\0- -\u2029]",gB=new RegExp(Ly),yB=new RegExp(`${Ly}$`),bB=new RegExp(Ly,"g");function xB(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function vB(t){return new ft({key:new Tt("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(h=>h.docChanged)&&!n.doc.eq(r.doc),o=e.some(h=>h.getMeta("preventAutolink"));if(!i||o)return;const{tr:l}=r,u=KN(n.doc,[...e]);if(eC(u).forEach(({newRange:h})=>{const g=b6(r.doc,h,v=>v.isTextblock);let y,x;if(g.length>1)y=g[0],x=r.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ");else if(g.length){const v=r.doc.textBetween(h.from,h.to," "," ");if(!yB.test(v))return;y=g[0],x=r.doc.textBetween(y.pos,h.to,void 0," ")}if(y&&x){const v=x.split(gB).filter(Boolean);if(v.length<=0)return!1;const w=v[v.length-1],E=y.pos+x.lastIndexOf(w);if(!w)return!1;const k=Dy(w).map(C=>C.toObject(t.defaultProtocol));if(!xB(k))return!1;k.filter(C=>C.isLink).map(C=>({...C,from:E+C.start+1,to:E+C.end+1})).filter(C=>r.schema.marks.code?!r.doc.rangeHasMark(C.from,C.to,r.schema.marks.code):!0).filter(C=>t.validate(C.value)).filter(C=>t.shouldAutoLink(C.value)).forEach(C=>{wy(C.from,C.to,r.doc).some(R=>R.mark.type===t.type)||l.addMark(C.from,C.to,t.type.create({href:C.href}))})}}),!!l.steps.length)return l}})}function SB(t){return new ft({key:new Tt("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,o;if(r.button!==0||!e.editable)return!1;let l=!1;if(t.enableClickSelection&&(l=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let u=null;if(r.target instanceof HTMLAnchorElement)u=r.target;else{let y=r.target;const x=[];for(;y.nodeName!=="DIV";)x.push(y),y=y.parentNode;u=x.find(v=>v.nodeName==="A")}if(!u)return l;const f=ZN(e.state,t.type.name),h=(i=u?.href)!=null?i:f.href,g=(o=u?.target)!=null?o:f.target;u&&h&&(window.open(h,g),l=!0)}return l}}})}function wB(t){return new ft({key:new Tt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:i}=t,{state:o}=e,{selection:l}=o,{empty:u}=l;if(u)return!1;let f="";r.content.forEach(g=>{f+=g.textContent});const h=OC(f,{defaultProtocol:t.defaultProtocol}).find(g=>g.isLink&&g.value===f);return!f||!h||i!==void 0&&!i(h.value)?!1:t.editor.commands.setMark(t.type,{href:h.href})}}})}function Oi(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(bB,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var _C=rs.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){dw(t);return}dw(t.scheme,t.optionalSlashes)})},onDestroy(){pB()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Oi(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const i=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(i)||!/\./.test(i))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Oi(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Oi(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",dt(this.options.HTMLAttributes,t),0]:["a",dt(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Oi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Oi(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ei({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,i=OC(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:l=>!!Oi(l,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&e.push({text:o.value,data:{href:o.href},index:o.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(vB({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Oi(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(SB({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(wB({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),kB=Object.defineProperty,EB=(t,e)=>{for(var n in e)kB(t,n,{get:e[n],enumerable:!0})},NB="listItem",fw="textStyle",hw=/^\s*([-+*])\s$/,RC=hn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",dt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(NB,this.editor.getAttributes(fw)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=co({find:hw,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=co({find:hw,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(fw),editor:this.editor})),[t]}}),jC=hn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",dt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const l=t.tokens.slice(1),u=e.parseChildren(l);n.push(...u)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>Cy(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),CB={};EB(CB,{findListItemPos:()=>gc,getNextListDepth:()=>Iy,handleBackspace:()=>Mg,handleDelete:()=>Og,hasListBefore:()=>DC,hasListItemAfter:()=>TB,hasListItemBefore:()=>LC,listItemHasSubList:()=>IC,nextListIsDeeper:()=>zC,nextListIsHigher:()=>PC});var gc=(t,e)=>{const{$from:n}=e.selection,r=Et(t,e.schema);let i=null,o=n.depth,l=n.pos,u=null;for(;o>0&&u===null;)i=n.node(o),i.type===r?u=o:(o-=1,l-=1);return u===null?null:{$pos:e.doc.resolve(l),depth:u}},Iy=(t,e)=>{const n=gc(t,e);if(!n)return!1;const[,r]=A6(e,t,n.$pos.pos+4);return r},DC=(t,e,n)=>{const{$anchor:r}=t.selection,i=Math.max(0,r.pos-2),o=t.doc.resolve(i).node();return!(!o||!n.includes(o.type.name))},LC=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},IC=(t,e,n)=>{if(!n)return!1;const r=Et(t,e.schema);let i=!1;return n.descendants(o=>{o.type===r&&(i=!0)}),i},Mg=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Zs(t.state,e)&&DC(t.state,e,n)){const{$anchor:u}=t.state.selection,f=t.state.doc.resolve(u.before()-1),h=[];f.node().descendants((x,v)=>{x.type.name===e&&h.push({node:x,pos:v})});const g=h.at(-1);if(!g)return!1;const y=t.state.doc.resolve(f.start()+g.pos+1);return t.chain().cut({from:u.start()-1,to:u.end()+1},y.end()).joinForward().run()}if(!Zs(t.state,e)||!R6(t.state))return!1;const r=gc(e,t.state);if(!r)return!1;const o=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=IC(e,t.state,o);return LC(e,t.state)&&!l?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},zC=(t,e)=>{const n=Iy(t,e),r=gc(t,e);return!r||!n?!1:n>r.depth},PC=(t,e)=>{const n=Iy(t,e),r=gc(t,e);return!r||!n?!1:n<r.depth},Og=(t,e)=>{if(!Zs(t.state,e)||!_6(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:zC(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():PC(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},TB=(t,e)=>{var n;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},BC=Ze.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Og(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&Og(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Mg(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&Mg(t,n,r)&&(e=!0)}),e}}}}),pw=/^(\s*)(\d+)\.\s+(.*)$/,AB=/^\s/;function MB(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n],o=i.match(pw);if(!o)break;const[,l,u,f]=o,h=l.length;let g=f,y=n+1;const x=[i];for(;y<t.length;){const v=t[y];if(v.match(pw))break;if(v.trim()==="")x.push(v),g+=`
`,y+=1;else if(v.match(AB))x.push(v),g+=`
${v.slice(h+2)}`,y+=1;else break}e.push({indent:h,number:parseInt(u,10),content:g.trim(),raw:x.join(`
`)}),r=y,n=y}return[e,r]}function UC(t,e,n){var r;const i=[];let o=0;for(;o<t.length;){const l=t[o];if(l.indent===e){const u=l.content.split(`
`),f=((r=u[0])==null?void 0:r.trim())||"",h=[];f&&h.push({type:"paragraph",raw:f,tokens:n.inlineTokens(f)});const g=u.slice(1).join(`
`).trim();if(g){const v=n.blockTokens(g);h.push(...v)}let y=o+1;const x=[];for(;y<t.length&&t[y].indent>e;)x.push(t[y]),y+=1;if(x.length>0){const v=Math.min(...x.map(E=>E.indent)),w=UC(x,v,n);h.push({type:"list",ordered:!0,start:x[0].number,items:w,raw:x.map(E=>E.raw).join(`
`)})}i.push({type:"list_item",raw:l.raw,tokens:h}),o=y}else o+=1}return i}function OB(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const o=e.parseChildren([i]);r.push({type:"paragraph",content:o})}else{const o=e.parseChildren([i]);o.length>0&&r.push(...o)}}),{type:"listItem",content:r}})}var _B="listItem",mw="textStyle",gw=/^(\d+)\.\s$/,HC=hn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",dt(this.options.HTMLAttributes,n),0]:["ol",dt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?OB(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const i=t.split(`
`),[o,l]=MB(i);if(o.length===0)return;const u=UC(o,0,n);return u.length===0?void 0:{type:"list",ordered:!0,start:((r=o[0])==null?void 0:r.number)||1,items:u,raw:i.slice(0,l).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(_B,this.editor.getAttributes(mw)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=co({find:gw,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=co({find:gw,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(mw)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),RB=/^\s*(\[([( |x])?\])\s$/,jB=hn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",dt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return Cy(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),l=document.createElement("span"),u=document.createElement("input"),f=document.createElement("div"),h=y=>{var x,v;u.ariaLabel=((v=(x=this.options.a11y)==null?void 0:x.checkboxLabel)==null?void 0:v.call(x,y,u.checked))||`Task item checkbox for ${y.textContent||"empty task item"}`};h(t),o.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",y=>y.preventDefault()),u.addEventListener("change",y=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:x}=y.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:v})=>{const w=n();if(typeof w!="number")return!1;const E=v.doc.nodeAt(w);return v.setNodeMarkup(w,void 0,{...E?.attrs,checked:x}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,x)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([y,x])=>{i.setAttribute(y,x)}),i.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,o.append(u,l),i.append(o,f),Object.entries(e).forEach(([y,x])=>{i.setAttribute(y,x)});let g=new Set(Object.keys(e));return{dom:i,contentDOM:f,update:y=>{if(y.type!==this.type)return!1;i.dataset.checked=y.attrs.checked,u.checked=y.attrs.checked,h(y);const x=r.extensionManager.attributes,v=Zl(y,x),w=new Set(Object.keys(v)),E=this.options.HTMLAttributes;return g.forEach(k=>{w.has(k)||(k in E?i.setAttribute(k,E[k]):i.removeAttribute(k))}),Object.entries(v).forEach(([k,C])=>{C==null?k in E?i.setAttribute(k,E[k]):i.removeAttribute(k):i.setAttribute(k,C)}),g=w,!0}}}},addInputRules(){return[co({find:RB,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),DB=hn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",dt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=o=>{const l=xg(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,f)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:n.inlineTokens(u.mainContent),nestedTokens:f}),customNestedParser:r},n);return l?[{type:"taskList",raw:l.raw,items:l.items}]:n.blockTokens(o)},i=xg(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,l)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:l}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Ze.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(RC.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(jC.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(BC.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(HC.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(jB.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(DB.configure(this.options.taskList)),t}});var LB=hn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",dt(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),IB=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,zB=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,PB=rs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",dt(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ji({find:IB,type:this.type})]},addPasteRules(){return[ei({find:zB,type:this.type})]}}),BB=hn.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),VC=rs.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",dt(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function UB(t={}){return new ft({view(e){return new HB(e,t)}})}class HB{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=l=>{this[i](l)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),l=o.width/i.offsetWidth,u=o.height/i.offsetHeight;if(n){let y=e.nodeBefore,x=e.nodeAfter;if(y||x){let v=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(v){let w=v.getBoundingClientRect(),E=y?w.bottom:w.top;y&&x&&(E=(E+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let k=this.width/2*u;r={left:w.left,right:w.right,top:E-k,bottom:E+k}}}}if(!r){let y=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*l;r={left:y.left-x,right:y.left+x,top:y.top,bottom:y.bottom}}let f=this.editorView.dom.offsetParent;this.element||(this.element=f.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let h,g;if(!f||f==document.body&&getComputedStyle(f).position=="static")h=-pageXOffset,g=-pageYOffset;else{let y=f.getBoundingClientRect(),x=y.width/f.offsetWidth,v=y.height/f.offsetHeight;h=y.left-f.scrollLeft*x,g=y.top-f.scrollTop*v}this.element.style.left=(r.left-h)/l+"px",this.element.style.top=(r.top-g)/u+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=PE(this.editorView.state.doc,l,this.editorView.dragging.slice);u!=null&&(l=u)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class gt extends Re{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return gt.valid(r)?new gt(r):Re.near(r)}content(){return oe.empty}eq(e){return e instanceof gt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new gt(e.resolve(n.pos))}getBookmark(){return new zy(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!VB(e)||!$B(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&gt.valid(e))return e;let i=e.pos,o=null;for(let l=e.depth;;l--){let u=e.node(l);if(n>0?e.indexAfter(l)<u.childCount:e.index(l)>0){o=u.child(n>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;i+=n;let f=e.doc.resolve(i);if(gt.valid(f))return f}for(;;){let l=n>0?o.firstChild:o.lastChild;if(!l){if(o.isAtom&&!o.isText&&!be.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=l,i+=n;let u=e.doc.resolve(i);if(gt.valid(u))return u}return null}}}gt.prototype.visible=!1;gt.findFrom=gt.findGapCursorFrom;Re.jsonID("gapcursor",gt);class zy{constructor(e){this.pos=e}map(e){return new zy(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return gt.valid(n)?new gt(n):Re.near(n)}}function $C(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function VB(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||$C(i.type))return!0;if(i.inlineContent)return!1}}return!0}function $B(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||$C(i.type))return!0;if(i.inlineContent)return!1}}return!0}function qB(){return new ft({props:{decorations:WB,createSelectionBetween(t,e,n){return e.pos==n.pos&&gt.valid(n)?new gt(n):null},handleClick:GB,handleKeyDown:FB,handleDOMEvents:{beforeinput:KB}}})}const FB=BN({ArrowLeft:Yu("horiz",-1),ArrowRight:Yu("horiz",1),ArrowUp:Yu("vert",-1),ArrowDown:Yu("vert",1)});function Yu(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let l=r.selection,u=e>0?l.$to:l.$from,f=l.empty;if(l instanceof Ee){if(!o.endOfTextblock(n)||u.depth==0)return!1;f=!1,u=r.doc.resolve(e>0?u.after():u.before())}let h=gt.findGapCursorFrom(u,e,f);return h?(i&&i(r.tr.setSelection(new gt(h))),!0):!1}}function GB(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!gt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&be.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new gt(r))),!0)}function KB(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof gt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=ne.empty;for(let l=r.length-1;l>=0;l--)i=ne.from(r[l].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new oe(i,0,0));return o.setSelection(Ee.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function WB(t){if(!(t.selection instanceof gt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ut.create(t.doc,[Qt.widget(t.selection.head,e,{key:"gapcursor"})])}var cf=200,jt=function(){};jt.prototype.append=function(e){return e.length?(e=jt.from(e),!this.length&&e||e.length<cf&&this.leafAppend(e)||this.length<cf&&e.leafPrepend(this)||this.appendInner(e)):this};jt.prototype.prepend=function(e){return e.length?jt.from(e).append(this):this};jt.prototype.appendInner=function(e){return new YB(this,e)};jt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?jt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};jt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};jt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};jt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,l){return i.push(e(o,l))},n,r),i};jt.from=function(e){return e instanceof jt?e:e&&e.length?new qC(e):jt.empty};var qC=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,l,u){for(var f=o;f<l;f++)if(i(this.values[f],u+f)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,l,u){for(var f=o-1;f>=l;f--)if(i(this.values[f],u+f)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=cf)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=cf)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(jt);jt.empty=new qC([]);var YB=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,l){var u=this.left.length;if(i<u&&this.left.forEachInner(r,i,Math.min(o,u),l)===!1||o>u&&this.right.forEachInner(r,Math.max(i-u,0),Math.min(this.length,o)-u,l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,l){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(r,i-u,Math.max(o,u)-u,l+u)===!1||o<u&&this.left.forEachInvertedInner(r,Math.min(i,u),o,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(jt);const JB=500;class tr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let l=e.tr,u,f,h=[],g=[];return this.items.forEach((y,x)=>{if(!y.step){i||(i=this.remapping(r,x+1),o=i.maps.length),o--,g.push(y);return}if(i){g.push(new pr(y.map));let v=y.step.map(i.slice(o)),w;v&&l.maybeStep(v).doc&&(w=l.mapping.maps[l.mapping.maps.length-1],h.push(new pr(w,void 0,void 0,h.length+g.length))),o--,w&&i.appendMap(w,o)}else l.maybeStep(y.step);if(y.selection)return u=i?y.selection.map(i.slice(o)):y.selection,f=new tr(this.items.slice(0,r).append(g.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:l,selection:u}}addTransform(e,n,r,i){let o=[],l=this.eventCount,u=this.items,f=!i&&u.length?u.get(u.length-1):null;for(let g=0;g<e.steps.length;g++){let y=e.steps[g].invert(e.docs[g]),x=new pr(e.mapping.maps[g],y,n),v;(v=f&&f.merge(x))&&(x=v,g?o.pop():u=u.slice(0,u.length-1)),o.push(x),n&&(l++,n=void 0),i||(f=x)}let h=l-r.depth;return h>QB&&(u=XB(u,h),l-=h),new tr(u.append(o),l)}remapping(e,n){let r=new Kl;return this.items.forEach((i,o)=>{let l=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new tr(this.items.append(e.map(n=>new pr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,l=e.steps.length,u=this.eventCount;this.items.forEach(x=>{x.selection&&u--},i);let f=n;this.items.forEach(x=>{let v=o.getMirror(--f);if(v==null)return;l=Math.min(l,v);let w=o.maps[v];if(x.step){let E=e.steps[v].invert(e.docs[v]),k=x.selection&&x.selection.map(o.slice(f+1,v));k&&u++,r.push(new pr(w,E,k))}else r.push(new pr(w))},i);let h=[];for(let x=n;x<l;x++)h.push(new pr(o.maps[x]));let g=this.items.slice(0,i).append(h).append(r),y=new tr(g,u);return y.emptyItemCount()>JB&&(y=y.compress(this.items.length-r.length)),y}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((l,u)=>{if(u>=e)i.push(l),l.selection&&o++;else if(l.step){let f=l.step.map(n.slice(r)),h=f&&f.getMap();if(r--,h&&n.appendMap(h,r),f){let g=l.selection&&l.selection.map(n.slice(r));g&&o++;let y=new pr(h.invert(),f,g),x,v=i.length-1;(x=i.length&&i[v].merge(y))?i[v]=x:i.push(y)}}else l.map&&r--},this.items.length,0),new tr(jt.from(i.reverse()),o)}}tr.empty=new tr(jt.empty,0);function XB(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class pr{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new pr(n.getMap().invert(),n,this.selection)}}}class zs{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const QB=20;function ZB(t,e,n,r){let i=n.getMeta(Vi),o;if(i)return i.historyState;n.getMeta(nU)&&(t=new zs(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(Vi))return l.getMeta(Vi).redo?new zs(t.done.addTransform(n,void 0,r,ad(e)),t.undone,yw(n.mapping.maps),t.prevTime,t.prevComposition):new zs(t.done,t.undone.addTransform(n,void 0,r,ad(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),f=t.prevTime==0||!l&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-r.newGroupDelay||!eU(n,t.prevRanges)),h=l?Im(t.prevRanges,n.mapping):yw(n.mapping.maps);return new zs(t.done.addTransform(n,f?e.selection.getBookmark():void 0,r,ad(e)),tr.empty,h,n.time,u??t.prevComposition)}else return(o=n.getMeta("rebased"))?new zs(t.done.rebased(n,o),t.undone.rebased(n,o),Im(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new zs(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Im(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function eU(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function yw(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,l)=>e.push(o,l));return e}function Im(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function tU(t,e,n){let r=ad(e),i=Vi.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let l=o.selection.resolve(o.transform.doc),u=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),f=new zs(n?u:o.remaining,n?o.remaining:u,null,0,-1);return o.transform.setSelection(l).setMeta(Vi,{redo:n,historyState:f})}let zm=!1,bw=null;function ad(t){let e=t.plugins;if(bw!=e){zm=!1,bw=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){zm=!0;break}}return zm}const Vi=new Tt("history"),nU=new Tt("closeHistory");function rU(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new ft({key:Vi,state:{init(){return new zs(tr.empty,tr.empty,null,0,-1)},apply(e,n,r){return ZB(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?GC:r=="historyRedo"?KC:null;return!i||!e.editable?!1:(n.preventDefault(),i(e.state,e.dispatch))}}}})}function FC(t,e){return(n,r)=>{let i=Vi.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=tU(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const GC=FC(!1,!0),KC=FC(!0,!0);Ze.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new ft({key:new Tt("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const o=this.storage.characters({node:r.doc});if(o>i){const l=o-i,u=0,f=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const h=r.tr.deleteRange(u,f);return t=!0,h}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=r||i>r&&o>r&&o<=i)return!0;if(i>r&&o>r&&o>i||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,f=o-r,h=u-f,g=u;return e.deleteRange(h,g),!(this.storage.characters({node:e.doc})>r)}})]}});var sU=Ze.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[UB(this.options)]}});Ze.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new ft({key:new Tt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,o=[];if(!n||!r)return ut.create(t,[]);let l=0;this.options.mode==="deepest"&&t.descendants((f,h)=>{if(f.isText)return;if(!(i>=h&&i<=h+f.nodeSize-1))return!1;l+=1});let u=0;return t.descendants((f,h)=>{if(f.isText||!(i>=h&&i<=h+f.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&l-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";o.push(Qt.node(h,h+f.nodeSize,{class:this.options.className}))}),ut.create(t,o)}}})]}});var iU=Ze.create({name:"gapCursor",addProseMirrorPlugins(){return[qB()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=We(ge(t,"allowGapCursor",n)))!=null?e:null}}});Ze.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new ft({key:new Tt("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants((l,u)=>{const f=r>=u&&r<=u+l.nodeSize,h=!l.isLeaf&&Tf(l);if((f||!this.options.showOnlyCurrent)&&h){const g=[this.options.emptyNodeClass];o&&g.push(this.options.emptyEditorClass);const y=Qt.node(u,u+l.nodeSize,{class:g.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:u,hasAnchor:f}):this.options.placeholder});i.push(y)}return this.options.includeChildren}),ut.create(t,i)}}})]}});Ze.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new ft({key:new Tt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||tC(n.selection)||t.view.dragging?null:ut.create(n.doc,[Qt.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function xw({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var aU=Ze.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Tt(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new ft({key:e,appendTransaction:(i,o,l)=>{const{doc:u,tr:f,schema:h}=l,g=e.getState(l),y=u.content.size,x=h.nodes[n];if(g)return f.insert(y,x.create())},state:{init:(i,o)=>{const l=o.tr.doc.lastChild;return!xw({node:l,types:r})},apply:(i,o)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return o;const l=i.doc.lastChild;return!xw({node:l,types:r})}}})]}}),oU=Ze.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>GC(t,e),redo:()=>({state:t,dispatch:e})=>KC(t,e)}},addProseMirrorPlugins(){return[rU(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),lU=Ze.create({name:"starterKit",addExtensions(){var t,e,n,r;const i=[];return this.options.bold!==!1&&i.push(z8.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(R8.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(RC.configure(this.options.bulletList)),this.options.code!==!1&&i.push(U8.configure(this.options.code)),this.options.codeBlock!==!1&&i.push($8.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(q8.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(sU.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(iU.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(F8.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(G8.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(oU.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(K8.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(Q8.configure(this.options.italic)),this.options.listItem!==!1&&i.push(jC.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(BC.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(_C.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(HC.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(LB.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(PB.configure(this.options.strike)),this.options.text!==!1&&i.push(BB.configure(this.options.text)),this.options.underline!==!1&&i.push(VC.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(aU.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),cU=lU,uU=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,dU=hn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",dt(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,r,i,o,l;const u=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",f=(i=(r=t.attrs)==null?void 0:r.alt)!=null?i:"",h=(l=(o=t.attrs)==null?void 0:o.title)!=null?l:"";return h?`![${f}](${u} "${h}")`:`![${f}](${u})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:i,getPos:o,HTMLAttributes:l,editor:u})=>{const f=document.createElement("img");Object.entries(l).forEach(([y,x])=>{if(x!=null)switch(y){case"width":case"height":break;default:f.setAttribute(y,x);break}}),f.src=l.src;const h=new bP({element:f,editor:u,node:i,getPos:o,onResize:(y,x)=>{f.style.width=`${y}px`,f.style.height=`${x}px`},onCommit:(y,x)=>{const v=o();v!==void 0&&this.editor.chain().setNodeSelection(v).updateAttributes(this.name,{width:y,height:x}).run()},onUpdate:(y,x,v)=>y.type===i.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:r===!0}}),g=h.dom;return g.style.visibility="hidden",g.style.pointerEvents="none",f.onload=()=>{g.style.visibility="",g.style.pointerEvents=""},h}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[bC({find:uU,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),fU=Ze.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).some(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),hU=20,WC=(t,e=0)=>{const n=[];return!t.children.length||e>hU||Array.from(t.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...WC(r,e+1))}),n},pU=t=>{if(!t.children.length)return;const e=WC(t);e&&e.forEach(n=>{var r,i;const o=n.getAttribute("style"),l=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${l};${o}`)})},YC=rs.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&pU(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(o=>!!o))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),mU=Ze.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const o=r[i].split(":");if(o.length>=2){const l=o[0].trim().toLowerCase(),u=o.slice(1).join(":").trim();if(l==="background-color")return u.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),JC=Ze.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const n=t.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const o=r[i].split(":");if(o.length>=2){const l=o[0].trim().toLowerCase(),u=o.slice(1).join(":").trim();if(l==="color")return u.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),gU=Ze.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),yU=Ze.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),bU=Ze.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Ze.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(mU.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(JC.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(gU.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(yU.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(bU.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(YC.configure(this.options.textStyle)),t}});var xU=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,vU=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,SU=rs.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",dt(this.options.HTMLAttributes,t),0]},renderMarkdown:(t,e)=>`==${e.renderChildren(t)}==`,parseMarkdown:(t,e)=>e.applyMark("highlight",e.parseInline(t.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:t=>t.indexOf("=="),tokenize(t,e,n){const i=/^(==)([^=]+)(==)/.exec(t);if(i){const o=i[2].trim(),l=n.inlineTokens(o);return{type:"highlight",raw:i[0],text:o,tokens:l}}}},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Ji({find:xU,type:this.type})]},addPasteRules(){return[ei({find:vU,type:this.type})]}});const wU=({editor:t})=>{if(!t)return null;const e=()=>{const n=window.prompt("Enter URL:");n&&t.chain().focus().setLink({href:n}).run()};return p.jsxs("div",{className:"border border-border rounded-t-lg bg-background p-2 flex flex-wrap gap-1 sticky top-16 z-10 shadow-md",children:[p.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("bold")?"bg-accent/20":""}`,title:"Bold",type:"button",children:p.jsx(w3,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("italic")?"bg-accent/20":""}`,title:"Italic",type:"button",children:p.jsx(iD,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleUnderline().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("underline")?"bg-accent/20":""}`,title:"Underline",type:"button",children:p.jsx(s4,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleStrike().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("strike")?"bg-accent/20":""}`,title:"Strikethrough",type:"button",children:p.jsx($D,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleCode().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("code")?"bg-accent/20":""}`,title:"Code",type:"button",children:p.jsx(L3,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleHighlight().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("highlight")?"bg-accent/20":""}`,title:"Highlight",type:"button",children:p.jsx(nD,{size:18})}),p.jsx("div",{className:"w-px h-6 bg-border mx-1"}),p.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("heading",{level:1})?"bg-accent/20":""}`,title:"Heading 1",type:"button",children:p.jsx(J3,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("heading",{level:2})?"bg-accent/20":""}`,title:"Heading 2",type:"button",children:p.jsx(Q3,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("heading",{level:3})?"bg-accent/20":""}`,title:"Heading 3",type:"button",children:p.jsx(eD,{size:18})}),p.jsx("div",{className:"w-px h-6 bg-border mx-1"}),p.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("bulletList")?"bg-accent/20":""}`,title:"Bullet List",type:"button",children:p.jsx(pD,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("orderedList")?"bg-accent/20":""}`,title:"Numbered List",type:"button",children:p.jsx(fD,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive("blockquote")?"bg-accent/20":""}`,title:"Quote",type:"button",children:p.jsx(_D,{size:18})}),p.jsx("div",{className:"w-px h-6 bg-border mx-1"}),p.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("left").run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive({textAlign:"left"})?"bg-accent/20":""}`,title:"Align Left",type:"button",children:p.jsx(QD,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("center").run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive({textAlign:"center"})?"bg-accent/20":""}`,title:"Align Center",type:"button",children:p.jsx(GD,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("right").run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive({textAlign:"right"})?"bg-accent/20":""}`,title:"Align Right",type:"button",children:p.jsx(WD,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("justify").run(),className:`p-2 rounded hover:bg-accent/10 ${t.isActive({textAlign:"justify"})?"bg-accent/20":""}`,title:"Justify",type:"button",children:p.jsx(JD,{size:18})}),p.jsx("div",{className:"w-px h-6 bg-border mx-1"}),p.jsx("button",{onClick:e,className:`p-2 rounded hover:bg-accent/10 ${t.isActive("link")?"bg-accent/20":""}`,title:"Add Link",type:"button",children:p.jsx(cD,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),className:"p-2 rounded hover:bg-accent/10",title:"Horizontal Line",type:"button",children:p.jsx(ND,{size:18})}),p.jsx("div",{className:"w-px h-6 bg-border mx-1"}),p.jsx("button",{onClick:()=>t.chain().focus().undo().run(),className:"p-2 rounded hover:bg-accent/10",disabled:!t.can().undo(),title:"Undo",type:"button",children:p.jsx(a4,{size:18})}),p.jsx("button",{onClick:()=>t.chain().focus().redo().run(),className:"p-2 rounded hover:bg-accent/10",disabled:!t.can().redo(),title:"Redo",type:"button",children:p.jsx(jD,{size:18})})]})},kU=({content:t,onChange:e})=>{const n=T8({extensions:[cU,VC,YC,JC,SU.configure({multicolor:!0}),_C.configure({openOnClick:!1,HTMLAttributes:{class:"text-accent underline cursor-pointer"}}),dU.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg"}}),fU.configure({types:["heading","paragraph"]})],content:t,onUpdate:({editor:r})=>{e(r.getHTML())},editorProps:{attributes:{class:"prose prose-lg max-w-none focus:outline-none min-h-[400px] p-4"}}});return p.jsxs("div",{className:"w-full",children:[p.jsx(wU,{editor:n}),p.jsx("div",{className:"border border-t-0 border-border rounded-b-lg bg-background max-h-[600px] overflow-y-auto",children:p.jsx(v8,{editor:n})}),p.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Use the toolbar to format your content. You can add headings, lists, links, images, and more."})]})},vw=()=>{const{id:t}=Dw(),e=Xi(),{posts:n,addPost:r,updatePost:i,getPost:o}=yo(),l=!!t,[u,f]=T.useState({title:"",content:"",authorName:"The Scholars Page",tags:[],isPublished:!0,category:"",applyLink:"",officialLink:""}),[h,g]=T.useState(""),[y,x]=T.useState(""),[v,w]=T.useState(!1),[E,k]=T.useState(!1);T.useEffect(()=>{document.title=l?"Edit Post - The Scholars Page":"Create New Post - The Scholars Page"},[l]);const[C,R]=T.useState({isOpen:!1,type:"info",title:"",message:""});T.useEffect(()=>{(async()=>{if(l){k(!0);const re=n.find(ce=>(ce._id||ce.id)===t);if(re){const ce=["Scholarship","Internship","Research","Fellowship","Conference","Job","Workshop"],we=re.category&&!ce.includes(re.category);f({title:re.title||"",content:re.content||"",authorName:re.authorName||"Admin",tags:re.tags||[],isPublished:re.isPublished??!0,category:we?"Others":re.category||"",applyLink:re.applyLink||"",officialLink:re.officialLink||""}),we&&x(re.category)}else{const ce=await o(t);if(ce.success){const we=ce.data,Ne=["Scholarship","Internship","Research","Fellowship","Conference","Job","Workshop"],X=we.category&&!Ne.includes(we.category);f({title:we.title||"",content:we.content||"",authorName:we.authorName||"Admin",tags:we.tags||[],isPublished:we.isPublished??!0,category:X?"Others":we.category||"",applyLink:we.applyLink||"",officialLink:we.officialLink||""}),X&&x(we.category)}else R({isOpen:!0,type:"error",title:"Error",message:"Post not found!"}),setTimeout(()=>e("/admin"),10500)}k(!1)}})()},[t,l]);const D=B=>{const{name:re,value:ce,type:we,checked:Ne}=B.target;re==="category"&&ce!=="Others"&&x(""),f(X=>({...X,[re]:we==="checkbox"?Ne:ce}))},$=B=>{B.preventDefault();const re=h.trim();re&&!u.tags.includes(re)&&(f(ce=>({...ce,tags:[...ce.tags,re]})),g(""))},U=B=>{f(re=>({...re,tags:re.tags.filter(ce=>ce!==B)}))},Z=B=>{B.key==="Enter"&&(B.preventDefault(),$(B))},q=async B=>{B.preventDefault(),w(!0);const re={title:u.title,content:u.content,authorName:u.authorName,tags:u.tags,isPublished:u.isPublished,category:u.category==="Others"?y:u.category,applyLink:u.applyLink,officialLink:u.officialLink};try{if(l){const ce=await i(t,re);ce.success?e("/admin"):R({isOpen:!0,type:"error",title:"Error",message:"Failed to update post: "+ce.error})}else{const ce=await r(re);ce.success?e("/admin"):R({isOpen:!0,type:"error",title:"Error",message:"Failed to create post: "+ce.error})}}catch(ce){R({isOpen:!0,type:"error",title:"Error",message:"An error occurred: "+ce.message})}finally{w(!1)}};return E?p.jsx("div",{className:"flex justify-center items-center py-20",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent"})}):p.jsxs("div",{className:"max-w-3xl mx-auto pb-20 animate-in slide-in-from-bottom-2",children:[p.jsx(cE,{isOpen:C.isOpen,onClose:()=>R({isOpen:!1,type:"info",title:"",message:""}),title:C.title,message:C.message,type:C.type}),p.jsx(xL,{isOpen:v,title:l?"Updating Post":"Creating Post",message:l?"Please wait while we update your post.":"Please wait while we create your post."}),p.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[p.jsxs(ke,{variant:"ghost",onClick:()=>e("/admin"),className:"pl-0",children:[p.jsx(Jg,{className:"mr-2 h-4 w-4"})," Back to Dashboard"]}),p.jsx("h1",{className:"text-2xl font-serif font-medium",children:l?"Edit Post":"New Post"})]}),p.jsxs("form",{onSubmit:q,className:"space-y-8",children:[p.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4 text-sm text-blue-800 dark:text-blue-200",children:p.jsxs("p",{children:[p.jsx("strong",{children:"Note:"})," Post content is saved as-is in whatever language you write. The language switcher only affects UI elements (buttons, navigation, etc.), not the post content."]})}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6 bg-surface/40 backdrop-blur-xl border border-border/50 p-6 rounded-2xl shadow-2xl shadow-black/30",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Author"}),p.jsx(Ht,{name:"authorName",value:u.authorName,onChange:D,disabled:l,className:l?"opacity-60 cursor-not-allowed":""})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),p.jsxs("select",{name:"category",value:u.category,onChange:D,className:"w-full pl-3 pr-12 py-2 bg-background border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent appearance-none bg-no-repeat bg-[length:1.5em_1.5em] bg-[center_right_0.5rem]",style:{backgroundImage:`url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e")`},children:[p.jsx("option",{value:"",children:"Select a category"}),p.jsx("option",{value:"Scholarship",children:"Scholarship"}),p.jsx("option",{value:"Internship",children:"Internship"}),p.jsx("option",{value:"Research",children:"Research"}),p.jsx("option",{value:"Fellowship",children:"Fellowship"}),p.jsx("option",{value:"Conference",children:"Conference"}),p.jsx("option",{value:"Job",children:"Job"}),p.jsx("option",{value:"Workshop",children:"Workshop"}),p.jsx("option",{value:"Others",children:"Others"})]}),u.category==="Others"&&p.jsx(Ht,{name:"customCategory",value:y,onChange:B=>x(B.target.value),placeholder:"Enter custom category",className:"mt-2"})]}),p.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[p.jsx("input",{type:"checkbox",id:"isPublished",name:"isPublished",checked:u.isPublished,onChange:D,className:"w-4 h-4 accent-accent"}),p.jsx("label",{htmlFor:"isPublished",className:"text-sm font-medium",children:"Publish immediately"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Apply Link"}),p.jsx(Ht,{name:"applyLink",value:u.applyLink,onChange:D,placeholder:"https://..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium mb-1",children:"Official Link"}),p.jsx(Ht,{name:"officialLink",value:u.officialLink,onChange:D,placeholder:"https://..."})]})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Post Title"}),p.jsx(Ht,{name:"title",value:u.title,onChange:D,placeholder:"Enter post title in any language",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Tags"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Ht,{value:h,onChange:B=>g(B.target.value),onKeyDown:Z,placeholder:"Add a tag and press Enter"}),p.jsx(ke,{type:"button",onClick:$,variant:"outline",children:"Add"})]}),u.tags.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:u.tags.map((B,re)=>p.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-accent/10 text-accent border border-accent/20 rounded-full text-sm font-medium",children:[B,p.jsx("button",{type:"button",onClick:()=>U(B),className:"ml-1 hover:bg-accent/20 rounded-full p-0.5 transition-colors",children:p.jsx(fc,{className:"h-3 w-3"})})]},re))}),p.jsx("p",{className:"text-xs text-muted",children:"Add tags one by one, press Enter or click Add"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium",children:"Content"}),p.jsx(kU,{content:u.content,onChange:B=>f(re=>({...re,content:B}))})]})]}),p.jsxs("div",{className:"pt-6 border-t border-border flex justify-end gap-4",children:[p.jsx(ke,{type:"button",variant:"outline",onClick:()=>e("/admin"),children:"Cancel"}),p.jsxs(ke,{type:"submit",isLoading:v,disabled:v,children:[!v&&p.jsx(Gk,{className:"mr-2 h-4 w-4"}),v?"Saving...":l?"Update Post":"Create Post"]})]})]})]})};function EU(){const{pathname:t}=ar();return T.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const NU=({children:t})=>{const{user:e,loading:n}=si(),[r,i]=T.useState(!1),[o,l]=T.useState(!0);return T.useEffect(()=>{n||(async()=>{if(!e||!e.email){i(!1),l(!1);return}try{const f=await mr.checkAccess(e.email);f.success&&f.data.hasAccess?i(!0):i(!1)}catch(f){console.error("Error checking admin access:",f),i(!1)}finally{l(!1)}})()},[e,n]),n||o?p.jsx("div",{className:"flex justify-center items-center min-h-screen",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-accent"})}):e?r?p.jsx(yL,{children:t}):p.jsx("div",{className:"flex flex-col justify-center items-center min-h-screen p-4",children:p.jsxs("div",{className:"text-center max-w-md",children:[p.jsx("div",{className:"mb-6",children:p.jsx("svg",{className:"w-20 h-20 mx-auto text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),p.jsx("h1",{className:"text-3xl font-serif font-bold mb-4",children:"Access Denied"}),p.jsx("p",{className:"text-muted mb-6",children:"You don't have permission to access this page. This area is restricted to administrators, moderators, and editors only."}),p.jsx("p",{className:"text-sm text-muted mb-6",children:"If you believe you should have access, please contact the site administrator."}),p.jsx("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-accent text-white rounded-lg hover:bg-accent-hover transition-colors",children:"Return to Home"})]})}):p.jsx(Pw,{to:"/login",replace:!0})};function CU(){return p.jsx(rO,{children:p.jsx(c3,{children:p.jsxs(sL,{children:[p.jsx(EU,{}),p.jsxs(wM,{children:[p.jsxs(Ft,{path:"/",element:p.jsx(nL,{}),children:[p.jsx(Ft,{index:!0,element:p.jsx(iL,{})}),p.jsx(Ft,{path:"article",element:p.jsx(aL,{})}),p.jsx(Ft,{path:"article/:id",element:p.jsx(oL,{})}),p.jsx(Ft,{path:"about",element:p.jsx(cL,{})}),p.jsx(Ft,{path:"profile",element:p.jsx(dL,{})}),p.jsx(Ft,{path:"login",element:p.jsx(uL,{})}),p.jsx(Ft,{path:"terms",element:p.jsx(hL,{})}),p.jsx(Ft,{path:"privacy",element:p.jsx(pL,{})}),p.jsx(Ft,{path:"cookies",element:p.jsx(mL,{})})]}),p.jsxs(Ft,{path:"/admin",element:p.jsx(NU,{children:p.jsx(gL,{})}),children:[p.jsx(Ft,{index:!0,element:p.jsx(vL,{})}),p.jsx(Ft,{path:"new",element:p.jsx(vw,{})}),p.jsx(Ft,{path:"edit/:id",element:p.jsx(vw,{})})]}),p.jsx(Ft,{path:"*",element:p.jsx(fL,{})})]})]})})})}kA.createRoot(document.getElementById("root")).render(p.jsx(T.StrictMode,{children:p.jsx(GM,{children:p.jsx(CU,{})})}));
